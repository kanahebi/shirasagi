function sprintf(){var t=sprintf.arguments,e=t.length;if(0==e)return"";var o,i,r,n="",s=t[0],a=s.length;o=0;for(var p,l,h=1,u=0,c=0;a>c;c++){var f=s.charAt(c);switch(u){case 0:"%"==f?(p=f,u=1,l=""):n+=f;break;case 1:if("%"==f){n+=f,u=0;break}switch(h>=e&&(t[e++]=""),i=0,r=-1,f){case"-":o|=1,u=1;break;case"+":o|=2,u=1;break;case"0":o|=4,u=2;break;case" ":o|=8,u=1;break;case"#":o|=16,u=1;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=parseInt(f),u=2;break;case"-":o=1,u=2;break;case".":i="",r=0,u=3;break;case"d":n+=toInteger(t[h],o,i,r),h++,u=0;break;case"f":n+=toFloatingPoint(t[h],o,i,6),h++,u=0;break;case"e":n+=toExponential(t[h],o,i,6,"e"),h++,u=0;break;case"E":n+=toExponential(t[h],o,i,6,"E"),h++,u=0;break;case"s":n+=t[h],h++,u=0;break;default:n+=l+f,u=0}break;case 2:switch(f){case".":r=0,u=3;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=10*i+parseInt(f),u=2;break;case"d":n+=toInteger(t[h],o,i,r),h++,u=0;break;case"f":n+=toFloatingPoint(t[h],o,i,6),h++,u=0;break;case"e":n+=toExponential(t[h],o,i,6,"e"),h++,u=0;break;case"E":n+=toExponential(t[h],o,i,6,"E"),h++,u=0;break;case"s":n+=toFormatString(t[h],i,r),h++,u=0;break;default:n+=l+f,u=0}break;case 3:switch(f){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=10*r+parseInt(f);break;case"d":n+=toInteger(t[h],o,i,r),h++,u=0;break;case"f":n+=toFloatingPoint(t[h],o,i,r),h++,u=0;break;case"e":n+=toExponential(t[h],o,i,r,"e"),h++,u=0;break;case"E":n+=toExponential(t[h],o,i,r,"E"),h++,u=0;break;case"s":n+=toFormatString(t[h],i,r),h++,u=0;break;default:n+=l+f,u=0}break;default:return"error"}u&&(l+=f)}return n}function toInteger(t,e,o,i){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var r=t.toString();if(t>-1&&1>t)r="0";else{0>t&&(r=r.substring(1));var n=r.indexOf("e");if(-1!=n){var s=parseInt(r.substring(n+2)),a=r.indexOf(".");for(-1==a?(r=r.substring(0,n)+"000000000000000000000",s-=21):(r=r.substring(0,a)+r.substring(a+1,n)+"00000",s-=r.length-a);s;s--)r+="0"}else{var a=r.indexOf(".");-1!=a&&(r=r.substring(0,a))}}var p=r.length;if(i>p){for(var l="0",h=i-p;h;h--)r=l+r;p=i}return ProcFlag(r,e,o-p,t>=0)}function toFloatingPoint(t,e,o,i){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var r=t>=0;return r||(t=-t),str=toFloatingPoint2(t,e,i),ProcFlag(str,e,o-str.length,r)}function toFloatingPoint2(t,e,o){var i=t.toString(),r=i.indexOf("e");if(-1!=r){var n=parseInt(i.substring(r+1));if(n>0){var s=i.indexOf(".");for(-1==s?(i=i.substring(0,r)+"000000000000000000000",n-=21):(i=i.charAt(0)+i.substring(2,r)+"00000",n-=i.length-1);n;n--)i+="0"}else{var a=n+o;if(-1>a)i="0";else if(a>=0){i=i.substring(0,r);var s=i.indexOf(".");for(-1!=s&&(i=i.charAt(0)+i.substring(2,r)),i="000000"+i,n+=7;n;n++)i="0"+i;i="0."+i}else{var p=parseFloat(i.substring(0,r));if(p>5){i="0.00000";for(var l=n+7;l;l++)i+="0";i+="1"}else i="0"}}}var h=i.length,s=i.indexOf(".");if(-1!=s){var u=h-s-1;if(u>o){var p=parseFloat(i.charAt(s+o+1)+"."+i.substring(s+o+2));if(p>5){var l;if(1>t){for(l=2;"0"==i.charAt(l);)l++;p=(parseInt(i.substring(l,o+2))+1).toString(),i=p.length>o+2-l?2==l?"1."+p.substring(1):i.substring(0,l-1)+p:i.substring(0,l)+p}else p=(parseInt(i.substring(0,s)+i.substring(s+1,s+o+1))+1).toString(),i=p.length>s+o?p.substring(0,s+1)+"."+p.substring(s+1):p.substring(0,s)+"."+p.substring(s)}else i=i.substring(0,o?s+o+1:s)}else if(o>u)for(var l=o-u;l;l--)i+="0"}else if(o){i+=".0";for(var l=o-1;l;l--)i+="0"}return i}function toExponential(t,e,o,i,r){"number"!=typeof t&&("string"==typeof t?(t=parseFloat(t),isNaN(t)&&(t=0)):t=0);var n=t>=0;n||(t=-t);var s,a=t.toString(),p=a.indexOf("."),l=a.indexOf("e"),h=((-1!=l)<<1)+(-1!=p);if(0==h)(s=a.length-1)&&(a=a.charAt(0)+"."+a.substring(p=1));else if(1==h)if(t>10)s=p-1,a=a.substring(0,1)+"."+a.substring(1,p)+a.substring(p+1),p=1;else if(t>1)s=0;else{for(var u=2;;u++)if("0"!=a.charAt(u)){s=1-u,a=a.charAt(u)+"."+a.substring(u+1);break}p=1}else s=parseInt(a.substring(l+1)),a=a.substring(0,l);return a=toFloatingPoint2(parseFloat(a),e,i),a+=s>=0?r+(10>s?"+0":"+")+s:r+(s>-10?"-0"+-s:s),a=ProcFlag(a,e,o-a.length,n)}function toFormatString(t,e,o){"string"!=typeof t&&(t=t.toString());var i=t.length;if(o>=0&&i>o&&(t=t.substring(0,o),i=o),e>i)for(var r=" ",n=e-i;n;n--)t=r+t;return t}function ProcFlag(t,e,o,i){var r=1&e,n=2&e,s=8&e;if(s&&o--,o-=!i+n>0,(4&e)>0&&!r){if(o>0)for(var a="0",p=o;p;p--)t=a+t;i?n&&(t="+"+t):t="-"+t}else{i?n&&(t="+"+t):t="-"+t;var a=" ";if(o>0){var a=" ";if(r)for(var p=o;p;p--)t+=a;else for(var p=o;p;p--)t=a+t}}return s&&(t=" "+t),t}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Uo.apply(null,arguments)}function e(t){Uo=t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var o,i=[];for(o=0;o<t.length;++o)i.push(e(t[o],o));return i}function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var o in e)n(e,o)&&(t[o]=e[o]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,o,i){return Tt(t,e,o,i,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(t){return null==t._pf&&(t._pf=p()),t._pf}function h(t){if(null==t._isValid){var e=l(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function u(t){var e=a(NaN);return null!=t?s(l(e),t):l(e).userInvalidated=!0,e}function c(t){return void 0===t}function f(t,e){var o,i,r;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=l(e)),c(e._locale)||(t._locale=e._locale),Vo.length>0)for(o in Vo)i=Vo[o],r=e[i],c(r)||(t[i]=r);return t}function d(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),zo===!1&&(zo=!0,t.updateOffset(this),zo=!1)}function y(t){return t instanceof d||null!=t&&null!=t._isAMomentObject}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t){var e=+t,o=0;return 0!==e&&isFinite(e)&&(o=g(e)),o}function m(t,e,o){var i,r=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(o&&t[i]!==e[i]||!o&&v(t[i])!==v(e[i]))&&s++;return s+n}function b(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function S(t){for(var e,o,i,r,n=0;n<t.length;){for(r=w(t[n]).split("-"),e=r.length,o=w(t[n+1]),o=o?o.split("-"):null;e>0;){if(i=x(r.slice(0,e).join("-")))return i;if(o&&o.length>=e&&m(r,o,!0)>=e-1)break;e--}n++}return null}function x(t){var e=null;if(!Xo[t]&&!c(module)&&module&&module.exports)try{e=Wo._abbr,require("./locale/"+t),E(e)}catch(o){}return Xo[t]}function E(t,e){var o;return t&&(o=c(e)?T(t):C(t,e),o&&(Wo=o)),Wo._abbr}function C(t,e){return null!==e?(e.abbr=t,Xo[t]=Xo[t]||new b,Xo[t].set(e),E(t),Xo[t]):(delete Xo[t],null)}function T(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Wo;if(!o(t)){if(e=x(t))return e;t=[t]}return S(t)}function M(t,e){var o=t.toLowerCase();Ko[o]=Ko[o+"s"]=Ko[e]=t}function R(t){return"string"==typeof t?Ko[t]||Ko[t.toLowerCase()]:void 0}function D(t){var e,o,i={};for(o in t)n(t,o)&&(e=R(o),e&&(i[e]=t[o]));return i}function P(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(e,o){return function(i){return null!=i?(A(this,e,i),t.updateOffset(this,o),this):I(this,e)}}function I(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function A(t,e,o){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](o)}function j(t,e){var o;if("object"==typeof t)for(o in t)this.set(o,t[o]);else if(t=R(t),P(this[t]))return this[t](e);return this}function L(t,e,o){var i=""+Math.abs(t),r=e-i.length,n=t>=0;return(n?o?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function F(t,e,o,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Jo[t]=r),e&&(Jo[e[0]]=function(){return L(r.apply(this,arguments),e[1],e[2])}),o&&(Jo[o]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function _(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function H(t){var e,o,i=t.match($o);for(e=0,o=i.length;o>e;e++)Jo[i[e]]?i[e]=Jo[i[e]]:i[e]=_(i[e]);return function(r){var n="";for(e=0;o>e;e++)n+=i[e]instanceof Function?i[e].call(r,t):i[e];return n}}function N(t,e){return t.isValid()?(e=G(e,t.localeData()),qo[e]=qo[e]||H(e),qo[e](t)):t.localeData().invalidDate()}function G(t,e){function o(t){return e.longDateFormat(t)||t}var i=5;for(Zo.lastIndex=0;i>=0&&Zo.test(t);)t=t.replace(Zo,o),Zo.lastIndex=0,i-=1;return t}function O(t,e,o){gi[t]=P(e)?e:function(t){return t&&o?o:e}}function B(t,e){return n(gi,t)?gi[t](e._strict,e._locale):new RegExp(Y(t))}function Y(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,o,i,r){return e||o||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(t,e){var o,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,o){o[e]=v(t)}),o=0;o<t.length;o++)vi[t[o]]=i}function W(t,e){U(t,function(t,o,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function V(t,e,o){null!=e&&n(vi,t)&&vi[t](e,o._a,o,t)}function z(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function X(t,e){return o(this._months)?this._months[t.month()]:this._months[Ri.test(e)?"format":"standalone"][t.month()]}function K(t,e){return o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ri.test(e)?"format":"standalone"][t.month()]}function $(t,e,o){var i,r,n;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=a([2e3,i]),o&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),o||this._monthsParse[i]||(n="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(n.replace(".",""),"i")),o&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(o&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!o&&this._monthsParse[i].test(t))return i}}function Z(t,e){var o;return t.isValid()?"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(o=Math.min(t.date(),z(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,o),t):t}function q(e){return null!=e?(Z(this,e),t.updateOffset(this,!0),this):I(this,"Month")}function J(){return z(this.year(),this.month())}function Q(t){var e,o=t._a;return o&&-2===l(t).overflow&&(e=o[bi]<0||o[bi]>11?bi:o[wi]<1||o[wi]>z(o[mi],o[bi])?wi:o[Si]<0||o[Si]>24||24===o[Si]&&(0!==o[xi]||0!==o[Ei]||0!==o[Ci])?Si:o[xi]<0||o[xi]>59?xi:o[Ei]<0||o[Ei]>59?Ei:o[Ci]<0||o[Ci]>999?Ci:-1,l(t)._overflowDayOfYear&&(mi>e||e>wi)&&(e=wi),l(t)._overflowWeeks&&-1===e&&(e=Ti),l(t)._overflowWeekday&&-1===e&&(e=Mi),l(t).overflow=e),t}function tt(e){t.suppressDeprecationWarnings===!1&&!c(console)&&console.warn&&console.warn("Deprecation warning: "+e)}function et(t,e){var o=!0;return s(function(){return o&&(tt(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),o=!1),e.apply(this,arguments)},e)}function ot(t,e){ki[t]||(tt(e),ki[t]=!0)}function it(t){var e,o,i,r,n,s,a=t._i,p=Ii.exec(a)||Ai.exec(a);if(p){for(l(t).iso=!0,e=0,o=Li.length;o>e;e++)if(Li[e][1].exec(p[1])){r=Li[e][0],i=Li[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(p[3]){for(e=0,o=Fi.length;o>e;e++)if(Fi[e][1].exec(p[3])){n=(p[2]||" ")+Fi[e][0];break}if(null==n)return void(t._isValid=!1)}if(!i&&null!=n)return void(t._isValid=!1);if(p[4]){if(!ji.exec(p[4]))return void(t._isValid=!1);s="Z"}t._f=r+(n||"")+(s||""),mt(t)}else t._isValid=!1}function rt(e){var o=_i.exec(e._i);return null!==o?void(e._d=new Date(+o[1])):(it(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function nt(t,e,o,i,r,n,s){var a=new Date(t,e,o,i,r,n,s);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function at(t){return pt(t)?366:365}function pt(t){return t%4===0&&t%100!==0||t%400===0}function lt(){return pt(this.year())}function ht(t,e,o){var i=7+e-o,r=(7+st(t,0,i).getUTCDay()-e)%7;return-r+i-1}function ut(t,e,o,i,r){var n,s,a=(7+o-i)%7,p=ht(t,i,r),l=1+7*(e-1)+a+p;return 0>=l?(n=t-1,s=at(n)+l):l>at(t)?(n=t+1,s=l-at(t)):(n=t,s=l),{year:n,dayOfYear:s}}function ct(t,e,o){var i,r,n=ht(t.year(),e,o),s=Math.floor((t.dayOfYear()-n-1)/7)+1;return 1>s?(r=t.year()-1,i=s+ft(r,e,o)):s>ft(t.year(),e,o)?(i=s-ft(t.year(),e,o),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function ft(t,e,o){var i=ht(t,e,o),r=ht(t+1,e,o);return(at(t)-i+r)/7}function dt(t,e,o){return null!=t?t:null!=e?e:o}function yt(e){var o=new Date(t.now());return e._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()]}function gt(t){var e,o,i,r,n=[];if(!t._d){for(i=yt(t),t._w&&null==t._a[wi]&&null==t._a[bi]&&vt(t),t._dayOfYear&&(r=dt(t._a[mi],i[mi]),t._dayOfYear>at(r)&&(l(t)._overflowDayOfYear=!0),o=st(r,0,t._dayOfYear),t._a[bi]=o.getUTCMonth(),t._a[wi]=o.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=n[e]=i[e];for(;7>e;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Si]&&0===t._a[xi]&&0===t._a[Ei]&&0===t._a[Ci]&&(t._nextDay=!0,t._a[Si]=0),t._d=(t._useUTC?st:nt).apply(null,n),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Si]=24)}}function vt(t){var e,o,i,r,n,s,a,p;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(n=1,s=4,o=dt(e.GG,t._a[mi],ct(Mt(),1,4).year),i=dt(e.W,1),r=dt(e.E,1),(1>r||r>7)&&(p=!0)):(n=t._locale._week.dow,s=t._locale._week.doy,o=dt(e.gg,t._a[mi],ct(Mt(),n,s).year),i=dt(e.w,1),null!=e.d?(r=e.d,(0>r||r>6)&&(p=!0)):null!=e.e?(r=e.e+n,(e.e<0||e.e>6)&&(p=!0)):r=n),1>i||i>ft(o,n,s)?l(t)._overflowWeeks=!0:null!=p?l(t)._overflowWeekday=!0:(a=ut(o,i,r,n,s),t._a[mi]=a.year,t._dayOfYear=a.dayOfYear)}function mt(e){if(e._f===t.ISO_8601)return void it(e);e._a=[],l(e).empty=!0;var o,i,r,n,s,a=""+e._i,p=a.length,h=0;for(r=G(e._f,e._locale).match($o)||[],o=0;o<r.length;o++)n=r[o],i=(a.match(B(n,e))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&l(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),h+=i.length),Jo[n]?(i?l(e).empty=!1:l(e).unusedTokens.push(n),V(n,i,e)):e._strict&&!i&&l(e).unusedTokens.push(n);l(e).charsLeftOver=p-h,a.length>0&&l(e).unusedInput.push(a),l(e).bigHour===!0&&e._a[Si]<=12&&e._a[Si]>0&&(l(e).bigHour=void 0),e._a[Si]=bt(e._locale,e._a[Si],e._meridiem),gt(e),Q(e)}function bt(t,e,o){var i;return null==o?e:null!=t.meridiemHour?t.meridiemHour(e,o):null!=t.isPM?(i=t.isPM(o),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function wt(t){var e,o,i,r,n;if(0===t._f.length)return l(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)n=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],mt(e),h(e)&&(n+=l(e).charsLeftOver,n+=10*l(e).unusedTokens.length,l(e).score=n,(null==i||i>n)&&(i=n,o=e));s(t,o||e)}function St(t){if(!t._d){var e=D(t._i);t._a=r([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),gt(t)}}function xt(t){var e=new d(Q(Et(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Et(t){var e=t._i,r=t._f;return t._locale=t._locale||T(t._l),null===e||void 0===r&&""===e?u({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new d(Q(e)):(o(r)?wt(t):r?mt(t):i(e)?t._d=e:Ct(t),h(t)||(t._d=null),t))}function Ct(e){var n=e._i;void 0===n?e._d=new Date(t.now()):i(n)?e._d=new Date(+n):"string"==typeof n?rt(e):o(n)?(e._a=r(n.slice(0),function(t){return parseInt(t,10)}),gt(e)):"object"==typeof n?St(e):"number"==typeof n?e._d=new Date(n):t.createFromInputFallback(e)}function Tt(t,e,o,i,r){var n={};return"boolean"==typeof o&&(i=o,o=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=r,n._l=o,n._i=t,n._f=e,n._strict=i,xt(n)}function Mt(t,e,o,i){return Tt(t,e,o,i,!1)}function Rt(t,e){var i,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Mt();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function Dt(){var t=[].slice.call(arguments,0);return Rt("isBefore",t)}function Pt(){var t=[].slice.call(arguments,0);return Rt("isAfter",t)}function kt(t){var e=D(t),o=e.year||0,i=e.quarter||0,r=e.month||0,n=e.week||0,s=e.day||0,a=e.hour||0,p=e.minute||0,l=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*l+6e4*p+36e5*a,this._days=+s+7*n,this._months=+r+3*i+12*o,this._data={},this._locale=T(),this._bubble()}function It(t){return t instanceof kt}function At(t,e){F(t,0,0,function(){var t=this.utcOffset(),o="+";return 0>t&&(t=-t,o="-"),o+L(~~(t/60),2)+e+L(~~t%60,2)})}function jt(t,e){var o=(e||"").match(t)||[],i=o[o.length-1]||[],r=(i+"").match(Bi)||["-",0,0],n=+(60*r[1])+v(r[2]);return"+"===r[0]?n:-n}function Lt(e,o){var r,n;return o._isUTC?(r=o.clone(),n=(y(e)||i(e)?+e:+Mt(e))-+r,r._d.setTime(+r._d+n),t.updateOffset(r,!1),r):Mt(e).local()}function Ft(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function _t(e,o){var i,r=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=jt(fi,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&o&&(i=Ft(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!o||this._changeInProgress?Jt(this,Xt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ft(this):null!=e?this:NaN}function Ht(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Nt(t){return this.utcOffset(0,t)}function Gt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ft(this),"m")),this}function Ot(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(jt(ci,this._i)),this}function Bt(t){return this.isValid()?(t=t?Mt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Yt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ut(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),t=Et(t),t._a){var e=t._isUTC?a(t._a):Mt(t._a);this._isDSTShifted=this.isValid()&&m(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wt(){return this.isValid()?!this._isUTC:!1}function Vt(){return this.isValid()?this._isUTC:!1}function zt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Xt(t,e){var o,i,r,s=t,a=null;return It(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=Yi.exec(t))?(o="-"===a[1]?-1:1,s={y:0,d:v(a[wi])*o,h:v(a[Si])*o,m:v(a[xi])*o,s:v(a[Ei])*o,ms:v(a[Ci])*o}):(a=Ui.exec(t))?(o="-"===a[1]?-1:1,s={y:Kt(a[2],o),M:Kt(a[3],o),d:Kt(a[4],o),h:Kt(a[5],o),m:Kt(a[6],o),s:Kt(a[7],o),w:Kt(a[8],o)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=Zt(Mt(s.from),Mt(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),i=new kt(s),It(t)&&n(t,"_locale")&&(i._locale=t._locale),i}function Kt(t,e){var o=t&&parseFloat(t.replace(",","."));return(isNaN(o)?0:o)*e}function $t(t,e){var o={milliseconds:0,months:0};return o.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(o.months,"M").isAfter(e)&&--o.months,o.milliseconds=+e-+t.clone().add(o.months,"M"),o}function Zt(t,e){var o;return t.isValid()&&e.isValid()?(e=Lt(e,t),t.isBefore(e)?o=$t(t,e):(o=$t(e,t),o.milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0}}function qt(t,e){return function(o,i){var r,n;return null===i||isNaN(+i)||(ot(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),n=o,o=i,i=n),o="string"==typeof o?+o:o,r=Xt(o,i),Jt(this,r,t),this}}function Jt(e,o,i,r){var n=o._milliseconds,s=o._days,a=o._months;e.isValid()&&(r=null==r?!0:r,n&&e._d.setTime(+e._d+n*i),s&&A(e,"Date",I(e,"Date")+s*i),a&&Z(e,I(e,"Month")+a*i),r&&t.updateOffset(e,s||a))}function Qt(t,e){var o=t||Mt(),i=Lt(o,this).startOf("day"),r=this.diff(i,"days",!0),n=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",s=e&&(P(e[n])?e[n]():e[n]);return this.format(s||this.localeData().calendar(n,this,Mt(o)))}function te(){return new d(this)}function ee(t,e){var o=y(t)?t:Mt(t);return this.isValid()&&o.isValid()?(e=R(c(e)?"millisecond":e),"millisecond"===e?+this>+o:+o<+this.clone().startOf(e)):!1}function oe(t,e){var o=y(t)?t:Mt(t);return this.isValid()&&o.isValid()?(e=R(c(e)?"millisecond":e),"millisecond"===e?+o>+this:+this.clone().endOf(e)<+o):!1}function ie(t,e,o){return this.isAfter(t,o)&&this.isBefore(e,o)}function re(t,e){var o,i=y(t)?t:Mt(t);return this.isValid()&&i.isValid()?(e=R(e||"millisecond"),"millisecond"===e?+this===+i:(o=+i,+this.clone().startOf(e)<=o&&o<=+this.clone().endOf(e))):!1}function ne(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function se(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ae(t,e,o){var i,r,n,s;return this.isValid()?(i=Lt(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=R(e),"year"===e||"month"===e||"quarter"===e?(s=pe(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(n=this-i,s="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-r)/864e5:"week"===e?(n-r)/6048e5:n),o?s:g(s)):NaN):NaN}function pe(t,e){var o,i,r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return 0>e-n?(o=t.clone().add(r-1,"months"),i=(e-n)/(n-o)):(o=t.clone().add(r+1,"months"),i=(e-n)/(o-n)),-(r+i)}function le(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function he(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?P(Date.prototype.toISOString)?this.toDate().toISOString():N(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ue(e){var o=N(this,e||t.defaultFormat);return this.localeData().postformat(o)}function ce(t,e){return this.isValid()&&(y(t)&&t.isValid()||Mt(t).isValid())?Xt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fe(t){return this.from(Mt(),t)}function de(t,e){return this.isValid()&&(y(t)&&t.isValid()||Mt(t).isValid())?Xt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ye(t){return this.to(Mt(),t)}function ge(t){var e;return void 0===t?this._locale._abbr:(e=T(t),null!=e&&(this._locale=e),this)}function ve(){return this._locale}function me(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function be(t){return t=R(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function we(){return+this._d-6e4*(this._offset||0)}function Se(){return Math.floor(+this/1e3)}function xe(){return this._offset?new Date(+this):this._d}function Ee(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ce(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Te(){return this.isValid()?this.toISOString():"null"}function Me(){return h(this)}function Re(){return s({},l(this))}function De(){return l(this).overflow}function Pe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ke(t,e){F(0,[t,t.length],0,e)}function Ie(t){return Fe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ae(t){return Fe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function je(){return ft(this.year(),1,4)}function Le(){var t=this.localeData()._week;return ft(this.year(),t.dow,t.doy)}function Fe(t,e,o,i,r){var n;return null==t?ct(this,i,r).year:(n=ft(t,i,r),e>n&&(e=n),_e.call(this,t,e,o,i,r))}function _e(t,e,o,i,r){var n=ut(t,e,o,i,r),s=st(n.year,0,n.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function He(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ne(t){return ct(t,this._week.dow,this._week.doy).week}function Ge(){return this._week.dow}function Oe(){return this._week.doy}function Be(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ye(t){var e=ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ue(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function We(t,e){return o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function Ve(t){return this._weekdaysShort[t.day()]}function ze(t){return this._weekdaysMin[t.day()]}function Xe(t,e,o){var i,r,n;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=Mt([2e3,1]).day(i),o&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(n="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(n.replace(".",""),"i")),o&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(o&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(o&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!o&&this._weekdaysParse[i].test(t))return i}}function Ke(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ue(t,this.localeData()),this.add(t-e,"d")):e}function $e(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ze(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function qe(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Je(){return this.hours()%12||12}function Qe(t,e){F(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function to(t,e){return e._meridiemParse}function eo(t){return"p"===(t+"").toLowerCase().charAt(0)}function oo(t,e,o){return t>11?o?"pm":"PM":o?"am":"AM"}function io(t,e){e[Ci]=v(1e3*("0."+t))}function ro(){return this._isUTC?"UTC":""}function no(){return this._isUTC?"Coordinated Universal Time":""}function so(t){return Mt(1e3*t)}function ao(){return Mt.apply(null,arguments).parseZone()}function po(t,e,o){var i=this._calendar[t];return P(i)?i.call(e,o):i}function lo(t){var e=this._longDateFormat[t],o=this._longDateFormat[t.toUpperCase()];return e||!o?e:(this._longDateFormat[t]=o.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function ho(){return this._invalidDate}function uo(t){return this._ordinal.replace("%d",t)}function co(t){return t}function fo(t,e,o,i){var r=this._relativeTime[o];return P(r)?r(t,e,o,i):r.replace(/%d/i,t)}function yo(t,e){var o=this._relativeTime[t>0?"future":"past"];return P(o)?o(e):o.replace(/%s/i,e)}function go(t){var e,o;for(o in t)e=t[o],P(e)?this[o]=e:this["_"+o]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function vo(t,e,o,i){var r=T(),n=a().set(i,e);return r[o](n,t)}function mo(t,e,o,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return vo(t,e,o,r);var n,s=[];for(n=0;i>n;n++)s[n]=vo(t,n,o,r);return s}function bo(t,e){return mo(t,e,"months",12,"month")}function wo(t,e){return mo(t,e,"monthsShort",12,"month")}function So(t,e){return mo(t,e,"weekdays",7,"day")}function xo(t,e){return mo(t,e,"weekdaysShort",7,"day")}function Eo(t,e){return mo(t,e,"weekdaysMin",7,"day")}function Co(){var t=this._data;return this._milliseconds=fr(this._milliseconds),this._days=fr(this._days),this._months=fr(this._months),t.milliseconds=fr(t.milliseconds),t.seconds=fr(t.seconds),t.minutes=fr(t.minutes),t.hours=fr(t.hours),t.months=fr(t.months),t.years=fr(t.years),this}function To(t,e,o,i){var r=Xt(e,o);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Mo(t,e){return To(this,t,e,1)}function Ro(t,e){return To(this,t,e,-1)}function Do(t){return 0>t?Math.floor(t):Math.ceil(t)}function Po(){var t,e,o,i,r,n=this._milliseconds,s=this._days,a=this._months,p=this._data;return n>=0&&s>=0&&a>=0||0>=n&&0>=s&&0>=a||(n+=864e5*Do(Io(a)+s),s=0,a=0),p.milliseconds=n%1e3,t=g(n/1e3),p.seconds=t%60,e=g(t/60),p.minutes=e%60,o=g(e/60),p.hours=o%24,s+=g(o/24),r=g(ko(s)),a+=r,s-=Do(Io(r)),i=g(a/12),a%=12,p.days=s,p.months=a,p.years=i,this}function ko(t){return 4800*t/146097}function Io(t){return 146097*t/4800}function Ao(t){var e,o,i=this._milliseconds;if(t=R(t),"month"===t||"year"===t)return e=this._days+i/864e5,o=this._months+ko(e),"month"===t?o:o/12;switch(e=this._days+Math.round(Io(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function jo(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Lo(t){return function(){return this.as(t)}}function Fo(t){return t=R(t),this[t+"s"]()}function _o(t){return function(){return this._data[t]}}function Ho(){return g(this.days()/7)}function No(t,e,o,i,r){return r.relativeTime(e||1,!!o,t,i)}function Go(t,e,o){var i=Xt(t).abs(),r=Pr(i.as("s")),n=Pr(i.as("m")),s=Pr(i.as("h")),a=Pr(i.as("d")),p=Pr(i.as("M")),l=Pr(i.as("y")),h=r<kr.s&&["s",r]||1>=n&&["m"]||n<kr.m&&["mm",n]||1>=s&&["h"]||s<kr.h&&["hh",s]||1>=a&&["d"]||a<kr.d&&["dd",a]||1>=p&&["M"]||p<kr.M&&["MM",p]||1>=l&&["y"]||["yy",l];return h[2]=e,h[3]=+t>0,h[4]=o,No.apply(null,h)}function Oo(t,e){return void 0===kr[t]?!1:void 0===e?kr[t]:(kr[t]=e,!0)}function Bo(t){var e=this.localeData(),o=Go(this,!t,e);return t&&(o=e.pastFuture(+this,o)),e.postformat(o)}function Yo(){var t,e,o,i=Ir(this._milliseconds)/1e3,r=Ir(this._days),n=Ir(this._months);t=g(i/60),e=g(t/60),i%=60,t%=60,o=g(n/12),n%=12;var s=o,a=n,p=r,l=e,h=t,u=i,c=this.asSeconds();return c?(0>c?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(p?p+"D":"")+(l||h||u?"T":"")+(l?l+"H":"")+(h?h+"M":"")+(u?u+"S":""):"P0D"}var Uo,Wo,Vo=t.momentProperties=[],zo=!1,Xo={},Ko={},$o=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Zo=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qo={},Jo={},Qo=/\d/,ti=/\d\d/,ei=/\d{3}/,oi=/\d{4}/,ii=/[+-]?\d{6}/,ri=/\d\d?/,ni=/\d\d\d\d?/,si=/\d\d\d\d\d\d?/,ai=/\d{1,3}/,pi=/\d{1,4}/,li=/[+-]?\d{1,6}/,hi=/\d+/,ui=/[+-]?\d+/,ci=/Z|[+-]\d\d:?\d\d/gi,fi=/Z|[+-]\d\d(?::?\d\d)?/gi,di=/[+-]?\d+(\.\d{1,3})?/,yi=/[0-9]*(a[mn]\s?)?['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,gi={},vi={},mi=0,bi=1,wi=2,Si=3,xi=4,Ei=5,Ci=6,Ti=7,Mi=8;F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),F("MMMM",0,0,function(t){return this.localeData().months(this,t)}),M("month","M"),O("M",ri),O("MM",ri,ti),O("MMM",yi),O("MMMM",yi),U(["M","MM"],function(t,e){e[bi]=v(t)-1}),U(["MMM","MMMM"],function(t,e,o,i){var r=o._locale.monthsParse(t,i,o._strict);null!=r?e[bi]=r:l(o).invalidMonth=t});var Ri=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Di="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Pi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sept_Oct_Nov_Dec".split("_"),ki={};
t.suppressDeprecationWarnings=!1;var Ii=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ai=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ji=/Z|[+-]\d\d(?::?\d\d)?/,Li=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Fi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_i=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=et("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),M("year","y"),O("Y",ui),O("YY",ri,ti),O("YYYY",pi,oi),O("YYYYY",li,ii),O("YYYYYY",li,ii),U(["YYYYY","YYYYYY"],mi),U("YYYY",function(e,o){o[mi]=2===e.length?t.parseTwoDigitYear(e):v(e)}),U("YY",function(e,o){o[mi]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Hi=k("FullYear",!1);t.ISO_8601=function(){};var Ni=et("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Mt.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:u()}),Gi=et("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Mt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:u()}),Oi=Date.now||function(){return+new Date};At("Z",":"),At("ZZ",""),O("Z",fi),O("ZZ",fi),U(["Z","ZZ"],function(t,e,o){o._useUTC=!0,o._tzm=jt(fi,t)});var Bi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Yi=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ui=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xt.fn=kt.prototype;var Wi=qt(1,"add"),Vi=qt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var zi=et("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ke("gggg","weekYear"),ke("ggggg","weekYear"),ke("GGGG","isoWeekYear"),ke("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),O("G",ui),O("g",ui),O("GG",ri,ti),O("gg",ri,ti),O("GGGG",pi,oi),O("gggg",pi,oi),O("GGGGG",li,ii),O("ggggg",li,ii),W(["gggg","ggggg","GGGG","GGGGG"],function(t,e,o,i){e[i.substr(0,2)]=v(t)}),W(["gg","GG"],function(e,o,i,r){o[r]=t.parseTwoDigitYear(e)}),F("Q",0,"Qo","quarter"),M("quarter","Q"),O("Q",Qo),U("Q",function(t,e){e[bi]=3*(v(t)-1)}),F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),O("w",ri),O("ww",ri,ti),O("W",ri),O("WW",ri,ti),W(["w","ww","W","WW"],function(t,e,o,i){e[i.substr(0,1)]=v(t)});var Xi={dow:0,doy:6};F("D",["DD",2],"Do","date"),M("date","D"),O("D",ri),O("DD",ri,ti),O("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),U(["D","DD"],wi),U("Do",function(t,e){e[wi]=v(t.match(ri)[0],10)});var Ki=k("Date",!0);F("d",0,"do","day"),F("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),F("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),F("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),O("d",ri),O("e",ri),O("E",ri),O("dd",yi),O("ddd",yi),O("dddd",yi),W(["dd","ddd","dddd"],function(t,e,o,i){var r=o._locale.weekdaysParse(t,i,o._strict);null!=r?e.d=r:l(o).invalidWeekday=t}),W(["d","e","E"],function(t,e,o,i){e[i]=v(t)});var $i="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Zi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),qi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");F("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),O("DDD",ai),O("DDDD",ei),U(["DDD","DDDD"],function(t,e,o){o._dayOfYear=v(t)}),F("H",["HH",2],0,"hour"),F("h",["hh",2],0,Je),F("hmm",0,0,function(){return""+Je.apply(this)+L(this.minutes(),2)}),F("hmmss",0,0,function(){return""+Je.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),F("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),F("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),Qe("a",!0),Qe("A",!1),M("hour","h"),O("a",to),O("A",to),O("H",ri),O("h",ri),O("HH",ri,ti),O("hh",ri,ti),O("hmm",ni),O("hmmss",si),O("Hmm",ni),O("Hmmss",si),U(["H","HH"],Si),U(["a","A"],function(t,e,o){o._isPm=o._locale.isPM(t),o._meridiem=t}),U(["h","hh"],function(t,e,o){e[Si]=v(t),l(o).bigHour=!0}),U("hmm",function(t,e,o){var i=t.length-2;e[Si]=v(t.substr(0,i)),e[xi]=v(t.substr(i)),l(o).bigHour=!0}),U("hmmss",function(t,e,o){var i=t.length-4,r=t.length-2;e[Si]=v(t.substr(0,i)),e[xi]=v(t.substr(i,2)),e[Ei]=v(t.substr(r)),l(o).bigHour=!0}),U("Hmm",function(t,e,o){var i=t.length-2;e[Si]=v(t.substr(0,i)),e[xi]=v(t.substr(i))}),U("Hmmss",function(t,e,o){var i=t.length-4,r=t.length-2;e[Si]=v(t.substr(0,i)),e[xi]=v(t.substr(i,2)),e[Ei]=v(t.substr(r))});var Ji=/[ap]\.?m?\.?/i,Qi=k("Hours",!0);F("m",["mm",2],0,"minute"),M("minute","m"),O("m",ri),O("mm",ri,ti),U(["m","mm"],xi);var tr=k("Minutes",!1);F("s",["ss",2],0,"second"),M("second","s"),O("s",ri),O("ss",ri,ti),U(["s","ss"],Ei);var er=k("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return 10*this.millisecond()}),F(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),F(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),F(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),F(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),F(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),O("S",ai,Qo),O("SS",ai,ti),O("SSS",ai,ei);var or;for(or="SSSS";or.length<=9;or+="S")O(or,hi);for(or="S";or.length<=9;or+="S")U(or,io);var ir=k("Milliseconds",!1);F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var rr=d.prototype;rr.add=Wi,rr.calendar=Qt,rr.clone=te,rr.diff=ae,rr.endOf=be,rr.format=ue,rr.from=ce,rr.fromNow=fe,rr.to=de,rr.toNow=ye,rr.get=j,rr.invalidAt=De,rr.isAfter=ee,rr.isBefore=oe,rr.isBetween=ie,rr.isSame=re,rr.isSameOrAfter=ne,rr.isSameOrBefore=se,rr.isValid=Me,rr.lang=zi,rr.locale=ge,rr.localeData=ve,rr.max=Gi,rr.min=Ni,rr.parsingFlags=Re,rr.set=j,rr.startOf=me,rr.subtract=Vi,rr.toArray=Ee,rr.toObject=Ce,rr.toDate=xe,rr.toISOString=he,rr.toJSON=Te,rr.toString=le,rr.unix=Se,rr.valueOf=we,rr.creationData=Pe,rr.year=Hi,rr.isLeapYear=lt,rr.weekYear=Ie,rr.isoWeekYear=Ae,rr.quarter=rr.quarters=He,rr.month=q,rr.daysInMonth=J,rr.week=rr.weeks=Be,rr.isoWeek=rr.isoWeeks=Ye,rr.weeksInYear=Le,rr.isoWeeksInYear=je,rr.date=Ki,rr.day=rr.days=Ke,rr.weekday=$e,rr.isoWeekday=Ze,rr.dayOfYear=qe,rr.hour=rr.hours=Qi,rr.minute=rr.minutes=tr,rr.second=rr.seconds=er,rr.millisecond=rr.milliseconds=ir,rr.utcOffset=_t,rr.utc=Nt,rr.local=Gt,rr.parseZone=Ot,rr.hasAlignedHourOffset=Bt,rr.isDST=Yt,rr.isDSTShifted=Ut,rr.isLocal=Wt,rr.isUtcOffset=Vt,rr.isUtc=zt,rr.isUTC=zt,rr.zoneAbbr=ro,rr.zoneName=no,rr.dates=et("dates accessor is deprecated. Use date instead.",Ki),rr.months=et("months accessor is deprecated. Use month instead",q),rr.years=et("years accessor is deprecated. Use year instead",Hi),rr.zone=et("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ht);var nr=rr,sr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ar={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},pr="Invalid date",lr="%d",hr=/\d{1,2}/,ur={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},cr=b.prototype;cr._calendar=sr,cr.calendar=po,cr._longDateFormat=ar,cr.longDateFormat=lo,cr._invalidDate=pr,cr.invalidDate=ho,cr._ordinal=lr,cr.ordinal=uo,cr._ordinalParse=hr,cr.preparse=co,cr.postformat=co,cr._relativeTime=ur,cr.relativeTime=fo,cr.pastFuture=yo,cr.set=go,cr.months=X,cr._months=Di,cr.monthsShort=K,cr._monthsShort=Pi,cr.monthsParse=$,cr.week=Ne,cr._week=Xi,cr.firstDayOfYear=Oe,cr.firstDayOfWeek=Ge,cr.weekdays=We,cr._weekdays=$i,cr.weekdaysMin=ze,cr._weekdaysMin=qi,cr.weekdaysShort=Ve,cr._weekdaysShort=Zi,cr.weekdaysParse=Xe,cr.isPM=eo,cr._meridiemParse=Ji,cr.meridiem=oo,E("en",{monthsParse:[/^jan/i,/^feb/i,/^mar/i,/^apr/i,/^may/i,/^jun/i,/^jul/i,/^aug/i,/^sep/i,/^oct/i,/^nov/i,/^dec/i],longMonthsParse:[/^january$/i,/^february$/i,/^march$/i,/^april$/i,/^may$/i,/^june$/i,/^july$/i,/^august$/i,/^september$/i,/^october$/i,/^november$/i,/^december$/i],shortMonthsParse:[/^jan$/i,/^feb$/i,/^mar$/i,/^apr$/i,/^may$/i,/^jun$/i,/^jul$/i,/^aug/i,/^sept?$/i,/^oct$/i,/^nov$/i,/^dec$/i],ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,o=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+o}}),t.lang=et("moment.lang is deprecated. Use moment.locale instead.",E),t.langData=et("moment.langData is deprecated. Use moment.localeData instead.",T);var fr=Math.abs,dr=Lo("ms"),yr=Lo("s"),gr=Lo("m"),vr=Lo("h"),mr=Lo("d"),br=Lo("w"),wr=Lo("M"),Sr=Lo("y"),xr=_o("milliseconds"),Er=_o("seconds"),Cr=_o("minutes"),Tr=_o("hours"),Mr=_o("days"),Rr=_o("months"),Dr=_o("years"),Pr=Math.round,kr={s:45,m:45,h:22,d:26,M:11},Ir=Math.abs,Ar=kt.prototype;Ar.abs=Co,Ar.add=Mo,Ar.subtract=Ro,Ar.as=Ao,Ar.asMilliseconds=dr,Ar.asSeconds=yr,Ar.asMinutes=gr,Ar.asHours=vr,Ar.asDays=mr,Ar.asWeeks=br,Ar.asMonths=wr,Ar.asYears=Sr,Ar.valueOf=jo,Ar._bubble=Po,Ar.get=Fo,Ar.milliseconds=xr,Ar.seconds=Er,Ar.minutes=Cr,Ar.hours=Tr,Ar.days=Mr,Ar.weeks=Ho,Ar.months=Rr,Ar.years=Dr,Ar.humanize=Bo,Ar.toISOString=Yo,Ar.toString=Yo,Ar.toJSON=Yo,Ar.locale=ge,Ar.localeData=ve,Ar.toIsoString=et("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yo),Ar.lang=zi,F("X",0,0,"unix"),F("x",0,0,"valueOf"),O("x",ui),O("X",di),U("X",function(t,e,o){o._d=new Date(1e3*parseFloat(t,10))}),U("x",function(t,e,o){o._d=new Date(v(t))}),t.version="2.11.0",e(Mt),t.fn=nr,t.min=Dt,t.max=Pt,t.now=Oi,t.utc=a,t.unix=so,t.months=bo,t.isDate=i,t.locale=E,t.invalid=u,t.duration=Xt,t.isMoment=y,t.weekdays=So,t.parseZone=ao,t.localeData=T,t.isDuration=It,t.monthsShort=wo,t.weekdaysMin=Eo,t.defineLocale=C,t.weekdaysShort=xo,t.normalizeUnits=R,t.relativeTimeThreshold=Oo,t.prototype=nr;var jr=t;return jr}),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function o(t){return Y(t,Ut)}function i(e){var o,i={views:e.views||{}};return t.each(e,function(e,r){"views"!=e&&(t.isPlainObject(r)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,Ut)?(o=null,t.each(r,function(t,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=r):(o||(o={}),o[t]=r)}),o&&(i[e]=o)):i[e]=r)}),i}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function n(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function s(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function p(e,o,i){var r=Math.floor(o/e.length),n=Math.floor(o-r*(e.length-1)),s=[],a=[],p=[],h=0;l(e),e.each(function(o,i){var l=o===e.length-1?n:r,u=t(i).outerHeight(!0);l>u?(s.push(i),a.push(u),p.push(t(i).height())):h+=u}),i&&(o-=h,r=Math.floor(o/s.length),n=Math.floor(o-r*(s.length-1))),t(s).each(function(e,o){var i=e===s.length-1?n:r,l=a[e],h=p[e],u=i-(l-h);i>l&&t(o).height(u)})}function l(t){t.height("")}function h(e){var o=0;return e.find("> span").each(function(e,i){var r=t(i).outerWidth();r>o&&(o=r)}),o++,e.width(o),o}function u(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(c(t),!1)}function c(t){t.height("").removeClass("fc-scroller")}function f(e){var o=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==o&&i.length?i:t(e[0].ownerDocument||document)}function d(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function y(t){var e=t.offset(),o=v(t),i=e.left+w(t,"border-left-width")+o.left,r=e.top+w(t,"border-top-width")+o.top;return{left:i,right:i+t[0].clientWidth,top:r,bottom:r+t[0].clientHeight}}function g(t){var e=t.offset(),o=e.left+w(t,"border-left-width")+w(t,"padding-left"),i=e.top+w(t,"border-top-width")+w(t,"padding-top");return{left:o,right:o+t.width(),top:i,bottom:i+t.height()}}function v(t){var e=t.innerWidth()-t[0].clientWidth,o={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return m()&&"rtl"==t.css("direction")?o.left=e:o.right=e,o}function m(){return null===Wt&&(Wt=b()),Wt}function b(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),o=e.children(),i=o.offset().left>e.offset().left;return e.remove(),i}function w(t,e){return parseFloat(t.css(e))||0}function S(t){return 1==t.which&&!t.ctrlKey}function x(t,e){var o={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return o.left<o.right&&o.top<o.bottom?o:!1}function E(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function C(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function T(t,e){return{left:t.left-e.left,top:t.top-e.top}}function M(e){var o,i,r=[],n=[];for("string"==typeof e?n=e.split(/\s*,\s*/):"function"==typeof e?n=[e]:t.isArray(e)&&(n=e),o=0;o<n.length;o++)i=n[o],"string"==typeof i?r.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&r.push({func:i});return r}function R(t,e,o){var i,r;for(i=0;i<o.length;i++)if(r=D(t,e,o[i]))return r;return 0}function D(t,e,o){return o.func?o.func(t,e):P(t[o.field],e[o.field])*(o.order||1)}function P(e,o){return e||o?null==o?-1:null==e?1:"string"===t.type(e)||"string"===t.type(o)?String(e).localeCompare(String(o)):e-o:0}function k(t,e){var o,i,r,n,s=t.start,a=t.end,p=e.start,l=e.end;return a>p&&l>s?(s>=p?(o=s.clone(),r=!0):(o=p.clone(),r=!1),l>=a?(i=a.clone(),n=!0):(i=l.clone(),n=!1),{start:o,end:i,isStart:r,isEnd:n}):void 0}function I(t,o){return e.duration({days:t.clone().stripTime().diff(o.clone().stripTime(),"days"),ms:t.time()-o.time()})}function A(t,o){return e.duration({days:t.clone().stripTime().diff(o.clone().stripTime(),"days")})}function j(t,o,i){return e.duration(Math.round(t.diff(o,i,!0)),i)}function L(t,e){var o,i,r;for(o=0;o<zt.length&&(i=zt[o],r=F(i,t,e),!(r>=1&&et(r)));o++);return i}function F(t,o,i){return null!=i?i.diff(o,t,!0):e.isDuration(o)?o.as(t):o.end.diff(o.start,t,!0)}function _(t,e,o){var i;return G(o)?(e-t)/o:(i=o.asMonths(),Math.abs(i)>=1&&et(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/o.asDays())}function H(t,e){var o,i;return G(t)||G(e)?t/e:(o=t.asMonths(),i=e.asMonths(),Math.abs(o)>=1&&et(o)&&Math.abs(i)>=1&&et(i)?o/i:t.asDays()/e.asDays())}function N(t,o){var i;return G(t)?e.duration(t*o):(i=t.asMonths(),Math.abs(i)>=1&&et(i)?e.duration({months:i*o}):e.duration({days:t.asDays()*o}))}function G(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function O(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function B(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function Y(t,e){var o,i,r,n,s,a,p={};if(e)for(o=0;o<e.length;o++){for(i=e[o],r=[],n=t.length-1;n>=0;n--)if(s=t[n][i],"object"==typeof s)r.unshift(s);else if(void 0!==s){p[i]=s;break}r.length&&(p[i]=Y(r))}for(o=t.length-1;o>=0;o--){a=t[o];for(i in a)i in p||(p[i]=a[i])}return p}function U(t){var e=function(){};return e.prototype=t,new e}function W(t,e){for(var o in t)z(t,o)&&(e[o]=t[o])}function V(t,e){var o,i,r=["constructor","toString","valueOf"];for(o=0;o<r.length;o++)i=r[o],t[i]!==Object.prototype[i]&&(e[i]=t[i])}function z(t,e){return Zt.call(t,e)}function X(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function K(e,o,i){if(t.isFunction(e)&&(e=[e]),e){var r,n;for(r=0;r<e.length;r++)n=e[r].apply(o,i)||n;return n}}function $(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function Z(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function q(t){return t.replace(/&.*?;/g,"")}function J(e){var o=[];return t.each(e,function(t,e){null!=e&&o.push(t+":"+e)}),o.join(";")}function Q(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tt(t,e){return t-e}function et(t){return t%1===0}function ot(t,e){var o=t[e];return function(){return o.apply(t,arguments)}}function it(t,e){var o,i,r,n,s=function(){var a=+new Date-n;e>a&&a>0?o=setTimeout(s,e-a):(o=null,t.apply(r,i),o||(r=i=null))};return function(){r=this,i=arguments,n=+new Date,o||(o=setTimeout(s,e))}}function rt(o,i,r){var n,s,a,p,l=o[0],h=1==o.length&&"string"==typeof l;return e.isMoment(l)?(p=e.apply(null,o),st(l,p)):O(l)||void 0===l?p=e.apply(null,o):(n=!1,s=!1,h?qt.test(l)?(l+="-01",o=[l],n=!0,s=!0):(a=Jt.exec(l))&&(n=!a[5],s=!0):t.isArray(l)&&(s=!0),p=i||n?e.utc.apply(e,o):e.apply(null,o),n?(p._ambigTime=!0,p._ambigZone=!0):r&&(s?p._ambigZone=!0:h&&(p.utcOffset?p.utcOffset(l):p.zone(l)))),p._fullCalendar=!0,p}function nt(t,o){var i,r,n=!1,s=!1,a=t.length,p=[];for(i=0;a>i;i++)r=t[i],e.isMoment(r)||(r=Bt.moment.parseZone(r)),n=n||r._ambigTime,s=s||r._ambigZone,p.push(r);for(i=0;a>i;i++)r=p[i],o||!n||r._ambigTime?s&&!r._ambigZone&&(p[i]=r.clone().stripZone()):p[i]=r.clone().stripTime();return p}function st(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function at(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function pt(t,e){return te.format.call(t,e)}function lt(t,e){return ht(t,yt(e))}function ht(t,e){var o,i="";for(o=0;o<e.length;o++)i+=ut(t,e[o]);return i}function ut(t,e){var o,i;return"string"==typeof e?e:(o=e.token)?ee[o]?ee[o](t):pt(t,o):e.maybe&&(i=ht(t,e.maybe),i.match(/[1-9]/))?i:""}function ct(t,e,o,i,r){var n;return t=Bt.moment.parseZone(t),e=Bt.moment.parseZone(e),n=(t.localeData||t.lang).call(t),o=n.longDateFormat(o)||o,i=i||" - ",ft(t,e,yt(o),i,r)}function ft(t,e,o,i,r){var n,s,a,p,l=t.clone().stripZone(),h=e.clone().stripZone(),u="",c="",f="",d="",y="";for(s=0;s<o.length&&(n=dt(t,e,l,h,o[s]),n!==!1);s++)u+=n;for(a=o.length-1;a>s&&(n=dt(t,e,l,h,o[a]),n!==!1);a--)c=n+c;for(p=s;a>=p;p++)f+=ut(t,o[p]),d+=ut(e,o[p]);return(f||d)&&(y=r?d+i+f:f+i+d),u+y+c}function dt(t,e,o,i,r){var n,s;return"string"==typeof r?r:(n=r.token)&&(s=oe[n.charAt(0)],s&&o.isSame(i,s))?pt(t,n):!1}function yt(t){return t in ie?ie[t]:ie[t]=gt(t)}function gt(t){for(var e,o=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?o.push(e[1]):e[2]?o.push({maybe:gt(e[2])}):e[3]?o.push({token:e[3]}):e[5]&&o.push(e[5]);return o}function vt(){}function mt(t,e){var o;return z(e,"constructor")&&(o=e.constructor),"function"!=typeof o&&(o=e.constructor=function(){t.apply(this,arguments)}),o.prototype=U(t.prototype),W(e,o.prototype),V(e,o.prototype),W(t,o),o}function bt(t,e){W(e.prototype||e,t.prototype)}function wt(t,e){return t||e?t&&e?t.component===e.component&&St(t,e)&&St(e,t):!1:!0}function St(t,e){for(var o in t)if(!/^(component|left|right|top|bottom)$/.test(o)&&t[o]!==e[o])return!1;return!0}function xt(t){var e=Ct(t);return"background"===e||"inverse-background"===e}function Et(t){return"inverse-background"===Ct(t)}function Ct(t){return $((t.source||{}).rendering,t.rendering)}function Tt(t){var e,o,i={};for(e=0;e<t.length;e++)o=t[e],(i[o._id]||(i[o._id]=[])).push(o);return i}function Mt(t,e){return t.start-e.start}function Rt(o){var i,r,n,s,a=Bt.dataAttrPrefix;return a&&(a+="-"),i=o.data(a+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},r=i.start,null==r&&(r=i.time),n=i.duration,s=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=o.data(a+"start")),null==r&&(r=o.data(a+"time")),null==n&&(n=o.data(a+"duration")),null==s&&(s=o.data(a+"stick")),r=null!=r?e.duration(r):null,n=null!=n?e.duration(n):null,s=Boolean(s),{eventProps:i,startTime:r,duration:n,stick:s}}function Dt(t,e){var o,i;for(o=0;o<e.length;o++)if(i=e[o],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function Pt(t,e){return t.leftCol-e.leftCol}function kt(t){var e,o,i,r=[];for(e=0;e<t.length;e++){for(o=t[e],i=0;i<r.length&&jt(o,r[i]).length;i++);o.level=i,(r[i]||(r[i]=[])).push(o)}return r}function It(t){var e,o,i,r,n;for(e=0;e<t.length;e++)for(o=t[e],i=0;i<o.length;i++)for(r=o[i],r.forwardSegs=[],n=e+1;n<t.length;n++)jt(r,t[n],r.forwardSegs)}function At(t){var e,o,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)o=i[e],At(o),r=Math.max(r,1+o.forwardPressure);t.forwardPressure=r}}function jt(t,e,o){o=o||[];for(var i=0;i<e.length;i++)Lt(t,e[i])&&o.push(e[i]);return o}function Lt(t,e){return t.bottom>e.top&&t.top<e.bottom}function Ft(o,i){function r(){z?a()&&(h(),p()):n()}function n(){X=O.theme?"ui":"fc",o.addClass("fc"),O.isRTL?o.addClass("fc-rtl"):o.addClass("fc-ltr"),O.theme?o.addClass("ui-widget"):o.addClass("fc-unthemed"),z=t("<div class='fc-view-container'/>").prependTo(o),W=G.header=new Nt(G,O),V=W.render(),V&&o.prepend(V),p(O.defaultView),O.handleWindowResize&&(Z=it(c,O.windowResizeDelay),t(window).resize(Z))}function s(){K&&K.removeElement(),W.removeElement(),z.remove(),o.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),Z&&t(window).unbind("resize",Z)}function a(){return o.is(":visible")}function p(e){ot++,K&&e&&K.type!==e&&(W.deactivateButton(K.type),j(),K.removeElement(),K=G.view=null),!K&&e&&(K=G.view=et[e]||(et[e]=G.instantiateView(e)),K.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(z)),W.activateButton(e)),K&&(q=K.massageCurrentDate(q),K.displaying&&q.isWithin(K.intervalStart,K.intervalEnd)||a()&&(K.display(q),L(),w(),S(),g())),L(),ot--}function l(t){return a()?(t&&u(),ot++,K.updateSize(!0),ot--,!0):void 0}function h(){a()&&u()}function u(){$="number"==typeof O.contentHeight?O.contentHeight:"number"==typeof O.height?O.height-(V?V.outerHeight(!0):0):Math.round(z.width()/Math.max(O.aspectRatio,.5))}function c(t){!ot&&t.target===window&&K.start&&l(!0)&&K.trigger("windowResize",tt)}function f(){y(),v()}function d(){a()&&(j(),K.displayEvents(rt),L())}function y(){j(),K.clearEvents(),L()}function g(){!O.lazyFetching||J(K.start,K.end)?v():d()}function v(){Q(K.start,K.end)}function m(t){rt=t,d()}function b(){d()}function w(){W.updateTitle(K.title)}function S(){var t=G.getNow();t.isWithin(K.intervalStart,K.intervalEnd)?W.disableButton("today"):W.enableButton("today")}function x(t,e){K.select(G.buildSelectSpan.apply(G,arguments))}function E(){K&&K.unselect()}function C(){q=K.computePrevDate(q),p()}function T(){q=K.computeNextDate(q),p()}function M(){q.add(-1,"years"),p()}function R(){q.add(1,"years"),p()}function D(){q=G.getNow(),p()}function P(t){q=G.moment(t).stripZone(),p()}function k(t){q.add(e.duration(t)),p()}function I(t,e){var o;e=e||"day",o=G.getViewSpec(e)||G.getUnitViewSpec(e),q=t.clone(),p(o?o.type:null)}function A(){return G.applyTimezone(q)}function j(){z.css({width:"100%",height:z.height(),overflow:"hidden"})}function L(){z.css({width:"",height:"",overflow:""})}function F(){return G}function _(){return K}function H(t,e){return void 0===e?O[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(O[t]=e,l(!0)))}function N(t,e){var o=Array.prototype.slice.call(arguments,2);return e=e||tt,this.triggerWith(t,e,o),O[t]?O[t].apply(e,o):void 0}var G=this;G.initOptions(i||{});var O=this.options;G.render=r,G.destroy=s,G.refetchEvents=f,G.reportEvents=m,G.reportEventChange=b,G.rerenderEvents=d,G.changeView=p,G.select=x,G.unselect=E,G.prev=C,G.next=T,G.prevYear=M,G.nextYear=R,G.today=D,G.gotoDate=P,G.incrementDate=k,G.zoomTo=I,G.getDate=A,G.getCalendar=F,G.getView=_,G.option=H,G.trigger=N;var B=U(Ht(O.lang));if(O.monthNames&&(B._months=O.monthNames),O.monthNamesShort&&(B._monthsShort=O.monthNamesShort),O.dayNames&&(B._weekdays=O.dayNames),O.dayNamesShort&&(B._weekdaysShort=O.dayNamesShort),null!=O.firstDay){var Y=U(B._week);Y.dow=O.firstDay,B._week=Y}B._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(O.weekNumberCalculation),G.defaultAllDayEventDuration=e.duration(O.defaultAllDayEventDuration),G.defaultTimedEventDuration=e.duration(O.defaultTimedEventDuration),G.moment=function(){var t;return"local"===O.timezone?(t=Bt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===O.timezone?Bt.moment.utc.apply(null,arguments):Bt.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=B:t._lang=B,t},G.getIsAmbigTimezone=function(){return"local"!==O.timezone&&"UTC"!==O.timezone},G.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,o=G.moment(t.toArray()),i=t.time()-o.time();return i&&(e=o.clone().add(i),t.time()-e.time()===0&&(o=e)),o},G.getNow=function(){var t=O.now;return"function"==typeof t&&(t=t()),G.moment(t).stripZone()},G.getEventEnd=function(t){return t.end?t.end.clone():G.getDefaultEventEnd(t.allDay,t.start)},G.getDefaultEventEnd=function(t,e){var o=e.clone();return t?o.stripTime().add(G.defaultAllDayEventDuration):o.add(G.defaultTimedEventDuration),G.getIsAmbigTimezone()&&o.stripZone(),o},G.humanizeDuration=function(t){return(t.locale||t.lang).call(t,O.lang).humanize()},Gt.call(G,O);var W,V,z,X,K,$,Z,q,J=G.isFetchNeeded,Q=G.fetchEvents,tt=o[0],et={},ot=0,rt=[];q=null!=O.defaultDate?G.moment(O.defaultDate).stripZone():G.getNow(),G.getSuggestedViewHeight=function(){return void 0===$&&h(),$},G.isHeightAuto=function(){return"auto"===O.contentHeight||"auto"===O.height},G.freezeContentHeight=j,G.unfreezeContentHeight=L,G.initialize()}function _t(e){t.each(be,function(t,o){null==e[t]&&(e[t]=o(e))})}function Ht(t){var o=e.localeData||e.langData;return o.call(e,t)||o.call(e,"en")}function Nt(e,o){function i(){var e=o.header;return f=o.theme?"ui":"fc",e?d=t("<div class='fc-toolbar'/>").append(n("left")).append(n("right")).append(n("center")).append('<div class="fc-clear"/>'):void 0}function r(){d.remove(),d=t()}function n(i){var r=t('<div class="fc-'+i+'"/>'),n=o.header[i];return n&&t.each(n.split(" "),function(i){var n,s=t(),a=!0;t.each(this.split(","),function(i,r){var n,p,l,h,u,c,d,g,v,m;"title"==r?(s=s.add(t("<h2>&nbsp;</h2>")),a=!1):((n=(e.options.customButtons||{})[r])?(l=function(t){n.click&&n.click.call(m[0],t)},h="",u=n.text):(p=e.getViewSpec(r))?(l=function(){e.changeView(r)},y.push(r),h=p.buttonTextOverride,u=p.buttonTextDefault):e[r]&&(l=function(){e[r]()},h=(e.overrides.buttonText||{})[r],u=o.buttonText[r]),l&&(c=n?n.themeIcon:o.themeButtonIcons[r],d=n?n.icon:o.buttonIcons[r],g=h?Z(h):c&&o.theme?"<span class='ui-icon ui-icon-"+c+"'></span>":d&&!o.theme?"<span class='fc-icon fc-icon-"+d+"'></span>":Z(u),v=["fc-"+r+"-button",f+"-button",f+"-state-default"],m=t('<button type="button" class="'+v.join(" ")+'">'+g+"</button>").click(function(t){m.hasClass(f+"-state-disabled")||(l(t),(m.hasClass(f+"-state-active")||m.hasClass(f+"-state-disabled"))&&m.removeClass(f+"-state-hover"))}).mousedown(function(){m.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){m.removeClass(f+"-state-down")}).hover(function(){m.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){m.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),s=s.add(m)))}),a&&s.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),s.length>1?(n=t("<div/>"),a&&n.addClass("fc-button-group"),n.append(s),r.append(n)):r.append(s)}),r}function s(t){d.find("h2").text(t)}function a(t){d.find(".fc-"+t+"-button").addClass(f+"-state-active")}function p(t){d.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function l(t){d.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function h(t){d.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function u(){return y}var c=this;c.render=i,c.removeElement=r,c.updateTitle=s,c.activateButton=a,c.deactivateButton=p,c.disableButton=l,c.enableButton=h,c.getViewsWithButtons=u;var f,d=t(),y=[]}function Gt(o){function i(t,e){return!H||H>t||e>N}function r(t,e){H=t,N=e,V=[];var o=++U,i=Y.length;W=i;for(var r=0;i>r;r++)n(Y[r],o)}function n(e,o){s(e,function(i){var r,n,s,a=t.isArray(e.events);if(o==U){if(i)for(r=0;r<i.length;r++)n=i[r],s=a?n:m(n,e),s&&V.push.apply(V,x(s));W--,W||G(V)}})}function s(e,i){var r,n,a=Bt.sourceFetchers;for(r=0;r<a.length;r++){if(n=a[r].call(_,e,H.clone(),N.clone(),o.timezone,i),n===!0)return;if("object"==typeof n)return void s(n,i)}var p=e.events;if(p)t.isFunction(p)?(_.pushLoading(),p.call(_,H.clone(),N.clone(),o.timezone,function(t){i(t),_.popLoading()})):t.isArray(p)?i(p):i();else{var l=e.url;if(l){var h,u=e.success,c=e.error,f=e.complete;h=t.isFunction(e.data)?e.data():e.data;var d=t.extend({},h||{}),y=$(e.startParam,o.startParam),g=$(e.endParam,o.endParam),v=$(e.timezoneParam,o.timezoneParam);y&&(d[y]=H.format()),g&&(d[g]=N.format()),o.timezone&&"local"!=o.timezone&&(d[v]=o.timezone),_.pushLoading(),t.ajax(t.extend({},we,e,{data:d,success:function(e){e=e||[];var o=K(u,this,arguments);t.isArray(o)&&(e=o),i(e)},error:function(){K(c,this,arguments),i()},complete:function(){K(f,this,arguments),_.popLoading()}}))}else i()}}function a(t){var e=p(t);e&&(Y.push(e),W++,n(e,U))}function p(e){var o,i,r=Bt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?o={events:e}:"string"==typeof e?o={url:e}:"object"==typeof e&&(o=t.extend({},e)),o){for(o.className?"string"==typeof o.className&&(o.className=o.className.split(/\s+/)):o.className=[],t.isArray(o.events)&&(o.origArray=o.events,o.events=t.map(o.events,function(t){return m(t,o)})),i=0;i<r.length;i++)r[i].call(_,o);return o}}function l(e){Y=t.grep(Y,function(t){return!h(t,e)}),V=t.grep(V,function(t){return!h(t.source,e)}),G(V)}function h(t,e){return t&&e&&u(t)==u(e)}function u(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function c(t){t.start=_.moment(t.start),t.end?t.end=_.moment(t.end):t.end=null,E(t,f(t)),G(V)}function f(e){var o={};return t.each(e,function(t,e){d(t)&&void 0!==e&&X(e)&&(o[t]=e)}),o}function d(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function y(t,e){var o,i,r,n=m(t);if(n){for(o=x(n),i=0;i<o.length;i++)r=o[i],r.source||(e&&(O.events.push(r),r.source=O),V.push(r));return G(V),o}return[]}function g(e){var o,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(o=e+"",e=function(t){return t._id==o}),V=t.grep(V,e,!0),i=0;i<Y.length;i++)t.isArray(Y[i].events)&&(Y[i].events=t.grep(Y[i].events,e,!0));G(V)}function v(e){return t.isFunction(e)?t.grep(V,e):null!=e?(e+="",t.grep(V,function(t){return t._id==e})):V}function m(i,r){var n,s,a,p={};if(o.eventDataTransform&&(i=o.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),t.extend(p,i),r&&(p.source=r),p._id=i._id||(void 0===i.id?"_fc"+Se++:i.id+""),i.className?"string"==typeof i.className?p.className=i.className.split(/\s+/):p.className=i.className:p.className=[],n=i.start||i.date,s=i.end,B(n)&&(n=e.duration(n)),B(s)&&(s=e.duration(s)),i.dow||e.isDuration(n)||e.isDuration(s))p.start=n?e.duration(n):null,
p.end=s?e.duration(s):null,p._recurring=!0;else{if(n&&(n=_.moment(n),!n.isValid()))return!1;s&&(s=_.moment(s),s.isValid()||(s=null)),a=i.allDay,void 0===a&&(a=$(r?r.allDayDefault:void 0,o.allDayDefault)),b(n,s,a,p)}return p}function b(t,e,o,i){i.start=t,i.end=e,i.allDay=o,w(i),Ot(i)}function w(t){S(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(o.forceEventDuration?t.end=_.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function S(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=_.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=_.applyTimezone(t.end.time(0))))}function x(e,o,i){var r,n,s,a,p,l,h,u,c,f=[];if(o=o||H,i=i||N,e)if(e._recurring){if(n=e.dow)for(r={},s=0;s<n.length;s++)r[n[s]]=!0;for(a=o.clone().stripTime();a.isBefore(i);)(!r||r[a.day()])&&(p=e.start,l=e.end,h=a.clone(),u=null,p&&(h=h.time(p)),l&&(u=a.clone().time(l)),c=t.extend({},e),b(h,u,!p&&!l,c),f.push(c)),a.add(1,"days")}else f.push(e);return f}function E(e,o,i){function r(t,e){return i?j(t,e,i):o.allDay?A(t,e):I(t,e)}var n,s,a,p,l,h,u={};return o=o||{},o.start||(o.start=e.start.clone()),void 0===o.end&&(o.end=e.end?e.end.clone():null),null==o.allDay&&(o.allDay=e.allDay),w(o),n={start:e._start.clone(),end:e._end?e._end.clone():_.getDefaultEventEnd(e._allDay,e._start),allDay:o.allDay},w(n),s=null!==e._end&&null===o.end,a=r(o.start,n.start),o.end?(p=r(o.end,n.end),l=p.subtract(a)):l=null,t.each(o,function(t,e){d(t)&&void 0!==e&&(u[t]=e)}),h=C(v(e._id),s,o.allDay,a,l,u),{dateDelta:a,durationDelta:l,undo:h}}function C(e,o,i,r,n,s){var a=_.getIsAmbigTimezone(),p=[];return r&&!r.valueOf()&&(r=null),n&&!n.valueOf()&&(n=null),t.each(e,function(e,l){var h,u;h={start:l.start.clone(),end:l.end?l.end.clone():null,allDay:l.allDay},t.each(s,function(t){h[t]=l[t]}),u={start:l._start,end:l._end,allDay:i},w(u),o?u.end=null:n&&!u.end&&(u.end=_.getDefaultEventEnd(u.allDay,u.start)),r&&(u.start.add(r),u.end&&u.end.add(r)),n&&u.end.add(n),a&&!u.allDay&&(r||n)&&(u.start.stripZone(),u.end&&u.end.stripZone()),t.extend(l,s,u),Ot(l),p.push(function(){t.extend(l,h),Ot(l)})}),function(){for(var t=0;t<p.length;t++)p[t]()}}function T(e){var i,r=o.businessHours,n={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},s=_.getView();return r&&(i=t.extend({},n,"object"==typeof r?r:{})),i?(e&&(i.start=null,i.end=null),x(m(i),s.start,s.end)):[]}function M(t,e){var i=e.source||{},r=$(e.constraint,i.constraint,o.eventConstraint),n=$(e.overlap,i.overlap,o.eventOverlap);return P(t,r,n,e)}function R(e,o,i){var r,n;return i&&(r=t.extend({},i,o),n=x(m(r))[0]),n?M(e,n):D(e)}function D(t){return P(t,o.selectConstraint,o.selectOverlap)}function P(t,e,o,i){var r,n,s,a,p,l;if(null!=e){for(r=k(e),n=!1,a=0;a<r.length;a++)if(L(r[a],t)){n=!0;break}if(!n)return!1}for(s=_.getPeerEvents(t,i),a=0;a<s.length;a++)if(p=s[a],F(p,t)){if(o===!1)return!1;if("function"==typeof o&&!o(p,i))return!1;if(i){if(l=$(p.overlap,(p.source||{}).overlap),l===!1)return!1;if("function"==typeof l&&!l(i,p))return!1}}return!0}function k(t){return"businessHours"===t?T():"object"==typeof t?x(m(t)):v(t)}function L(t,e){var o=t.start.clone().stripZone(),i=_.getEventEnd(t).stripZone();return e.start>=o&&e.end<=i}function F(t,e){var o=t.start.clone().stripZone(),i=_.getEventEnd(t).stripZone();return e.start<i&&e.end>o}var _=this;_.isFetchNeeded=i,_.fetchEvents=r,_.addEventSource=a,_.removeEventSource=l,_.updateEvent=c,_.renderEvent=y,_.removeEvents=g,_.clientEvents=v,_.mutateEvent=E,_.normalizeEventDates=w,_.normalizeEventTimes=S;var H,N,G=_.reportEvents,O={events:[]},Y=[O],U=0,W=0,V=[];t.each((o.events?[o.events]:[]).concat(o.eventSources||[]),function(t,e){var o=p(e);o&&Y.push(o)}),_.getBusinessHoursEvents=T,_.isEventSpanAllowed=M,_.isExternalSpanAllowed=R,_.isSelectionSpanAllowed=D,_.getEventCache=function(){return V}}function Ot(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Bt=t.fullCalendar={version:"2.6.1",internalApiVersion:3},Yt=Bt.views={};t.fn.fullCalendar=function(e){var o=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,n){var s,a=t(n),p=a.data("fullCalendar");"string"==typeof e?p&&t.isFunction(p[e])&&(s=p[e].apply(p,o),r||(i=s),"destroy"===e&&a.removeData("fullCalendar")):p||(p=new ye(a,e),a.data("fullCalendar",p),p.render())}),i};var Ut=["header","buttonText","buttonIcons","themeButtonIcons"];Bt.intersectRanges=k,Bt.applyAll=K,Bt.debounce=it,Bt.isInt=et,Bt.htmlEscape=Z,Bt.cssToStr=J,Bt.proxy=ot,Bt.capitaliseFirstLetter=Q,Bt.getOuterRect=d,Bt.getClientRect=y,Bt.getContentRect=g,Bt.getScrollbarWidths=v;var Wt=null;Bt.intersectRects=x,Bt.parseFieldSpecs=M,Bt.compareByFieldSpecs=R,Bt.compareByFieldSpec=D,Bt.flexibleCompare=P,Bt.computeIntervalUnit=L,Bt.divideRangeByDuration=_,Bt.divideDurationByDuration=H,Bt.multiplyDuration=N,Bt.durationHasTime=G;var Vt=["sun","mon","tue","wed","thu","fri","sat"],zt=["year","month","week","day","hour","minute","second","millisecond"];Bt.log=function(){var t=window.console;return t&&t.log?t.log.apply(t,arguments):void 0},Bt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):Bt.log.apply(Bt,arguments)};var Xt,Kt,$t,Zt={}.hasOwnProperty,qt=/^\s*\d{4}-\d\d$/,Jt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Qt=e.fn,te=t.extend({},Qt);Bt.moment=function(){return rt(arguments)},Bt.moment.utc=function(){var t=rt(arguments,!0);return t.hasTime()&&t.utc(),t},Bt.moment.parseZone=function(){return rt(arguments,!0,!0)},Qt.clone=function(){var t=te.clone.apply(this,arguments);return st(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Qt.week=Qt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?te.isoWeek.apply(this,arguments):te.week.apply(this,arguments)},Qt.time=function(t){if(!this._fullCalendar)return te.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var o=0;return e.isDuration(t)&&(o=24*Math.floor(t.asDays())),this.hours(o+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Qt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),Kt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Qt.hasTime=function(){return!this._ambigTime},Qt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),Kt(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},Qt.hasZone=function(){return!this._ambigZone},Qt.local=function(){var t=this.toArray(),e=this._ambigZone;return te.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&$t(this,t),this},Qt.utc=function(){return te.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){te[e]&&(Qt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),te[e].apply(this,arguments)})}),Qt.format=function(){return this._fullCalendar&&arguments[0]?lt(this,arguments[0]):this._ambigTime?pt(this,"YYYY-MM-DD"):this._ambigZone?pt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.format.apply(this,arguments)},Qt.toISOString=function(){return this._ambigTime?pt(this,"YYYY-MM-DD"):this._ambigZone?pt(this,"YYYY-MM-DD[T]HH:mm:ss"):te.toISOString.apply(this,arguments)},Qt.isWithin=function(t,e){var o=nt([this,t,e]);return o[0]>=o[1]&&o[0]<o[2]},Qt.isSame=function(t,e){var o;return this._fullCalendar?e?(o=nt([this,t],!0),te.isSame.call(o[0],o[1],e)):(t=Bt.moment.parseZone(t),te.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):te.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Qt[e]=function(t,o){var i;return this._fullCalendar?(i=nt([this,t]),te[e].call(i[0],i[1],o)):te[e].apply(this,arguments)}}),Xt="_d"in e()&&"updateOffset"in e,Kt=Xt?function(t,o){t._d.setTime(Date.UTC.apply(Date,o)),e.updateOffset(t,!1)}:at,$t=Xt?function(t,o){t._d.setTime(+new Date(o[0]||0,o[1]||0,o[2]||0,o[3]||0,o[4]||0,o[5]||0,o[6]||0)),e.updateOffset(t,!1)}:at;var ee={t:function(t){return pt(t,"a").charAt(0)},T:function(t){return pt(t,"A").charAt(0)}};Bt.formatRange=ct;var oe={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ie={};Bt.Class=vt,vt.extend=function(){var t,e,o=arguments.length;for(t=0;o>t;t++)e=arguments[t],o-1>t&&bt(this,e);return mt(this,e||{})},vt.mixin=function(t){bt(this,t)};var re=Bt.Emitter=vt.extend({callbackHash:null,on:function(t,e){return this.getCallbacks(t).add(e),this},off:function(t,e){return this.getCallbacks(t).remove(e),this},trigger:function(t){var e=Array.prototype.slice.call(arguments,1);return this.triggerWith(t,this,e),this},triggerWith:function(t,e,o){var i=this.getCallbacks(t);return i.fireWith(e,o),this},getCallbacks:function(e){var o;return this.callbackHash||(this.callbackHash={}),o=this.callbackHash[e],o||(o=this.callbackHash[e]=t.Callbacks()),o}}),ne=vt.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,o=this.options;this.el=t('<div class="fc-popover"/>').addClass(o.className||"").css({top:0,left:0}).append(o.content).appendTo(o.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),o.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=ot(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,o,i,r,n,s=this.options,a=this.el.offsetParent().offset(),p=this.el.outerWidth(),l=this.el.outerHeight(),h=t(window),u=f(this.el);r=s.top||0,n=void 0!==s.left?s.left:void 0!==s.right?s.right-p:0,u.is(window)||u.is(document)?(u=h,e=0,o=0):(i=u.offset(),e=i.top,o=i.left),e+=h.scrollTop(),o+=h.scrollLeft(),s.viewportConstrain!==!1&&(r=Math.min(r,e+u.outerHeight()-l-this.margin),r=Math.max(r,e+this.margin),n=Math.min(n,o+u.outerWidth()-p-this.margin),n=Math.max(n,o+this.margin)),this.el.css({top:r-a.top,left:n-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),se=Bt.CoordCache=vt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var t=f(this.els.eq(0));return t.is(document)?void 0:y(t)},buildElHorizontals:function(){var e=[],o=[];this.els.each(function(i,r){var n=t(r),s=n.offset().left,a=n.outerWidth();e.push(s),o.push(s+a)}),this.lefts=e,this.rights=o},buildElVerticals:function(){var e=[],o=[];this.els.each(function(i,r){var n=t(r),s=n.offset().top,a=n.outerHeight();e.push(s),o.push(s+a)}),this.tops=e,this.bottoms=o},getHorizontalIndex:function(t){this.ensureBuilt();var e,o=this.boundingRect,i=this.lefts,r=this.rights,n=i.length;if(!o||t>=o.left&&t<o.right)for(e=0;n>e;e++)if(t>=i[e]&&t<r[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,o=this.boundingRect,i=this.tops,r=this.bottoms,n=i.length;if(!o||t>=o.top&&t<o.bottom)for(e=0;n>e;e++)if(t>=i[e]&&t<r[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]}}),ae=Bt.DragListener=vt.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){S(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var o;this.isListening||(e&&this.options.scroll&&(o=f(t(e.target)),o.is(window)||o.is(document)||(this.scrollEl=o,this.scrollHandlerProxy=it(ot(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=ot(this,"mousemove")).on("mouseup",this.mouseupProxy=ot(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,o,i=t.pageX-this.originX,r=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1,o=i*i+r*r,o>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(i,r,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,o){this.trigger("drag",t,e,o),this.updateScroll(o)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?d(t):null},updateScroll:function(t){var e,o,i,r,n=this.scrollSensitivity,s=this.scrollBounds,a=0,p=0;s&&(e=(n-(t.pageY-s.top))/n,o=(n-(s.bottom-t.pageY))/n,i=(n-(t.pageX-s.left))/n,r=(n-(s.right-t.pageX))/n,e>=0&&1>=e?a=e*this.scrollSpeed*-1:o>=0&&1>=o&&(a=o*this.scrollSpeed),i>=0&&1>=i?p=i*this.scrollSpeed*-1:r>=0&&1>=r&&(p=r*this.scrollSpeed)),this.setScrollVel(a,p)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(ot(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),pe=ae.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){ae.call(this,e),this.component=t},listenStart:function(t){var e,o,i,r=this.subjectEl;ae.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(o={left:t.pageX,top:t.pageY},i=o,r&&(e=d(r),i=E(i,e)),this.origHit=this.queryHit(i.left,i.top),r&&this.options.subjectCenter&&(this.origHit&&(e=x(this.origHit,e)||e),i=C(e)),this.coordAdjust=T(i,o)):(this.origHit=null,this.coordAdjust=null)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},dragStart:function(t){var e;ae.prototype.dragStart.apply(this,arguments),e=this.queryHit(t.pageX,t.pageY),e&&this.hitOver(e)},drag:function(t,e,o){var i;ae.prototype.drag.apply(this,arguments),i=this.queryHit(o.pageX,o.pageY),wt(i,this.hit)||(this.hit&&this.hitOut(),i&&this.hitOver(i))},dragStop:function(){this.hitDone(),ae.prototype.dragStop.apply(this,arguments)},hitOver:function(t){var e=wt(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},hitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.hitDone(),this.hit=null)},hitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},listenStop:function(){ae.prototype.listenStop.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},scrollStop:function(){ae.prototype.scrollStop.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),le=vt.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,o){this.options=o=o||{},this.sourceEl=e,this.parentEl=o.parentEl?t(o.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=ot(this,"mousemove")))},stop:function(e,o){function i(){this.isAnimating=!1,r.removeElement(),this.top0=this.left0=null,o&&o()}var r=this,n=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&n&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:n,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),he=Bt.Grid=vt.extend({view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,externalDragStartProxy:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.externalDragStartProxy=ot(this,"externalDragStart")},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,o=this.view;this.eventTimeFormat=o.opt("eventTimeFormat")||o.opt("timeFormat")||this.computeEventTimeFormat(),t=o.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=o.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(t){},diffDates:function(t,e){return this.largeUnit?j(t,e,this.largeUnit):I(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(t,e){},getHitSpan:function(t){},getHitEl:function(t){},setElement:function(e){var o=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||o.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,o,i=this,r=this.view,n=r.opt("selectable"),p=new pe(this,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},hitOver:function(t,r,a){a&&(e=r?t:null,n&&(o=i.computeSelection(i.getHitSpan(a),i.getHitSpan(t)),o?i.renderSelection(o):o===!1&&s()))},hitOut:function(){e=null,o=null,i.unrenderSelection(),a()},listenStop:function(t){e&&r.triggerDayClick(i.getHitSpan(e),i.getHitEl(e),t),o&&r.reportSelection(o,t),a()}});p.mousedown(t)},renderEventLocationHelper:function(t,e){var o=this.fabricateHelperEvent(t,e);this.renderHelper(o,e)},fabricateHelperEvent:function(t,e){var o=e?U(e.event):{};return o.start=t.start.clone(),o.end=t.end?t.end.clone():null,o.allDay=null,this.view.calendar.normalizeEventDates(o),o.className=(o.className||[]).concat("fc-helper"),e||(o.editable=!1),o},renderHelper:function(t,e){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var o=this.computeSelectionSpan(t,e);return o&&!this.view.calendar.isSelectionSpanAllowed(o)?!1:o},computeSelectionSpan:function(t,e){var o=[t.start,t.end,e.start,e.end];return o.sort(tt),{start:o[0].clone(),end:o[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},renderFill:function(t,e){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,o){var i,r=this,n=this[e+"SegEl"],s="",a=[];if(o.length){for(i=0;i<o.length;i++)s+=this.fillSegHtml(e,o[i]);t(s).each(function(e,i){var s=o[e],p=t(i);n&&(p=n.call(r,s,p)),p&&(p=t(p),p.is(r.fillSegTag)&&(s.el=p,a.push(s)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var o=this[t+"SegClasses"],i=this[t+"SegCss"],r=o?o.call(this,e):[],n=J(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(n?' style="'+n+'"':"")+" />"},getDayClasses:function(t){var e=this.view,o=e.calendar.getNow(),i=["fc-"+Vt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(o,"day")?i.push("fc-today",e.highlightStateClass):o>t?i.push("fc-past"):i.push("fc-future"),i}});he.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,o=[],i=[];for(e=0;e<t.length;e++)(xt(t[e])?o:i).push(t[e]);this.segs=[].concat(this.renderBgEvents(o),this.renderFgEvents(i))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(t){},unrenderFgSegs:function(){},renderFgSegEls:function(e,o){var i,r=this.view,n="",s=[];if(e.length){for(i=0;i<e.length;i++)n+=this.fgSegHtml(e[i],o);t(n).each(function(o,i){var n=e[o],a=r.resolveEventEl(n.event,t(i));a&&(a.data("fc-seg",n),n.el=a,s.push(n))})}return s},fgSegHtml:function(t,e){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,o=e.source||{};return["fc-bgevent"].concat(e.className,o.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(t){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,o=this.view;t.each({mouseenter:function(t,o){e.triggerSegMouseover(t,o)},mouseleave:function(t,o){e.triggerSegMouseout(t,o)},click:function(t,e){return o.trigger("eventClick",this,t.event,e)},mousedown:function(i,r){t(r.target).is(".fc-resizer")&&o.isEventResizable(i.event)?e.segResizeMousedown(i,r,t(r.target).is(".fc-start-resizer")):o.isEventDraggable(i.event)&&e.segDragMousedown(i,r)}},function(o,i){e.el.on(o,".fc-event-container > *",function(o){var r=t(this).data("fc-seg");return!r||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,r,o)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var o,i=this,r=this.view,n=r.calendar,p=t.el,l=t.event,h=new le(t.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2}),u=new pe(r,{distance:5,scroll:r.opt("dragScroll"),subjectEl:p,subjectCenter:!0,listenStart:function(t){h.hide(),h.start(t)},dragStart:function(e){i.triggerSegMouseout(t,e),i.segDragStart(t,e),r.hideEvent(l)},hitOver:function(e,a,p){t.hit&&(p=t.hit),o=i.computeEventDrop(p.component.getHitSpan(p),e.component.getHitSpan(e),l),o&&!n.isEventSpanAllowed(i.eventToSpan(o),l)&&(s(),o=null),o&&r.renderDrag(o,t)?h.hide():h.show(),a&&(o=null)},hitOut:function(){r.unrenderDrag(),h.show(),o=null},hitDone:function(){a()},dragStop:function(e){h.stop(!o,function(){r.unrenderDrag(),r.showEvent(l),i.segDragStop(t,e),o&&r.reportEventDrop(l,o,this.largeUnit,p,e)})},listenStop:function(){h.stop()}});u.mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,o){var i,r,n=this.view.calendar,s=t.start,a=e.start;return s.hasTime()===a.hasTime()?(i=this.diffDates(a,s),o.allDay&&G(i)?(r={start:o.start.clone(),end:n.getEventEnd(o),allDay:!1},n.normalizeEventTimes(r)):r={start:o.start.clone(),end:o.end?o.end.clone():null,allDay:o.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,o){o.style.opacity=e})},externalDragStart:function(e,o){var i,r,n=this.view;n.opt("droppable")&&(i=t((o?o.item:null)||e.target),r=n.opt("dropAccept"),(t.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,o)))},listenToExternalDrag:function(t,e,o){var i,r=this,n=this.view.calendar,p=Rt(t),l=new pe(this,{listenStart:function(){r.isDraggingExternal=!0},hitOver:function(t){i=r.computeExternalDrop(t.component.getHitSpan(t),p),i&&!n.isExternalSpanAllowed(r.eventToSpan(i),i,p.eventProps)&&(s(),i=null),i&&r.renderDrag(i)},hitOut:function(){i=null},hitDone:function(){a(),r.unrenderDrag()},dragStop:function(){i&&r.view.reportExternalDrop(p,i,t,e,o)},listenStop:function(){r.isDraggingExternal=!1}});l.startDrag(e)},computeExternalDrop:function(t,e){var o=this.view.calendar,i={start:o.applyTimezone(t.start),end:null};return e.startTime&&!i.start.hasTime()&&i.start.time(e.startTime),e.duration&&(i.end=i.start.clone().add(e.duration)),i},renderDrag:function(t,e){},unrenderDrag:function(){},segResizeMousedown:function(t,e,o){var i,r=this,n=this.view,p=n.calendar,l=t.el,h=t.event,u=p.getEventEnd(h),c=new pe(this,{distance:5,scroll:n.opt("dragScroll"),subjectEl:l,dragStart:function(e){r.triggerSegMouseout(t,e),r.segResizeStart(t,e)},hitOver:function(e,a,l){var c=r.getHitSpan(l),f=r.getHitSpan(e);i=o?r.computeEventStartResize(c,f,h):r.computeEventEndResize(c,f,h),i&&(p.isEventSpanAllowed(r.eventToSpan(i),h)?i.start.isSame(h.start)&&i.end.isSame(u)&&(i=null):(s(),i=null)),i&&(n.hideEvent(h),r.renderEventResize(i,t))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize(),n.showEvent(h),a()},dragStop:function(e){r.segResizeStop(t,e),i&&n.reportEventResize(h,i,this.largeUnit,l,e)}});c.mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,o){return this.computeEventResize("start",t,e,o)},computeEventEndResize:function(t,e,o){return this.computeEventResize("end",t,e,o)},computeEventResize:function(t,e,o,i){var r,n,s=this.view.calendar,a=this.diffDates(o[t],e[t]);return r={start:i.start.clone(),end:s.getEventEnd(i),allDay:i.allDay},r.allDay&&G(a)&&(r.allDay=!1,s.normalizeEventTimes(r)),r[t].add(a),r.start.isBefore(r.end)||(n=this.minResizeDuration||(i.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration),"start"==t?r.start=r.end.clone().subtract(n):r.end=r.start.clone().add(n)),r},renderEventResize:function(t,e){},unrenderEventResize:function(){},getEventTimeText:function(t,e,o){return null==e&&(e=this.eventTimeFormat),null==o&&(o=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?o&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,o){var i=t.event,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&r.push("fc-draggable"),o&&r.push("fc-resizable"),r},getSegSkinCss:function(t){var e=t.event,o=this.view,i=e.source||{},r=e.color,n=i.color,s=o.opt("eventColor");return{"background-color":e.backgroundColor||r||i.backgroundColor||n||o.opt("eventBackgroundColor")||s,"border-color":e.borderColor||r||i.borderColor||n||o.opt("eventBorderColor")||s,color:e.textColor||i.textColor||o.opt("eventTextColor")}},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,o){var i=this,r=Tt(e),n=[];return t.each(r,function(t,e){var r,s=[];for(r=0;r<e.length;r++)s.push(i.eventToRange(e[r]));if(Et(e[0]))for(s=i.invertRanges(s),r=0;r<s.length;r++)n.push.apply(n,i.eventRangeToSegs(s[r],e[0],o));else for(r=0;r<s.length;r++)n.push.apply(n,i.eventRangeToSegs(s[r],e[r],o));
}),n},eventToRange:function(t){return{start:t.start.clone().stripZone(),end:(t.end?t.end.clone():this.view.calendar.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone()}},eventRangeToSegs:function(t,e,o){var i,r=this.eventRangeToSpans(t,e),n=[];for(i=0;i<r.length;i++)n.push.apply(n,this.eventSpanToSegs(r[i],e,o));return n},eventRangeToSpans:function(e,o){return[t.extend({},e)]},eventSpanToSegs:function(t,e,o){var i,r,n=o?o(t):this.spanToSegs(t);for(i=0;i<n.length;i++)r=n[i],r.event=e,r.eventStartMS=+t.start,r.eventDurationMS=t.end-t.start;return n},invertRanges:function(t){var e,o,i=this.view,r=i.start.clone(),n=i.end.clone(),s=[],a=r;for(t.sort(Mt),e=0;e<t.length;e++)o=t[e],o.start>a&&s.push({start:a,end:o.start}),a=o.end;return n>a&&s.push({start:a,end:n}),s},sortEventSegs:function(t){t.sort(ot(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||R(t.event,e.event,this.view.eventOrderSpecs)}}),Bt.isBgEvent=xt,Bt.dataAttrPrefix="";var ue=Bt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,o,i=this.view,r=this.start.clone(),n=-1,s=[],a=[];r.isBefore(this.end);)i.isHiddenDay(r)?s.push(n+.5):(n++,s.push(n),a.push(r.clone())),r.add(1,"days");if(this.breakOnWeeks){for(e=a[0].day(),t=1;t<a.length&&a[t].day()!=e;t++);o=Math.ceil(a.length/t)}else o=1,t=a.length;this.dayDates=a,this.dayIndices=s,this.daysPerRow=t,this.rowCnt=o,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var o=this.getCellDate(t,e),i=o.clone().add(1,"days");return{start:o,end:i}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,o=t.diff(this.start,"days");return 0>o?e[0]-1:o>=e.length?e[e.length-1]+1:e[o]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,o,i,r,n,s=this.daysPerRow,a=this.view.computeDayRange(t),p=this.getDateDayIndex(a.start),l=this.getDateDayIndex(a.end.clone().subtract(1,"days")),h=[];for(e=0;e<this.rowCnt;e++)o=e*s,i=o+s-1,r=Math.max(p,o),n=Math.min(l,i),r=Math.ceil(r),n=Math.floor(n),n>=r&&h.push({row:e,firstRowDayIndex:r-o,lastRowDayIndex:n-o,isStart:r===p,isEnd:n===l});return h},sliceRangeByDay:function(t){var e,o,i,r,n,s,a=this.daysPerRow,p=this.view.computeDayRange(t),l=this.getDateDayIndex(p.start),h=this.getDateDayIndex(p.end.clone().subtract(1,"days")),u=[];for(e=0;e<this.rowCnt;e++)for(o=e*a,i=o+a-1,r=o;i>=r;r++)n=Math.max(l,r),s=Math.min(h,r),n=Math.ceil(n),s=Math.floor(s),s>=n&&u.push({row:e,firstRowDayIndex:n-o,lastRowDayIndex:s-o,isStart:n===l,isEnd:s===h});return u},renderHeadHtml:function(){var t=this.view;return'<div class="fc-row '+t.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,o=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),o.push(this.renderHeadDateCellHtml(e));return o.join("")},renderHeadDateCellHtml:function(t,e,o){var i=this.view;return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+Vt[t.day()]+'"'+(1==this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(o?" "+o:"")+">"+Z(t.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},renderBgIntroHtml:function(t){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,o,i=[];for(e=0;e<this.colCnt;e++)o=this.getCellDate(t,e),i.push(this.renderBgCellHtml(o));return i.join("")},renderBgCellHtml:function(t,e){var o=this.view,i=this.getDayClasses(t);return i.unshift("fc-day",o.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},ce=Bt.DayGrid=he.extend(ue,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,o,i=this.view,r=this.rowCnt,n=this.colCnt,s="";for(e=0;r>e;e++)s+=this.renderDayRowHtml(e,t);for(this.el.html(s),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new se({els:this.rowEls,isVertical:!0}),this.colCoordCache=new se({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;r>e;e++)for(o=0;n>o;o++)i.trigger("dayRender",null,this.getCellDate(e,o),this.getCellEl(e,o))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},renderDayRowHtml:function(t,e){var o=this.view,i=["fc-row","fc-week",o.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(t){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,o,i=[];for(e=0;e<this.colCnt;e++)o=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(o));return i.join("")},renderNumberCellHtml:function(t){var e;return this.view.dayNumbersVisible?(e=this.getDayClasses(t),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+t.format()+'">'+t.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,o,i=this.sliceRangeByRow(t);for(e=0;e<i.length;e++)o=i[e],this.isRTL?(o.leftCol=this.daysPerRow-1-o.lastRowDayIndex,o.rightCol=this.daysPerRow-1-o.firstRowDayIndex):(o.leftCol=o.firstRowDayIndex,o.rightCol=o.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){var o=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);return null!=i&&null!=o?this.getCellHit(i,o):void 0},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){return this.renderHighlight(this.eventToSpan(t)),e&&!e.el.closest(this.el).length?(this.renderEventLocationHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,o){var i,r=[],n=this.eventToSegs(e);n=this.renderFgSegEls(n),i=this.renderSegRows(n),this.rowEls.each(function(e,n){var s,a=t(n),p=t('<div class="fc-helper-skeleton"><table/></div>');s=o&&o.row===e?o.el.position().top:a.find(".fc-content-skeleton tbody").position().top,p.css("top",s).find("table").append(i[e].tbodyEl),a.append(p),r.push(p[0])}),this.helperEls=t(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,o,i){var r,n,s,a=[];for(o=this.renderFillSegEls(e,o),r=0;r<o.length;r++)n=o[r],s=this.renderFillRow(e,n,i),this.rowEls.eq(n.row).append(s),a.push(s[0]);return this.elsByFill[e]=t(a),o},renderFillRow:function(e,o,i){var r,n,s=this.colCnt,a=o.leftCol,p=o.rightCol+1;return i=i||e.toLowerCase(),r=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),n=r.find("tr"),a>0&&n.append('<td colspan="'+a+'"/>'),n.append(o.el.attr("colspan",p-a)),s>p&&n.append('<td colspan="'+(s-p)+'"/>'),this.bookendCells(n),r}});ce.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),he.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return he.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var o=t.grep(e,function(t){return t.event.allDay});return he.prototype.renderBgSegs.call(this,o)},renderFgSegs:function(e){var o;return e=this.renderFgSegEls(e),o=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(o[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,o,i=[];for(e=this.groupSegRows(t),o=0;o<e.length;o++)i.push(this.renderSegRow(o,e[o]));return i},fgSegHtml:function(t,e){var o,i,r=this.view,n=t.event,s=r.isEventDraggable(n),a=!e&&n.allDay&&t.isStart&&r.isEventResizableFromStart(n),p=!e&&n.allDay&&t.isEnd&&r.isEventResizableFromEnd(n),l=this.getSegClasses(t,s,a||p),h=J(this.getSegSkinCss(t)),u="";return l.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(o=this.getEventTimeText(n),o&&(u='<span class="fc-time">'+Z(o)+"</span>")),i='<span class="fc-title">'+(Z(n.title||"")||"&nbsp;")+"</span>",'<a class="'+l.join(" ")+'"'+(n.url?' href="'+Z(n.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+u:u+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(p?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,o){function i(e){for(;e>s;)h=(v[r-1]||[])[s],h?h.attr("rowspan",parseInt(h.attr("rowspan")||1,10)+1):(h=t("<td/>"),a.append(h)),g[r][s]=h,v[r][s]=h,s++}var r,n,s,a,p,l,h,u=this.colCnt,c=this.buildSegLevels(o),f=Math.max(1,c.length),d=t("<tbody/>"),y=[],g=[],v=[];for(r=0;f>r;r++){if(n=c[r],s=0,a=t("<tr/>"),y.push([]),g.push([]),v.push([]),n)for(p=0;p<n.length;p++){for(l=n[p],i(l.leftCol),h=t('<td class="fc-event-container"/>').append(l.el),l.leftCol!=l.rightCol?h.attr("colspan",l.rightCol-l.leftCol+1):v[r][s]=h;s<=l.rightCol;)g[r][s]=h,y[r][s]=l,s++;a.append(h)}i(u),this.bookendCells(a),d.append(a)}return{row:e,tbodyEl:d,cellMatrix:g,segMatrix:y,segLevels:c,segs:o}},buildSegLevels:function(t){var e,o,i,r=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(o=t[e],i=0;i<r.length&&Dt(o,r[i]);i++);o.level=i,(r[i]||(r[i]=[])).push(o)}for(i=0;i<r.length;i++)r[i].sort(Pt);return r},groupSegRows:function(t){var e,o=[];for(e=0;e<this.rowCnt;e++)o.push([]);for(e=0;e<t.length;e++)o[t[e].row].push(t[e]);return o}}),ce.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,o,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),o=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,o!==!1&&this.limitRow(e,o)},computeRowLevelLimit:function(e){function o(e,o){n=Math.max(n,t(o).outerHeight())}var i,r,n,s=this.rowEls.eq(e),a=s.height(),p=this.rowStructs[e].tbodyEl.children();for(i=0;i<p.length;i++)if(r=p.eq(i).removeClass("fc-limited"),n=0,r.find("> td > :first-child").each(o),r.position().top+n>a)return i;return!1},limitRow:function(e,o){function i(i){for(;i>x;)l=b.getCellSegs(e,x,o),l.length&&(c=n[o-1][x],m=b.renderMoreLink(e,x,l),v=t("<div/>").append(m),c.append(v),S.push(v[0])),x++}var r,n,s,a,p,l,h,u,c,f,d,y,g,v,m,b=this,w=this.rowStructs[e],S=[],x=0;if(o&&o<w.segLevels.length){for(r=w.segLevels[o-1],n=w.cellMatrix,s=w.tbodyEl.children().slice(o).addClass("fc-limited").get(),a=0;a<r.length;a++){for(p=r[a],i(p.leftCol),u=[],h=0;x<=p.rightCol;)l=this.getCellSegs(e,x,o),u.push(l),h+=l.length,x++;if(h){for(c=n[o-1][p.leftCol],f=c.attr("rowspan")||1,d=[],y=0;y<u.length;y++)g=t('<td class="fc-more-cell"/>').attr("rowspan",f),l=u[y],m=this.renderMoreLink(e,p.leftCol+y,[p].concat(l)),v=t("<div/>").append(m),g.append(v),d.push(g[0]),S.push(g[0]);c.addClass("fc-limited").after(t(d)),s.push(c[0])}}i(this.colCnt),w.moreEls=t(S),w.limitedEls=t(s)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,o,i){var r=this,n=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(s){var a=n.opt("eventLimitClick"),p=r.getCellDate(e,o),l=t(this),h=r.getCellEl(e,o),u=r.getCellSegs(e,o),c=r.resliceDaySegs(u,p),f=r.resliceDaySegs(i,p);"function"==typeof a&&(a=n.trigger("eventLimitClick",null,{date:p,dayEl:h,moreEl:l,segs:c,hiddenSegs:f},s)),"popover"===a?r.showSegPopover(e,o,l,c):"string"==typeof a&&n.calendar.zoomTo(p,a)})},showSegPopover:function(t,e,o,i){var r,n,s=this,a=this.view,p=o.parent();r=1==this.rowCnt?a.el:this.rowEls.eq(t),n={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,i),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){s.segPopover.removeElement(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?n.right=p.offset().left+p.outerWidth()+1:n.left=p.offset().left-1,this.segPopover=new ne(n),this.segPopover.show()},renderSegPopoverContent:function(e,o,i){var r,n=this.view,s=n.opt("theme"),a=this.getCellDate(e,o).format(n.opt("dayPopoverFormat")),p=t('<div class="fc-header '+n.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+Z(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+n.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=p.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,r=0;r<i.length;r++)this.prepareHits(),i[r].hit=this.getCellHit(e,o),this.releaseHits(),l.append(i[r].el);return p},resliceDaySegs:function(e,o){var i=t.map(e,function(t){return t.event}),r=o.clone(),n=r.clone().add(1,"days"),s={start:r,end:n};return e=this.eventsToSegs(i,function(t){var e=k(t,s);return e?[e]:[]}),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,o){for(var i,r=this.rowStructs[t].segMatrix,n=o||0,s=[];n<r.length;)i=r[n][e],i&&s.push(i),n++;return s}});var fe=Bt.TimeGrid=he.extend(ue,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){he.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.colCoordCache=new se({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new se({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,o,i,r=this.view,n=this.isRTL,s="",a=e.duration(+this.minTime);a<this.maxTime;)t=this.start.clone().time(a),o=et(H(a,this.labelInterval)),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(o?"<span>"+Z(t.format(this.labelFormat))+"</span>":"")+"</td>",s+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(o?"":' class="fc-minor"')+">"+(n?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(n?i:"")+"</tr>",a.add(this.slotDuration);return s},processOptions:function(){var o,i=this.view,r=i.opt("slotDuration"),n=i.opt("snapDuration");r=e.duration(r),n=n?e.duration(n):r,this.slotDuration=r,this.snapDuration=n,this.snapsPerSlot=r/n,this.minResizeDuration=n,this.minTime=e.duration(i.opt("minTime")),this.maxTime=e.duration(i.opt("maxTime")),o=i.opt("slotLabelFormat"),t.isArray(o)&&(o=o[o.length-1]),this.labelFormat=o||i.opt("axisFormat")||i.opt("smallTimeFormat"),o=i.opt("slotLabelInterval"),this.labelInterval=o?e.duration(o):this.computeLabelInterval(r)},computeLabelInterval:function(t){var o,i,r;for(o=Pe.length-1;o>=0;o--)if(i=e.duration(Pe[o]),r=H(i,t),et(r)&&r>1)return i;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var o=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache,n=i.getHorizontalIndex(t),s=r.getVerticalIndex(e);if(null!=n&&null!=s){var a=r.getTopOffset(s),p=r.getHeight(s),l=(e-a)/p,h=Math.floor(l*o),u=s*o+h,c=a+h/o*p,f=a+(h+1)/o*p;return{col:n,snap:u,component:this,left:i.getLeftOffset(n),right:i.getRightOffset(n),top:c,bottom:f}}},getHitSpan:function(t){var e,o=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return o.time(i),e=o.clone().add(this.snapDuration),{start:o,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,o=this.sliceRangeByTimes(t);for(e=0;e<o.length;e++)this.isRTL?o[e].col=this.daysPerRow-1-o[e].dayIndex:o[e].col=o[e].dayIndex;return o},sliceRangeByTimes:function(t){var e,o,i,r,n=[];for(o=0;o<this.daysPerRow;o++)i=this.dayDates[o].clone(),r={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},e=k(t,r),e&&(e.dayIndex=o,n.push(e));return n},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},computeDateTop:function(t,o){return this.computeTimeTop(e.duration(t-o.clone().stripTime()))},computeTimeTop:function(t){var e,o,i=this.slatEls.length,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),e=Math.floor(r),e=Math.min(e,i-1),o=r-e,this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*o},renderDrag:function(t,e){if(e){this.renderEventLocationHelper(t,e);for(var o=0;o<this.helperSegs.length;o++)this.applyDragOpacity(this.helperSegs[o].el);return!0}this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(),e=this.eventsToSegs(t);this.renderBusinessSegs(e)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var o,i=this.spanToSegs({start:e,end:e}),r=this.computeDateTop(e,e),n=[];for(o=0;o<i.length;o++)n.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",r).appendTo(this.colContainerEls.eq(i[o].col))[0]);i.length>0&&n.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",r).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(n)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});fe.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,o,i="";for(e=0;e<this.colCnt;e++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';o=t('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=o.find(".fc-content-col"),this.helperContainerEls=o.find(".fc-helper-container"),this.fgContainerEls=o.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=o.find(".fc-bgevent-container"),this.highlightContainerEls=o.find(".fc-highlight-container"),this.businessContainerEls=o.find(".fc-business-container"),this.bookendCells(o.find("tr")),this.el.append(o)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,e){var o,i,r;for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),o=0;o<t.length;o++)i=t[o],e&&e.col===i.col&&(r=e.el,i.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")}));this.helperSegs=t},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,o=[];for(e=0;e<this.colCnt;e++)o.push([]);for(e=0;e<t.length;e++)o[t[e].col].push(t[e]);return o},attachSegsByCol:function(t,e){var o,i,r;for(o=0;o<this.colCnt;o++)for(i=t[o],r=0;r<i.length;r++)e.eq(o).append(i[r].el)},unrenderNamedSegs:function(t){var e,o=this[t];if(o){for(e=0;e<o.length;e++)o[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var o,i;for(t=this.renderFgSegEls(t),o=this.groupSegsByCol(t),i=0;i<this.colCnt;i++)this.updateFgSegCoords(o[i]);return this.attachSegsByCol(o,e),t},fgSegHtml:function(t,e){var o,i,r,n=this.view,s=t.event,a=n.isEventDraggable(s),p=!e&&t.isStart&&n.isEventResizableFromStart(s),l=!e&&t.isEnd&&n.isEventResizableFromEnd(s),h=this.getSegClasses(t,a,p||l),u=J(this.getSegSkinCss(t));return h.unshift("fc-time-grid-event","fc-v-event"),n.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(o=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(o=this.getEventTimeText(s),i=this.getEventTimeText(s,"LT"),r=this.getEventTimeText(s,null,!1)),'<a class="'+h.join(" ")+'"'+(s.url?' href="'+Z(s.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(o?'<div class="fc-time" data-start="'+Z(r)+'" data-full="'+Z(i)+'"><span>'+Z(o)+"</span></div>":"")+(s.title?'<div class="fc-title">'+Z(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,o;for(e=0;e<t.length;e++)o=t[e],o.top=this.computeDateTop(o.start,o.start),o.bottom=this.computeDateTop(o.end,o.start)},assignSegVerticals:function(t){var e,o;for(e=0;e<t.length;e++)o=t[e],o.el.css(this.generateSegVerticalCss(o))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,o,i;if(this.sortEventSegs(t),e=kt(t),It(e),o=e[0]){for(i=0;i<o.length;i++)At(o[i]);for(i=0;i<o.length;i++)this.computeFgSegForwardBack(o[i],0,0)}},computeFgSegForwardBack:function(t,e,o){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],e+1,o),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-o)/(e+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(ot(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,o;for(e=0;e<t.length;e++)o=t[e],o.el.css(this.generateFgSegHorizontalCss(o)),o.bottom-o.top<30&&o.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,o,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,n=t.forwardCoord,s=this.generateSegVerticalCss(t);return i&&(n=Math.min(1,r+2*(n-r))),this.isRTL?(e=1-n,o=r):(e=r,o=1-n),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*o+"%",i&&t.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s}});var de=Bt.View=vt.extend({type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,o,i,r){this.calendar=t,this.type=this.name=o,this.options=i,this.intervalDuration=r||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=M(this.opt("eventOrder")),this.documentMousedownProxy=ot(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var o=this.calendar;return o.trigger.apply(o,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,o,i=L(this.intervalDuration),r=t.clone().startOf(i),n=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),n.stripTime()):(r.hasTime()||(r=this.calendar.time(0)),n.hasTime()||(n=this.calendar.time(0))),e=r.clone(),e=this.skipHiddenDays(e),o=n.clone(),o=this.skipHiddenDays(o,-1,!0),{intervalUnit:i,intervalStart:r,intervalEnd:n,start:e,end:o}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,o){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),ct(t.start,i,e,o,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var o=this,i=null;return this.displaying&&(i=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return o.displaying=t.when(o.displayView(e)).then(function(){o.forceScroll(o.computeInitialScroll(i)),o.calendar.unfreezeContentHeight(),o.triggerRender()})})},clear:function(){var e=this,o=this.displaying;return o?o.then(function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,o,i,r=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit(),t&&(o=ot(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){r.nowIndicatorTimeoutID=null,o(),i=+e.duration(1,t),i=Math.max(100,i),r.nowIndicatorIntervalID=setInterval(o,i)},i)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(t){},updateHeight:function(t){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(t,e){},computeScrollerHeight:function(t){var e,o,i=this.scrollerEl;return e=this.el.add(i),e.css({position:"relative",left:-1}),o=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-o},computeInitialScroll:function(t){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0;
},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(t){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,o){var i=this.trigger("eventRender",e,e,o);return i===!1?o=null:i&&i!==!0&&(o=t(i)),o},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var o,i=this.getEventSegs();for(o=0;o<i.length;o++)e&&i[o].event._id!==e._id||i[o].el&&t.call(this,i[o])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return $(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,o,i,r){var n=this.calendar,s=n.mutateEvent(t,e,o),a=function(){s.undo(),n.reportEventChange()};this.triggerEventDrop(t,s.dateDelta,a,i,r),n.reportEventChange()},triggerEventDrop:function(t,e,o,i,r){this.trigger("eventDrop",i[0],t,e,o,r,{})},reportExternalDrop:function(e,o,i,r,n){var s,a,p=e.eventProps;p&&(s=t.extend({},p,o),a=this.calendar.renderEvent(s,e.stick)[0]),this.triggerExternalDrop(a,o,i,r,n)},triggerExternalDrop:function(t,e,o,i,r){this.trigger("drop",o[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(t,e){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return $(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,o,i,r){var n=this.calendar,s=n.mutateEvent(t,e,o),a=function(){s.undo(),n.reportEventChange()};this.triggerEventResize(t,s.durationDelta,a,i,r),n.reportEventChange()},triggerEventResize:function(t,e,o,i,r){this.trigger("eventResize",i[0],t,e,o,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(t){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},documentMousedown:function(e){var o;this.isSelected&&this.opt("unselectAuto")&&S(e)&&(o=this.opt("unselectCancel"),o&&t(e.target).closest(o).length||this.unselect(e))},triggerDayClick:function(t,e,o){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),o)},initHiddenDays:function(){var e,o=this.opt("hiddenDays")||[],i=[],r=0;for(this.opt("weekends")===!1&&o.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,o))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,o){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(o?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,o=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),e=+i.time(),e&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||o>=r)&&(r=o.clone().add(1,"days")),{start:o,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),ye=Bt.Calendar=vt.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Ft,initialize:function(){},initOptions:function(t){var e,r,n,s;t=i(t),e=t.lang,r=ge[e],r||(e=ye.defaults.lang,r=ge[e]||{}),n=$(t.isRTL,r.isRTL,ye.defaults.isRTL),s=n?ye.rtlDefaults:{},this.dirDefaults=s,this.langDefaults=r,this.overrides=t,this.options=o([ye.defaults,s,r,t]),_t(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var o,i,r;if(-1!=t.inArray(e,zt))for(o=this.header.getViewsWithButtons(),t.each(Bt.views,function(t){o.push(t)}),i=0;i<o.length;i++)if(r=this.getViewSpec(o[i]),r&&r.singleUnit==e)return r},buildViewSpec:function(t){for(var i,r,n,s,a=this.overrides.views||{},p=[],l=[],h=[],u=t;u;)i=Yt[u],r=a[u],u=null,"function"==typeof i&&(i={"class":i}),i&&(p.unshift(i),l.unshift(i.defaults||{}),n=n||i.duration,u=u||i.type),r&&(h.unshift(r),n=n||r.duration,u=u||r.type);return i=Y(p),i.type=t,i["class"]?(n&&(n=e.duration(n),n.valueOf()&&(i.duration=n,s=L(n),1===n.as(s)&&(i.singleUnit=s,h.unshift(a[s]||{})))),i.defaults=o(l),i.overrides=o(h),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,t),i):!1},buildViewSpecOptions:function(t){t.options=o([ye.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides]),_t(t.options)},buildViewSpecButtonText:function(t,e){function o(o){var i=o.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=o(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=o(this.langDefaults)||o(this.dirDefaults)||t.defaults.buttonText||o(ye.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var o,i=this.moment(t).stripZone();return o=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:o}}});ye.mixin(re),ye.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},ye.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},ye.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var ge=Bt.langs={};Bt.datepickerLang=function(e,o,i){var r=ge[e]||(ge[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each(ve,function(t,e){r[t]=e(i)}),t.datepicker&&(t.datepicker.regional[o]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Bt.lang=function(e,i){var r,n;r=ge[e]||(ge[e]={}),i&&(r=ge[e]=o([r,i])),n=Ht(e),t.each(me,function(t,e){null==r[t]&&(r[t]=e(n,r))}),ye.defaults.lang=e};var ve={buttonText:function(t){return{prev:q(t.prevText),next:q(t.nextText),today:q(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},me={dayOfMonthFormat:function(t,e){var o=t.longDateFormat("l");return o=o.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?o+=" ddd":o="ddd "+o,o},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},be={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Bt.lang("en",ye.englishDefaults),Bt.sourceNormalizers=[],Bt.sourceFetchers=[];var we={dataType:"json",cache:!1},Se=1;ye.prototype.getPeerEvents=function(t,e){var o,i,r=this.getEventCache(),n=[];for(o=0;o<r.length;o++)i=r[o],e&&e._id===i._id||n.push(i);return n};var xe=Bt.BasicView=de.extend({dayGridClass:ce,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid()},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Ee);return new t(this)},setRange:function(t){de.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=de.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=h(this.el.find(".fc-week-number")))},setHeight:function(t,e){var o,i=this.opt("eventLimit");c(this.scrollerEl),n(this.headRowEl),this.dayGrid.removeSegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),o=this.computeScrollerHeight(t),this.setGridHeight(o,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&u(this.scrollerEl,o)&&(r(this.headRowEl,v(this.scrollerEl)),o=this.computeScrollerHeight(t),this.scrollerEl.height(o))},setGridHeight:function(t,e){e?l(this.dayGrid.rowEls):p(this.dayGrid.rowEls,t,!0)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Ee={renderHeadIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+Z(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"><span>"+this.getCellDate(t,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},Ce=Bt.MonthView=xe.extend({computeRange:function(t){var e,o=xe.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(o.end.diff(o.start,"weeks",!0)),o.end.add(6-e,"weeks")),o},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),p(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});Yt.basic={"class":xe},Yt.basicDay={type:"basic",duration:{days:1}},Yt.basicWeek={type:"basic",duration:{weeks:1}},Yt.month={"class":Ce,duration:{months:1},defaults:{fixedWeekCount:!0}};var Te=Bt.AgendaView=de.extend({timeGridClass:fe,timeGrid:null,dayGridClass:ce,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid())},instantiateTimeGrid:function(){var t=this.timeGridClass.extend(Me);return new t(this)},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Re);return new t(this)},setRange:function(t){de.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),de.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=h(this.el.find(".fc-axis"))},setHeight:function(t,e){var o,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),c(this.scrollerEl),n(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),o=this.opt("eventLimit"),o&&"number"!=typeof o&&(o=De),o&&this.dayGrid.limitRows(o)),e||(i=this.computeScrollerHeight(t),u(this.scrollerEl,i)?(r(this.noScrollRowEls,v(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),o=this.timeGrid.computeTimeTop(t);return o=Math.ceil(o),o&&o++,o},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var o=this.timeGrid.queryHit(t,e);return!o&&this.dayGrid&&(o=this.dayGrid.queryHit(t,e)),o},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,o,i=[],r=[],n=[];for(o=0;o<t.length;o++)t[o].allDay?i.push(t[o]):r.push(t[o]);e=this.timeGrid.renderEvents(r),this.dayGrid&&(n=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Me={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"><span>"+Z(t)+"</span></th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},Re={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+(t.opt("allDayHtml")||Z(t.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},De=5,Pe=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Yt.agenda={"class":Te,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Yt.agendaDay={type:"agenda",duration:{days:1}},Yt.agendaWeek={type:"agenda",duration:{weeks:1}},Bt}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(e,s,a,p,l){function h(o,i){var n=i||[{message:o}];(e.googleCalendarError||t.noop).apply(l,n),(l.options.googleCalendarError||t.noop).apply(l,n),r.warn.apply(null,[o].concat(i||[]))}var u,c,f=i+"/"+encodeURIComponent(e.googleCalendarId)+"/events?callback=?",d=e.googleCalendarApiKey||l.options.googleCalendarApiKey,y=e.success;return d?(s.hasZone()||(s=s.clone().utc().add(-1,"day")),a.hasZone()||(a=a.clone().utc().add(1,"day")),p&&"local"!=p&&(c=p.replace(" ","_")),u=t.extend({},e.data||{},{key:d,timeMin:s.format(),timeMax:a.format(),timeZone:c,singleEvents:!0,maxResults:9999}),t.extend({},e,{googleCalendarId:null,url:f,data:u,startParam:!1,endParam:!1,timezoneParam:!1,success:function(e){var i,r,s=[];if(e.error)h("Google Calendar API: "+e.error.message,e.error.errors);else if(e.items&&(t.each(e.items,function(t,e){var i=e.htmlLink;c&&(i=o(i,"ctz="+c)),s.push({id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:i,location:e.location,description:e.description})}),i=[s].concat(Array.prototype.slice.call(arguments,1)),r=n(y,this,i),t.isArray(r)))return r;return s}})):(h("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function o(t,e){return t.replace(/(\?.*?)?(#|$)/,function(t,o,i){return(o?o+"&":"?")+e+i})}var i="https://www.googleapis.com/calendar/v3/calendars",r=t.fullCalendar,n=r.applyAll;r.sourceNormalizers.push(function(t){var e,o=t.googleCalendarId,i=t.url;!o&&i&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(i)?o=i:((e=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(i))||(e=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(i)))&&(o=decodeURIComponent(e[1])),o&&(t.googleCalendarId=o)),o&&(null==t.editable&&(t.editable=!1),t.url=o)}),r.sourceFetchers.push(function(t,o,i,r){return t.googleCalendarId?e(t,o,i,r,this):void 0})}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){!function(){"use strict";var t=(e.defineLocale||e.lang).call(e,"ja",{months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"Ah\u6642m\u5206",LTS:"Ah\u6642m\u5206s\u79d2",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5Ah\u6642m\u5206 dddd"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5f8c"===t},meridiem:function(t,e,o){return 12>t?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:"[\u6765\u9031]dddd LT",lastDay:"[\u6628\u65e5] LT",lastWeek:"[\u524d\u9031]dddd LT",sameElse:"L"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}});return t}(),t.fullCalendar.datepickerLang("ja","ja",{closeText:"\u9589\u3058\u308b",prevText:"&#x3C;\u524d",nextText:"\u6b21&#x3E;",currentText:"\u4eca\u65e5",monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayNamesMin:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],weekHeader:"\u9031",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"}),t.fullCalendar.lang("ja",{buttonText:{month:"\u6708",week:"\u9031",day:"\u65e5",list:"\u4e88\u5b9a\u30ea\u30b9\u30c8"},allDayText:"\u7d42\u65e5",eventLimitText:function(t){return"\u4ed6 "+t+" \u4ef6"}})}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){var o,i,r,n,s,a,p,l,h,u,c,f,d,y,g,v,m,b,w,S,x,E,C,T,M,R,D,P,k,I,A,j,L,F,_,H,N,G,O,B,Y,U,W,V,z,X,K,$,Z,q,J,Q,tt,et,ot,it,rt,nt,st,at,pt,lt,ht,ut,ct,ft,dt,yt,gt,vt,mt,bt,wt,St,xt,Et,Ct,Tt,Mt,Rt,Dt,Pt,kt,It,At,jt,Lt,Ft,_t,Ht,Nt=[].slice,Gt=function(t,e){function o(){this.constructor=t}for(var i in e)Ot.call(e,i)&&(t[i]=e[i]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},Ot={}.hasOwnProperty;return u=t.fullCalendar,u.schedulerVersion="1.2.1",3!==u.internalApiVersion?void u.warn("v"+u.schedulerVersion+" of FullCalendar Scheduler is incompatible with v"+u.version+" of the core.\nPlease see http://fullcalendar.io/support/ for more information."):(i=u.Calendar,n=u.Class,V=u.View,c=u.Grid,yt=u.intersectRanges,tt=u.debounce,mt=u.isInt,ut=u.getScrollbarWidths,p=u.DragListener,dt=u.htmlEscape,$=u.computeIntervalUnit,kt=u.proxy,X=u.capitaliseFirstLetter,z=u.applyAll,l=u.Emitter,nt=u.durationHasTime,rt=u.divideRangeByDuration,it=u.divideDurationByDuration,St=u.multiplyDuration,Dt=u.parseFieldSpecs,K=u.compareByFieldSpecs,st=u.flexibleCompare,gt=u.intersectRects,s=u.CoordCache,at=function(t){return t.find("> td").filter(function(t,e){return e.rowSpan<=1})},At=null,xt=function(t,e){var o,i;if(o=t.css("direction"),i=t[0],null!=e){if("rtl"===o)switch(At){case"positive":e=e-i.clientWidth+i.scrollWidth;break;case"reverse":e=-e}return i.scrollLeft=e,t}if(e=i.scrollLeft,"rtl"===o)switch(At){case"positive":e=e+i.clientWidth-i.scrollWidth;break;case"reverse":e=-e}return e},ht=function(t){var e,o,i;if(e=t.css("direction"),o=t[0],i=o.scrollLeft,"rtl"===e)switch(At){case"negative":i=i-o.clientWidth+o.scrollWidth;break;case"reverse":i=-i-o.clientWidth+o.scrollWidth}return i},et=function(){var e,o,i;return e=t('<div style=" position: absolute top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 14px; ">A</div>').appendTo("body"),o=e[0],i=o.scrollLeft>0?"positive":(o.scrollLeft=1,e.scrollLeft>0?"reverse":"negative"),e.remove(),i},t(function(){return At=et()}),G=function(){function e(e,o){this.overflowX=null!=e?e:"auto",this.overflowY=null!=o?o:"auto",this.el=t('<div class="fc-scrollpane"> <div> <div class="fc-scrollpane-inner"> <div class="fc-content"/> <div class="fc-bg"/> </div> </div> </div>'),this.scrollEl=this.el.children(),this.innerEl=this.scrollEl.children(),this.contentEl=this.innerEl.find(".fc-content"),this.bgEl=this.innerEl.find(".fc-bg"),this.scrollEl.on("scroll",kt(this,"handleScroll")).on("scroll",tt(kt(this,"handleScrollStop"),100)),this.handlers={},this.gutters={}}return e.prototype.el=null,e.prototype.innerEl=null,e.prototype.contentEl=null,e.prototype.bgEl=null,e.prototype.overflowX=null,e.prototype.overflowY=null,e.prototype.isScrolling=!1,e.prototype.handlers=null,e.prototype.height=null,e.prototype.contentWidth=null,e.prototype.contentMinWidth=null,e.prototype.gutters=null,e.prototype.update=function(){var t,e,o,i,r,n,s;return n=this.scrollEl,i=this.overflowX,r=this.overflowY,e="invisible-scroll"===i,o="invisible-scroll"===r,n.toggleClass("fc-no-scrollbars",(e||"hidden"===i)&&(o||"hidden"===r)&&!ft(n)),n.css({overflowX:e?"scroll":i,overflowY:o?"scroll":r}),t={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},(e||o)&&(s=ut(n),e&&(t.marginTop=-s.top,t.marginBottom=-s.bottom),o&&(t.marginLeft=-s.left,t.marginRight=-s.right)),n.css(t)},e.prototype.getScrollbarWidths=function(){var t;return t=ut(this.scrollEl),"invisible-scroll"===this.overflowX&&(t.top=0,t.bottom=0),"invisible-scroll"===this.overflowY&&(t.left=0,t.right=0),t},e.prototype.handleScroll=function(){return this.isScrolling||(this.isScrolling=!0,this.trigger("scrollStart")),this.trigger("scroll",this.scrollEl.scrollTop(),this.scrollEl.scrollLeft())},e.prototype.handleScrollStop=function(){return this.isScrolling=!1,this.trigger("scrollStop")},e.prototype.setHeight=function(t){return this.height=t,this.updateCss()},e.prototype.getHeight=function(){var t;return null!=(t=this.height)?t:this.scrollEl.height()},e.prototype.setContentWidth=function(t){return this.contentWidth=t,this.updateCss()},e.prototype.setContentMinWidth=function(t){return this.contentMinWidth=t,this.updateCss()},e.prototype.setGutters=function(e){return e?t.extend(this.gutters,e):this.gutters={},this.updateCss()},e.prototype.updateCss=function(){var t;return this.scrollEl.height(this.height),t=this.gutters,this.innerEl.css({width:this.contentWidth?this.contentWidth+(t.left||0)+(t.right||0):"",minWidth:this.contentMinWidth?this.contentMinWidth+(t.left||0)+(t.right||0):void 0,paddingLeft:t.left||"",paddingRight:t.right||"",paddingTop:t.top||"",paddingBottom:t.bottom||""}),this.bgEl.css({left:t.left||"",right:t.right||"",top:t.top||"",bottom:t.bottom||""})},e.prototype.append=function(t){return this.contentEl.append(t)},e.prototype.scrollTop=function(t){return this.scrollEl.scrollTop(t)},e.prototype.scrollLeft=function(t){return this.scrollEl.scrollLeft(t)},e.prototype.on=function(t,e){var o;return((o=this.handlers)[t]||(o[t]=[])).push(e),this},e.prototype.trigger=function(){var t,e,o,i,r,n;for(o=arguments[0],t=2<=arguments.length?Nt.call(arguments,1):[],n=this.handlers[o]||[],i=0,r=n.length;r>i;i++)e=n[i],e.apply(this,t)},e}(),ft=function(t){var e;return e=ut(t),e.left||e.right||e.top||e.bottom},N=function(){function t(t,e){var o,i,r,n;for(this.axis=t,this.scrollers=e,r=this.scrollers,o=0,i=r.length;i>o;o++)n=r[o],this.initScroller(n)}return t.prototype.axis=null,t.prototype.scrollers=null,t.prototype.masterScroller=null,t.prototype.enabled=!0,t.prototype.enable=function(){return this.enabled=!0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.initScroller=function(t){return t.on("scrollStart",function(e){return function(){e.masterScroller||(e.masterScroller=t)}}(this)).on("scroll",function(e){return function(o,i){var r,n,s,a;if(t===e.masterScroller)for(a=e.scrollers,r=0,n=a.length;n>r;r++)if(s=a[r],s!==e.masterScroller)switch(e.axis){case"horizontal":s.scrollLeft(i);break;case"vertical":s.scrollTop(o)}}}(this)).on("scrollStop",function(e){return function(){t===e.masterScroller&&(e.masterScroller=null)}}(this))},t.prototype.update=function(){var t,e,o,i,r,n,s,a,p,l,h,u,c;for(t=function(){var t,e,o,i;for(o=this.scrollers,i=[],t=0,e=o.length;e>t;t++)u=o[t],i.push(u.getScrollbarWidths());return i}.call(this),a=p=l=s=0,o=0,r=t.length;r>o;o++)c=t[o],a=Math.max(a,c.left),p=Math.max(p,c.right),l=Math.max(l,c.top),s=Math.max(s,c.bottom);for(h=this.scrollers,e=i=0,n=h.length;n>i;e=++i)u=h[e],c=t[e],u.setGutters("horizontal"===this.axis?{left:a-c.left,right:p-c.right}:{top:l-c.top,bottom:s-c.bottom})},t}(),_=function(){function e(t){this.scroller=t,this.sprites=[],this.scroller.on("scrollStart",function(t){return function(){return t.shouldRequeryDimensions?t.cacheDimensions():void 0}}(this)),this.scroller.on("scroll",function(t){return function(e,o){var i,r,n;return r=t.scroller.scrollEl,i=ht(r),n=r.scrollTop(),t.viewportRect={left:i,right:i+r[0].clientWidth,top:n,bottom:n+r[0].clientHeight},t.updatePositions()}}(this))}return e.prototype.scroller=null,e.prototype.scrollbarWidths=null,e.prototype.sprites=null,e.prototype.viewportRect=null,e.prototype.contentOffset=null,e.prototype.isHFollowing=!0,e.prototype.isVFollowing=!1,e.prototype.containOnNaturalLeft=!1,e.prototype.containOnNaturalRight=!1,e.prototype.shouldRequeryDimensions=!1,e.prototype.minTravel=0,e.prototype.isForcedAbsolute=!1,e.prototype.isForcedRelative=!1,e.prototype.setSprites=function(e){var o,i,r;if(this.clearSprites(),e instanceof t)return this.sprites=function(){var o,i,n;for(n=[],o=0,i=e.length;i>o;o++)r=e[o],n.push(new H(t(r),this));
return n}.call(this);for(o=0,i=e.length;i>o;o++)r=e[o],r.follower=this;return this.sprites=e},e.prototype.clearSprites=function(){var t,e,o,i;for(o=this.sprites,t=0,e=o.length;e>t;t++)i=o[t],i.clear();return this.sprites=[]},e.prototype.cacheDimensions=function(){var t,e,o,i,r,n,s;for(r=this.scroller.scrollEl,e=ht(r),s=r.scrollTop(),this.viewportRect={left:e,right:e+r[0].clientWidth,top:s,bottom:s+r[0].clientHeight},this.scrollbarWidths=this.scroller.getScrollbarWidths(),this.contentOffset=this.scroller.innerEl.offset(),i=this.sprites,t=0,o=i.length;o>t;t++)n=i[t],n.cacheDimensions()},e.prototype.forceAbsolute=function(){var t,e,o,i,r;for(this.isForcedAbsolute=!0,o=this.sprites,i=[],t=0,e=o.length;e>t;t++)r=o[t],i.push(r.doAbsolute?void 0:r.assignPosition());return i},e.prototype.forceRelative=function(){var t,e,o,i,r;for(this.isForcedRelative=!0,o=this.sprites,i=[],t=0,e=o.length;e>t;t++)r=o[t],i.push(r.doAbsolute?r.assignPosition():void 0);return i},e.prototype.clearForce=function(){var t,e,o,i,r;for(this.isForcedRelative=!1,this.isForcedAbsolute=!1,o=this.sprites,i=[],t=0,e=o.length;e>t;t++)r=o[t],i.push(r.assignPosition());return i},e.prototype.update=function(){return this.cacheDimensions(),this.updatePositions()},e.prototype.updatePositions=function(){var t,e,o,i;for(o=this.sprites,t=0,e=o.length;e>t;t++)i=o[t],i.updatePosition()},e.prototype.getContentRect=function(t){var e,o,i;return o=t.offset(),e=o.left+parseFloat(t.css("border-left-width"))+parseFloat(t.css("padding-left"))-this.contentOffset.left,i=o.top+parseFloat(t.css("border-left-width"))+parseFloat(t.css("padding-left"))-this.contentOffset.top,{left:e,right:e+t.width(),top:i,bottom:i+t.height()}},e.prototype.getBoundingRect=function(t){var e,o,i;return o=t.offset(),e=o.left-this.contentOffset.left,i=o.top-this.contentOffset.top,{left:e,right:e+t.outerWidth(),top:i,bottom:i+t.outerHeight()}},e}(),H=function(){function t(t,e){this.el=t,this.follower=null!=e?e:null,this.isBlock="block"===this.el.css("display"),this.el.css("position","relative")}return t.prototype.follower=null,t.prototype.el=null,t.prototype.absoluteEl=null,t.prototype.naturalRect=null,t.prototype.parentRect=null,t.prototype.containerRect=null,t.prototype.isEnabled=!0,t.prototype.isHFollowing=!1,t.prototype.isVFollowing=!1,t.prototype.doAbsolute=!1,t.prototype.isAbsolute=!1,t.prototype.isCentered=!1,t.prototype.rect=null,t.prototype.isBlock=!1,t.prototype.naturalWidth=null,t.prototype.disable=function(){return this.isEnabled?(this.isEnabled=!1,this.resetPosition(),this.unabsolutize()):void 0},t.prototype.enable=function(){return this.isEnabled?void 0:(this.isEnabled=!0,this.assignPosition())},t.prototype.clear=function(){return this.disable(),this.follower=null,this.absoluteEl=null},t.prototype.cacheDimensions=function(){var t,e,o,i,r,n,s,a;return i=!1,r=!1,o=!1,this.naturalWidth=this.el.width(),this.resetPosition(),e=this.follower,s=this.naturalRect=e.getBoundingRect(this.el),a=this.el.parent(),this.parentRect=e.getBoundingRect(a),t=this.containerRect=wt(e.getContentRect(a),s),n=e.minTravel,e.containOnNaturalLeft&&(t.left=s.left),e.containOnNaturalRight&&(t.right=s.right),e.isHFollowing&&lt(t)-lt(s)>=n&&(o="center"===this.el.css("text-align"),i=!0),e.isVFollowing&&pt(t)-pt(s)>=n&&(r=!0),this.isHFollowing=i,this.isVFollowing=r,this.isCentered=o},t.prototype.updatePosition=function(){return this.computePosition(),this.assignPosition()},t.prototype.resetPosition=function(){return this.el.css({top:"",left:""})},t.prototype.computePosition=function(){var t,e,o,i,r,n,s,a;return s=this.follower.viewportRect,o=this.parentRect,t=this.containerRect,a=gt(s,o),i=null,e=!1,a&&(i=J(this.naturalRect),n=gt(i,o),(this.isCentered&&!jt(s,o)||n&&!jt(s,n))&&(e=!0,this.isHFollowing&&(this.isCentered?(r=lt(i),i.left=(a.left+a.right)/2-r/2,i.right=i.left+r):ct(i,s)||(e=!1),ct(i,t)&&(e=!1)),this.isVFollowing&&(Ht(i,s)||(e=!1),Ht(i,t)&&(e=!1)),jt(s,i)||(e=!1))),this.rect=i,this.doAbsolute=e},t.prototype.assignPosition=function(){var t,e;return this.isEnabled?this.rect?!this.doAbsolute&&!this.follower.isForcedAbsolute||this.follower.isForcedRelative?(e=this.rect.top-this.naturalRect.top,t=this.rect.left-this.naturalRect.left,this.unabsolutize(),this.el.toggleClass("fc-following",Boolean(e||t)).css({top:e,left:t})):(this.absolutize(),this.absoluteEl.css({top:this.rect.top-this.follower.viewportRect.top+this.follower.scrollbarWidths.top,left:this.rect.left-this.follower.viewportRect.left+this.follower.scrollbarWidths.left,width:this.isBlock?this.naturalWidth:""})):this.unabsolutize():void 0},t.prototype.absolutize=function(){return this.isAbsolute?void 0:(this.absoluteEl||(this.absoluteEl=this.buildAbsoluteEl()),this.absoluteEl.appendTo(this.follower.scroller.el),this.el.css("visibility","hidden"),this.isAbsolute=!0)},t.prototype.unabsolutize=function(){return this.isAbsolute?(this.absoluteEl.detach(),this.el.css("visibility",""),this.isAbsolute=!1):void 0},t.prototype.buildAbsoluteEl=function(){return this.el.clone().addClass("fc-following").css({position:"absolute","z-index":1e3,"font-weight":this.el.css("font-weight"),"font-size":this.el.css("font-size"),"font-family":this.el.css("font-family"),color:this.el.css("color"),"padding-top":this.el.css("padding-top"),"padding-bottom":this.el.css("padding-bottom"),"padding-left":this.el.css("padding-left"),"padding-right":this.el.css("padding-right"),"pointer-events":"none"})},t}(),J=function(t){return{left:t.left,right:t.right,top:t.top,bottom:t.bottom}},lt=function(t){return t.right-t.left},pt=function(t){return t.bottom-t.top},jt=function(t,e){return Lt(t,e)&&Ft(t,e)},Lt=function(t,e){return e.left>=t.left&&e.right<=t.right},Ft=function(t,e){return e.top>=t.top&&e.bottom<=t.bottom},ct=function(t,e){return t.left<e.left?(t.right=e.left+lt(t),t.left=e.left,!0):t.right>e.right?(t.left=e.right-lt(t),t.right=e.right,!0):!1},Ht=function(t,e){return t.top<e.top?(t.bottom=e.top+pt(t),t.top=e.top,!0):t.bottom>e.bottom?(t.top=e.bottom-pt(t),t.bottom=e.bottom,!0):!1},wt=function(t,e){return{left:Math.min(t.left,e.left),right:Math.max(t.right,e.right),top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom)}},r=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.prototype.resourceManager=null,o.prototype.initialize=function(){return this.resourceManager=new M(this)},o.prototype.instantiateView=function(t){var e,o;return e=this.getViewSpec(t),o=e["class"],this.options.resources&&e.options.resources!==!1&&(e.queryResourceClass?o=e.queryResourceClass(e)||o:e.resourceClass&&(o=e.resourceClass)),new o(this,t,e.options,e.duration)},o.prototype.getResources=function(){return this.resourceManager.topLevelResources},o.prototype.addResource=function(t,e){var o;null==e&&(e=!1),o=this.resourceManager.addResource(t),e&&this.view.scrollToResource&&o.done(function(t){return function(e){return t.view.scrollToResource(e)}}(this))},o.prototype.removeResource=function(t){return this.resourceManager.removeResource(t)},o.prototype.refetchResources=function(){this.resourceManager.fetchResources()},o.prototype.rerenderResources=function(){this.resourceManager.resetResources()},o.prototype.getPeerEvents=function(t,e){var i,r,n,s,a,p,l,h,u,c,f,d,y,g;for(d=o.__super__.getPeerEvents.apply(this,arguments),c=t.resourceId?[t.resourceId]:e?this.getEventResourceIds(e):[],i=[],n=0,p=d.length;p>n;n++){if(f=d[n],r=!1,g=this.getEventResourceIds(f),g.length&&c.length){for(s=0,l=g.length;l>s;s++)for(y=g[s],a=0,h=c.length;h>a;a++)if(u=c[a],u===y){r=!0;break}}else r=!0;r&&i.push(f)}return i},o.prototype.buildSelectSpan=function(t,e,i){var r;return r=o.__super__.buildSelectSpan.apply(this,arguments),i&&(r.resourceId=i),r},o.prototype.getResourceById=function(t){return this.resourceManager.getResourceById(t)},o.prototype.getEventResourceId=function(t){return this.getEventResourceIds(t)[0]},o.prototype.getEventResourceIds=function(t){var e,o,i,r,n,s,a,p;if(p=String(null!=(n=null!=(s=t[this.getEventResourceField()])?s:t.resourceId)?n:""))return[p];if(t.resourceIds){for(r=[],a=t.resourceIds,e=0,o=a.length;o>e;e++)p=a[e],i=String(null!=p?p:""),i&&r.push(i);return r}return[]},o.prototype.setEventResourceId=function(t,e){return t[this.getEventResourceField()]=String(null!=e?e:"")},o.prototype.getEventResourceField=function(){return this.options.eventResourceField||"resourceId"},o.prototype.getResourceEvents=function(e){var o;return o="object"==typeof e?e:this.getResourceById(e),o?this.clientEvents(function(e){return function(i){return-1!==t.inArray(o.id,e.getEventResourceIds(i))}}(this)):[]},o.prototype.getEventResource=function(t){return this.getEventResources(t)[0]},o.prototype.getEventResources=function(t){var e,o,i,r,n,s,a;if(e="object"==typeof t?t:this.clientEvents(t)[0],a=[],e)for(r=this.getEventResourceIds(e),o=0,i=r.length;i>o;o++)s=r[o],n=this.getResourceById(s),n&&a.push(n);return a},o}(i),i.prototype=r.prototype,Ct=V.prototype.displayView,Mt=V.prototype.renderSkeleton,Rt=V.prototype.unrenderSkeleton,Et=V.prototype.displayEvents,V.prototype.isResourcesBound=!1,V.prototype.settingResources=null,V.prototype.displayView=function(){return Ct.apply(this,arguments),Pt(this.calendar.options.schedulerLicenseKey,this.el),this.bindResources(),this.whenResources()},V.prototype.unrenderSkeleton=function(){return Rt.apply(this,arguments),this.unbindResources()},V.prototype.displayEvents=function(t){return this.whenResources(function(e){return function(){return Et.call(e,t)}}(this))},V.prototype.bindResources=function(){var e;return this.isResourcesBound?void 0:(this.isResourcesBound=!0,this.settingResources=t.Deferred(),e=function(t){return function(e){return t.setResources(e),t.settingResources.resolve()}}(this),this.calendar.resourceManager.on("set",this._setResources=e).on("unset",this._unsetResources=kt(this,"unsetResources")).on("reset",this._resetResources=kt(this,"resetResources")).on("add",this._addResource=kt(this,"addResource")).on("remove",this._removeResource=kt(this,"removeResource")),this.calendar.resourceManager.hasFetched()?e(this.calendar.resourceManager.topLevelResources):this.calendar.resourceManager.getResources())},V.prototype.unbindResources=function(){return this.isResourcesBound?(this.calendar.resourceManager.off("set",this._setResources).off("unset",this._unsetResources).off("reset",this._resetResources).off("add",this._addResource).off("remove",this._removeResource),"resolved"===this.settingResources.state()&&this.unsetResources(),this.settingResources=null,this.isResourcesBound=!1):void 0},V.prototype.whenResources=function(e){return"resolved"===this.settingResources.state()?t.when(e?e():void 0):e?this.settingResources.then(e):this.settingResources.promise()},V.prototype.setResources=function(t){},V.prototype.unsetResources=function(){},V.prototype.resetResources=function(t){return this.calendar.rerenderEvents()},V.prototype.addResource=function(t){return this.resetResources(this.calendar.resourceManager.topLevelResources)},V.prototype.removeResource=function(t){return this.resetResources(this.calendar.resourceManager.topLevelResources)},Tt=c.prototype.getSegClasses,c.prototype.getSegClasses=function(t){var e,o,i,r,n;for(e=Tt.apply(this,arguments),r=this.getSegResources(t),o=0,i=r.length;i>o;o++)n=r[o],e=e.concat(n.eventClassName||[]);return e},c.prototype.getSegSkinCss=function(t){var e,o,i,r,n,s,a,p,l,h;return h=this.view,e=t.event,p=e.source||{},o=e.color,l=p.color,s=h.opt("eventColor"),a=this.getSegResources(t),i=function(){var t,e,o,i;for(i=null,e=0,o=a.length;o>e;e++)for(t=a[e];t&&!i;)i=t.eventBackgroundColor||t.eventColor,t=t._parent;return i},r=function(){var t,e,o,i;for(i=null,e=0,o=a.length;o>e;e++)for(t=a[e];t&&!i;)i=t.eventBorderColor||t.eventColor,t=t._parent;return i},n=function(){var t,e,o,i;for(i=null,e=0,o=a.length;o>e;e++)for(t=a[e];t&&!i;)i=t.eventTextColor,t=t._parent;return i},{"background-color":e.backgroundColor||o||i()||p.backgroundColor||l||h.opt("eventBackgroundColor")||s,"border-color":e.borderColor||o||r()||p.borderColor||l||h.opt("eventBorderColor")||s,color:e.textColor||n()||p.textColor||h.opt("eventTextColor")}},c.prototype.getSegResources=function(t){return t.resource?[t.resource]:this.view.calendar.getEventResources(t.event)},M=function(e){function o(t){this.calendar=t,this.initializeCache()}return Gt(o,e),o.mixin(l),o.resourceGuid=1,o.ajaxDefaults={dataType:"json",cache:!1},o.prototype.calendar=null,o.prototype.topLevelResources=null,o.prototype.resourcesById=null,o.prototype.fetching=null,o.prototype.hasFetched=function(){return this.fetching&&"resolved"===this.fetching.state()},o.prototype.getResources=function(){var e;return this.fetching?t.Deferred().resolve(this.topLevelResources).promise():(e=t.Deferred(),this.fetchResources().done(function(t){return e.resolve(t)}).fail(function(){return e.resolve([])}),e)},o.prototype.fetchResources=function(){var e;return e=this.fetching,t.when(e).then(function(t){return function(){return t.fetching=t.fetchResourceInputs().then(function(o){return t.setResources(o,Boolean(e)),t.topLevelResources})}}(this))},o.prototype.fetchResourceInputs=function(){var e,i,r;switch(e=t.Deferred(),r=this.calendar.options.resources,"string"===t.type(r)&&(r={url:r}),t.type(r)){case"function":r(function(t){return function(t){return e.resolve(t)}}(this));break;case"object":i=t.ajax(t.extend({},o.ajaxDefaults,r));break;case"array":e.resolve(r);break;default:e.resolve([])}return i||(i=e.promise()),"pending"===!i.state()&&(this.calendar.pushLoading(),i.always(function(){return this.calendar.popLoading()})),i},o.prototype.resetResources=function(){return this.getResources().then(function(t){return function(){return t.trigger("reset",t.topLevelResources)}}(this))},o.prototype.getResourceById=function(t){return this.resourcesById[t]},o.prototype.initializeCache=function(){return this.topLevelResources=[],this.resourcesById={}},o.prototype.setResources=function(t,e){var o,i,r,n,s,a;for(this.initializeCache(),s=function(){var e,o,i;for(i=[],e=0,o=t.length;o>e;e++)n=t[e],i.push(this.buildResource(n));return i}.call(this),a=function(){var t,e,o;for(o=[],t=0,e=s.length;e>t;t++)r=s[t],this.addResourceToIndex(r)&&o.push(r);return o}.call(this),o=0,i=a.length;i>o;o++)r=a[o],this.addResourceToTree(r);return e?this.trigger("reset",this.topLevelResources):this.trigger("set",this.topLevelResources),this.calendar.trigger("resourcesSet",null,this.topLevelResources)},o.prototype.addResource=function(e){return t.when(this.fetching).then(function(t){return function(){var o;return o=t.buildResource(e),t.addResourceToIndex(o)?(t.addResourceToTree(o),t.trigger("add",o),o):!1}}(this))},o.prototype.addResourceToIndex=function(t){var e,o,i,r;if(this.resourcesById[t.id])return!1;for(this.resourcesById[t.id]=t,r=t.children,o=0,i=r.length;i>o;o++)e=r[o],this.addResourceToIndex(e);return!0},o.prototype.addResourceToTree=function(t){var e,o,i,r;if(!t.parent){if(o=String(null!=(i=t.parentId)?i:"")){if(e=this.resourcesById[o],!e)return!1;t.parent=e,r=e.children}else r=this.topLevelResources;r.push(t)}return!0},o.prototype.removeResource=function(e){var o;return o="object"==typeof e?e.id:e,t.when(this.fetching).then(function(t){return function(){var e;return e=t.removeResourceFromIndex(o),e&&(t.removeResourceFromTree(e),t.trigger("remove",e)),e}}(this))},o.prototype.removeResourceFromIndex=function(t){var e,o,i,r,n;if(n=this.resourcesById[t]){for(delete this.resourcesById[t],r=n.children,o=0,i=r.length;i>o;o++)e=r[o],this.removeResourceFromIndex(e.id);return n}return!1},o.prototype.removeResourceFromTree=function(t,e){var o,i,r,n;for(null==e&&(e=this.topLevelResources),o=i=0,r=e.length;r>i;o=++i){if(n=e[o],n===t)return t.parent=null,e.splice(o,1),!0;if(this.removeResourceFromTree(t,n.children))return!0}return!1},o.prototype.buildResource=function(e){var i,r,n,s,a;return a=t.extend({},e),a.id=String(null!=(s=e.id)?s:"_fc"+o.resourceGuid++),n=e.eventClassName,a.eventClassName=function(){switch(t.type(n)){case"string":return n.split(/\s+/);case"array":return n;default:return[]}}(),a.children=function(){var t,o,n,s,p;for(s=null!=(n=e.children)?n:[],p=[],t=0,o=s.length;o>t;t++)r=s[t],i=this.buildResource(r),i.parent=a,p.push(i);return p}.call(this),a},o}(n),A=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.prototype.resourceTextFunc=null,o.prototype.unsetResources=function(){return this.clearEvents()},o.prototype.resetResources=function(t){var e;return e=this.queryScroll(),this.unsetResources(),this.setResources(t),this.setScroll(e),this.calendar.rerenderEvents()},o.prototype.getResourceText=function(t){return this.getResourceTextFunc()(t)},o.prototype.getResourceTextFunc=function(){var t;return this.resourceTextFunc?this.resourceTextFunc:(t=this.opt("resourceText"),"function"!=typeof t&&(t=function(t){return t.title||t.id}),this.resourceTextFunc=t)},o.prototype.triggerDayClick=function(t,e,o){var i;return i=this.calendar.resourceManager,this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),o,this,i.getResourceById(t.resourceId))},o.prototype.triggerSelect=function(t,e){var o;return o=this.calendar.resourceManager,this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e,this,o.getResourceById(t.resourceId))},o.prototype.triggerExternalDrop=function(t,e,o,i,r){return this.trigger("drop",o[0],e.start,i,r,e.resourceId),t?this.trigger("eventReceive",null,t):void 0},o.prototype.reportEventDrop=function(){var t,e,i;return e=arguments[0],t=arguments[1],i=3<=arguments.length?Nt.call(arguments,2):[],t=this.normalizeDropLocation(t),t.resourceId&&e.resourceIds&&(t.resourceIds=null),o.__super__.reportEventDrop.apply(this,[e,t].concat(Nt.call(i)))},o.prototype.reportExternalDrop=function(){var t,e,i;return e=arguments[0],t=arguments[1],i=3<=arguments.length?Nt.call(arguments,2):[],t=this.normalizeDropLocation(t),o.__super__.reportExternalDrop.apply(this,[e,t].concat(Nt.call(i)))},o.prototype.normalizeDropLocation=function(e){var o;return o=t.extend({},e),delete o.resourceId,this.calendar.setEventResourceId(o,e.resourceId),o},o}(V),T=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.prototype.allowCrossResource=!0,o.prototype.eventRangeToSpans=function(e,i){var r,n,s,a,p;if(a=this.view.calendar.getEventResourceIds(i),a.length){for(p=[],r=0,n=a.length;n>r;r++)s=a[r],p.push(t.extend({},e,{resourceId:s}));return p}return u.isBgEvent(i)?o.__super__.eventRangeToSpans.apply(this,arguments):[]},o.prototype.fabricateHelperEvent=function(t,e){var i;return i=o.__super__.fabricateHelperEvent.apply(this,arguments),this.view.calendar.setEventResourceId(i,t.resourceId),i},o.prototype.computeEventDrop=function(t,e,i){var r,n;return r=!0,r||t.resourceId===e.resourceId?(n=o.__super__.computeEventDrop.apply(this,arguments),n&&(n.resourceId=e.resourceId),n):null},o.prototype.computeExternalDrop=function(t,e){var i;return i=o.__super__.computeExternalDrop.apply(this,arguments),i&&(i.resourceId=t.resourceId),i},o.prototype.computeEventResize=function(t,e,i,r){var n;return this.allowCrossResource||e.resourceId===i.resourceId?(n=o.__super__.computeEventResize.apply(this,arguments),n&&(n.resourceId=e.resourceId),n):void 0},o.prototype.computeSelectionSpan=function(t,e){var i;return this.allowCrossResource||t.resourceId===e.resourceId?(i=o.__super__.computeSelectionSpan.apply(this,arguments),i&&(i.resourceId=t.resourceId),i):void 0},o}(c),C={flattenedResources:null,resourceCnt:0,datesAboveResources:!1,allowCrossResource:!1,setResources:function(t){return this.flattenedResources=this.flattenResources(t),this.resourceCnt=this.flattenedResources.length,this.updateDayTableCols()},unsetResources:function(){return this.flattenedResources=null,this.resourceCnt=0,this.updateDayTableCols()},flattenResources:function(t){var e,o,i,r;return o=this.view.opt("resourceOrder"),o?(e=Dt(o),r=function(t,o){return K(t,o,e)}):r=null,i=[],this.accumulateResources(t,r,i),i},accumulateResources:function(t,e,o){var i,r,n,s,a;for(e?(a=t.slice(0),a.sort(e)):a=t,s=[],i=0,r=a.length;r>i;i++)n=a[i],o.push(n),s.push(this.accumulateResources(n.children,e,o));return s},updateDayTableCols:function(){return this.datesAboveResources=this.view.opt("groupByDateAndResource"),u.DayTableMixin.updateDayTableCols.call(this)},computeColCnt:function(){return(this.resourceCnt||1)*this.daysPerRow},getColDayIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?Math.floor(t/(this.resourceCnt||1)):t%this.daysPerRow},getColResource:function(t){return this.flattenedResources[this.getColResourceIndex(t)]},getColResourceIndex:function(t){return this.isRTL&&(t=this.colCnt-1-t),this.datesAboveResources?t%(this.resourceCnt||1):Math.floor(t/this.daysPerRow)},indicesToCol:function(t,e){var o;return o=this.datesAboveResources?e*(this.resourceCnt||1)+t:t*this.daysPerRow+e,this.isRTL&&(o=this.colCnt-1-o),o},renderHeadTrHtml:function(){return this.resourceCnt?this.daysPerRow>1?this.datesAboveResources?this.renderHeadDateAndResourceHtml():this.renderHeadResourceAndDateHtml():this.renderHeadResourceHtml():u.DayTableMixin.renderHeadTrHtml.call(this)},renderHeadResourceHtml:function(){var t,e,o,i,r;for(r=[],o=this.flattenedResources,t=0,e=o.length;e>t;t++)i=o[t],r.push(this.renderHeadResourceCellHtml(i));return this.wrapTr(r,"renderHeadIntroHtml")},renderHeadResourceAndDateHtml:function(){var t,e,o,i,r,n,s,a,p,l;for(l=[],e=[],s=this.flattenedResources,i=0,n=s.length;n>i;i++)for(p=s[i],l.push(this.renderHeadResourceCellHtml(p,null,this.daysPerRow)),o=r=0,a=this.daysPerRow;a>r;o=r+=1)t=this.dayDates[o].clone(),e.push(this.renderHeadResourceDateCellHtml(t,p));return this.wrapTr(l,"renderHeadIntroHtml")+this.wrapTr(e,"renderHeadIntroHtml")},renderHeadDateAndResourceHtml:function(){var t,e,o,i,r,n,s,a,p,l;for(e=[],l=[],o=i=0,s=this.daysPerRow;s>i;o=i+=1)for(t=this.dayDates[o].clone(),e.push(this.renderHeadDateCellHtml(t,this.resourceCnt)),a=this.flattenedResources,r=0,n=a.length;n>r;r++)p=a[r],l.push(this.renderHeadResourceCellHtml(p,t));return this.wrapTr(e,"renderHeadIntroHtml")+this.wrapTr(l,"renderHeadIntroHtml")},renderHeadResourceCellHtml:function(t,e,o){return'<th class="fc-resource-cell" data-resource-id="'+t.id+'"'+(e?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(o>1?' colspan="'+o+'"':"")+">"+dt(this.view.getResourceText(t))+"</th>"},renderHeadResourceDateCellHtml:function(t,e,o){return this.renderHeadDateCellHtml(t,o,'data-resource-id="'+e.id+'"')},processHeadResourceEls:function(e){return e.find(".fc-resource-cell").each(function(e){return function(o,i){var r;return r=e.datesAboveResources?e.getColResource(o):e.flattenedResources[e.isRTL?e.flattenedResources.length-1-o:o],e.view.trigger("resourceRender",r,r,t(i),t())}}(this))},renderBgCellsHtml:function(t){var e,o,i,r,n,s;if(this.resourceCnt){for(i=[],e=r=0,n=this.colCnt;n>r;e=r+=1)o=this.getCellDate(t,e),s=this.getColResource(e),i.push(this.renderResourceBgCellHtml(o,s));return i.join("")}return u.DayTableMixin.renderBgCellsHtml.call(this,t)},renderResourceBgCellHtml:function(t,e){return this.renderBgCellHtml(t,'data-resource-id="'+e.id+'"')},wrapTr:function(t,e){return this.isRTL?(t.reverse(),"<tr>"+t.join("")+this[e]()+"</tr>"):"<tr>"+this[e]()+t.join("")+"</tr>"}},E=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.mixin(T),o.mixin(C),o.prototype.getHitSpan=function(t){var e;return e=o.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},o.prototype.spanToSegs=function(e){var o,i,r,n,s,a,p,l,h,u,c,f,d;if(h=this.resourceCnt,i=this.datesAboveResources?this.sliceRangeByDay(e):this.sliceRangeByRow(e),h){for(f=[],n=0,p=i.length;p>n;n++)for(d=i[n],u=s=0,l=h;l>s;u=s+=1)c=this.flattenedResources[u],e.resourceId&&e.resourceId!==c.id||(o=t.extend({},d),o.resource=c,this.isRTL?(o.leftCol=this.indicesToCol(u,d.lastRowDayIndex),o.rightCol=this.indicesToCol(u,d.firstRowDayIndex)):(o.leftCol=this.indicesToCol(u,d.firstRowDayIndex),o.rightCol=this.indicesToCol(u,d.lastRowDayIndex)),f.push(o));return f}for(r=0,a=i.length;a>r;r++)d=i[r],this.isRTL?(d.leftCol=d.lastRowDayIndex,d.rightCol=d.firstRowDayIndex):(d.leftCol=d.firstRowDayIndex,d.rightCol=d.lastRowDayIndex);return i},o}(u.DayGrid),P=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.mixin(T),o.mixin(C),o.prototype.getHitSpan=function(t){var e;return e=o.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(e.resourceId=this.getColResource(t.col).id),e},o.prototype.spanToSegs=function(e){var o,i,r,n,s,a,p,l,h,u,c,f,d;if(h=this.resourceCnt,i=this.sliceRangeByTimes(e),h){for(f=[],n=0,p=i.length;p>n;n++)for(d=i[n],u=s=0,l=h;l>s;u=s+=1)c=this.flattenedResources[u],e.resourceId&&e.resourceId!==c.id||(o=t.extend({},d),o.resource=c,o.col=this.indicesToCol(u,d.dayIndex),f.push(o));return f}for(r=0,a=i.length;a>r;r++)d=i[r],d.col=d.dayIndex;return i},o}(u.TimeGrid),Y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gt(e,t),e.prototype.timeGrid=null,e.prototype.isScrolled=!1,e.prototype.initialize=function(){return this.timeGrid=this.instantiateGrid(),this.intervalDuration=this.timeGrid.duration},e.prototype.instantiateGrid=function(){return new B(this)},e.prototype.setRange=function(t){return e.__super__.setRange.apply(this,arguments),this.timeGrid.setRange(t)},e.prototype.renderSkeleton=function(){return this.el.addClass("fc-timeline"),this.opt("eventOverlap")===!1&&this.el.addClass("fc-no-overlap"),this.el.html(this.renderSkeletonHtml()),this.renderTimeGridSkeleton()},e.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},e.prototype.renderTimeGridSkeleton=function(){return this.timeGrid.setElement(this.el.find("tbody .fc-time-area")),this.timeGrid.headEl=this.el.find("thead .fc-time-area"),this.timeGrid.renderSkeleton(),this.isScrolled=!1,this.timeGrid.bodyScroller.on("scroll",kt(this,"handleBodyScroll"))},e.prototype.handleBodyScroll=function(t,e){if(t){if(!this.isScrolled)return this.isScrolled=!0,this.el.addClass("fc-scrolled")}else if(this.isScrolled)return this.isScrolled=!1,this.el.removeClass("fc-scrolled")},e.prototype.unrenderSkeleton=function(){return this.timeGrid.removeElement(),this.handleBodyScroll(0),e.__super__.unrenderSkeleton.apply(this,arguments)},e.prototype.renderDates=function(){return this.timeGrid.renderDates()},e.prototype.unrenderDates=function(){return this.timeGrid.unrenderDates()},e.prototype.renderBusinessHours=function(){return this.timeGrid.renderBusinessHours()},e.prototype.unrenderBusinessHours=function(){return this.timeGrid.unrenderBusinessHours()},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.renderNowIndicator=function(t){return this.timeGrid.renderNowIndicator(t)},e.prototype.unrenderNowIndicator=function(){return this.timeGrid.unrenderNowIndicator()},e.prototype.prepareHits=function(){return this.timeGrid.prepareHits()},e.prototype.releaseHits=function(){return this.timeGrid.releaseHits()},e.prototype.queryHit=function(t,e){return this.timeGrid.queryHit(t,e)},e.prototype.getHitSpan=function(t){return this.timeGrid.getHitSpan(t)},e.prototype.getHitEl=function(t){return this.timeGrid.getHitEl(t)},e.prototype.updateWidth=function(){return this.timeGrid.updateWidth()},e.prototype.setHeight=function(t,e){var o;return o=e?"auto":t-this.timeGrid.headHeight()-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(o)},e.prototype.queryMiscHeight=function(){return this.el.outerHeight()-this.timeGrid.headScroller.el.outerHeight()-this.timeGrid.bodyScroller.el.outerHeight()},e.prototype.computeInitialScroll=function(t){return this.timeGrid.computeInitialScroll(t)},e.prototype.queryScroll=function(){return this.timeGrid.queryScroll()},e.prototype.setScroll=function(t){return this.timeGrid.setScroll(t)},e.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.updateWidth()},e.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.updateWidth()},e.prototype.renderDrag=function(t,e){return this.timeGrid.renderDrag(t,e)},e.prototype.unrenderDrag=function(){return this.timeGrid.unrenderDrag()},e.prototype.getEventSegs=function(){return this.timeGrid.getEventSegs()},e.prototype.renderSelection=function(t){return this.timeGrid.renderSelection(t)},e.prototype.unrenderSelection=function(){return this.timeGrid.unrenderSelection()},e}(V),Q=u.cssToStr,B=function(o){function i(){var t;i.__super__.constructor.apply(this,arguments),this.initScaleProps(),this.minTime=e.duration(this.opt("minTime")||"00:00"),this.maxTime=e.duration(this.opt("maxTime")||"24:00"),this.timeWindowMs=this.maxTime-this.minTime,this.snapDuration=(t=this.opt("snapDuration"))?e.duration(t):this.slotDuration,this.minResizeDuration=this.snapDuration,this.snapsPerSlot=it(this.slotDuration,this.snapDuration),this.slotWidth=this.opt("slotWidth")}return Gt(i,o),i.prototype.slotDates=null,i.prototype.slotCnt=null,i.prototype.snapCnt=null,i.prototype.snapsPerSlot=null,i.prototype.snapDiffToIndex=null,i.prototype.snapIndexToDiff=null,i.prototype.headEl=null,i.prototype.slatContainerEl=null,i.prototype.slatEls=null,i.prototype.containerCoordCache=null,i.prototype.slatCoordCache=null,i.prototype.slatInnerCoordCache=null,i.prototype.headScroller=null,i.prototype.bodyScroller=null,i.prototype.joiner=null,i.prototype.follower=null,i.prototype.eventTitleFollower=null,i.prototype.minTime=null,i.prototype.maxTime=null,i.prototype.timeWindowMs=null,i.prototype.slotDuration=null,i.prototype.snapDuration=null,i.prototype.duration=null,i.prototype.labelInterval=null,i.prototype.headerFormats=null,i.prototype.isTimeScale=null,i.prototype.largeUnit=null,i.prototype.emphasizeWeeks=!1,i.prototype.titleFollower=null,i.prototype.segContainerEl=null,i.prototype.segContainerHeight=null,i.prototype.bgSegContainerEl=null,i.prototype.helperEls=null,i.prototype.innerEl=null,i.prototype.opt=function(t){return this.view.opt(t)},i.prototype.isValidDate=function(t){var e;return this.view.isHiddenDay(t)?!1:this.isTimeScale?(e=t.time()-this.minTime,e=(e%864e5+864e5)%864e5,e<this.timeWindowMs):!0},i.prototype.computeDisplayEventTime=function(){return!this.isTimeScale},i.prototype.computeDisplayEventEnd=function(){return!1},i.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},i.prototype.normalizeGridDate=function(t){var e;return this.isTimeScale?(e=t.clone(),e.hasTime()||e.time(0)):(e=t.clone().stripTime(),this.largeUnit&&e.startOf(this.largeUnit)),e},i.prototype.normalizeGridRange=function(t){var e,o;return this.isTimeScale?o={start:this.normalizeGridDate(t.start),end:this.normalizeGridDate(t.end)}:(o=this.view.computeDayRange(t),this.largeUnit&&(o.start.startOf(this.largeUnit),e=o.end.clone().startOf(this.largeUnit),e.isSame(o.end)&&e.isAfter(o.start)||e.add(this.slotDuration),o.end=e)),o},i.prototype.rangeUpdated=function(){var t,e;for(this.start=this.normalizeGridDate(this.start).add(this.minTime),this.end=this.normalizeGridDate(this.end).subtract(1,"day").add(this.maxTime),e=[],t=this.start.clone();t<this.end;)this.isValidDate(t)&&e.push(t.clone()),t.add(this.slotDuration);return this.slotDates=e,this.updateGridDates()},i.prototype.updateGridDates=function(){var t,e,o,i,r;for(i=-1,e=0,o=[],r=[],t=this.start.clone();t<this.end;)this.isValidDate(t)?(i++,o.push(i),r.push(e)):o.push(i+.5),t.add(this.snapDuration),e++;return this.snapDiffToIndex=o,this.snapIndexToDiff=r,this.snapCnt=i+1,this.slotCnt=this.snapCnt/this.snapsPerSlot},i.prototype.spanToSegs=function(t){var e,o;return e=this.normalizeGridRange(t),this.computeDateSnapCoverage(t.start)<this.computeDateSnapCoverage(t.end)&&(o=yt(e,this))?(o.isStart&&!this.isValidDate(o.start)&&(o.isStart=!1),o.isEnd&&o.end&&!this.isValidDate(o.end.clone().subtract(1))&&(o.isEnd=!1),[o]):[]},i.prototype.prepareHits=function(){return this.buildCoords()},i.prototype.queryHit=function(t,e){var o,i,r,n,s,a,p,l,h,u,c,f;return f=this.snapsPerSlot,n=this.slatCoordCache,o=this.containerCoordCache,null!=o.getVerticalIndex(e)&&(s=n.getHorizontalIndex(t),null!=s)?(l=n.getWidth(s),this.isRTL?(p=n.getRightOffset(s),r=(p-t)/l,i=Math.floor(r*f),h=s*f+i,c=p-i/f*l,u=c-(i+1)/f*l):(a=n.getLeftOffset(s),r=(t-a)/l,i=Math.floor(r*f),h=s*f+i,u=a+i/f*l,c=a+(i+1)/f*l),{snap:h,component:this,left:u,right:c,top:o.getTopOffset(0),bottom:o.getBottomOffset(0)}):void 0},i.prototype.getHitSpan=function(t){return this.getSnapRange(t.snap);
},i.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},i.prototype.getSnapRange=function(t){var e,o;return o=this.start.clone(),o.add(St(this.snapDuration,this.snapIndexToDiff[t])),e=o.clone().add(this.snapDuration),{start:o,end:e}},i.prototype.getSnapEl=function(t){return this.slatEls.eq(Math.floor(t/this.snapsPerSlot))},i.prototype.renderSkeleton=function(){return this.headScroller=new G("invisible-scroll","hidden"),this.headEl.append(this.headScroller.el),this.bodyScroller=new G,this.el.append(this.bodyScroller.el),this.innerEl=this.bodyScroller.contentEl,this.slatContainerEl=t('<div class="fc-slats"/>').appendTo(this.bodyScroller.bgEl),this.segContainerEl=t('<div class="fc-event-container"/>').appendTo(this.bodyScroller.contentEl),this.bgSegContainerEl=this.bodyScroller.bgEl,this.containerCoordCache=new s({els:this.bodyScroller.innerEl,isHorizontal:!0,isVertical:!0}),this.joiner=new N("horizontal",[this.headScroller,this.bodyScroller]),this.follower=new _(this.headScroller),this.eventTitleFollower=new _(this.bodyScroller),this.eventTitleFollower.minTravel=50,this.isRTL?this.eventTitleFollower.containOnNaturalRight=!0:this.eventTitleFollower.containOnNaturalLeft=!0,i.__super__.renderSkeleton.apply(this,arguments)},i.prototype.headColEls=null,i.prototype.slatColEls=null,i.prototype.renderDates=function(){var t,e,o,i,r;for(this.headScroller.contentEl.html(this.renderHeadHtml()),this.headColEls=this.headScroller.contentEl.find("col"),this.slatContainerEl.html(this.renderSlatHtml()),this.slatColEls=this.slatContainerEl.find("col"),this.slatEls=this.slatContainerEl.find("td"),this.slatCoordCache=new s({els:this.slatEls,isHorizontal:!0}),this.slatInnerCoordCache=new s({els:this.slatEls.find("> div"),isHorizontal:!0,offsetParent:this.bodyScroller.innerEl}),r=this.slotDates,e=o=0,i=r.length;i>o;e=++o)t=r[e],this.view.trigger("dayRender",null,t,this.slatEls.eq(e));return this.follower?this.follower.setSprites(this.headEl.find("tr:not(:last-child) span")):void 0},i.prototype.unrenderDates=function(){return this.follower&&this.follower.clearSprites(),this.headScroller.contentEl.empty(),this.slatContainerEl.empty(),this.headScroller.contentEl.add(this.bodyScroller.contentEl).css({minWidth:"",width:""})},i.prototype.renderHeadHtml=function(){var t,e,o,i,r,n,s,a,p,l,h,u,c,f,d,y,g,v,m,b,w,S,x,E,C,T,M,R,D,P,k,I,A,j,L,F,_;for(y=this.labelInterval,n=this.headerFormats,e=function(){var t,e,o;for(o=[],t=0,e=n.length;e>t;t++)r=n[t],o.push([]);return o}(),g=null,D=null,L=this.slotDates,j=[],c=0,v=L.length;v>c;c++){for(o=L[c],_=o.week(),u=this.emphasizeWeeks&&null!==D&&D!==_,k=f=0,m=n.length;m>f;k=++f)r=n[k],I=e[k],g=I[I.length-1],h=n.length>1&&k<n.length-1,M=null,h?(F=o.format(r),i=o.format(),g&&g.text===F?g.colspan+=1:M={text:F,dateData:i,colspan:1}):!g||mt(rt(this.start,o,y))?(F=o.format(r),i=o.format(),M={text:F,dateData:i,colspan:1}):g.colspan+=1,M&&(M.weekStart=u,I.push(M));j.push({weekStart:u}),D=_}for(p=y>this.slotDuration,s="<table>",s+="<colgroup>",d=0,b=L.length;b>d;d++)o=L[d],s+="<col/>";for(s+="</colgroup>",s+="<tbody>",a=C=0,w=e.length;w>C;a=++C){for(I=e[a],l=a===e.length-1,s+="<tr"+(p&&l?' class="fc-chrono"':"")+">",T=0,S=I.length;S>T;T++)t=I[T],s+='<th class="'+this.view.widgetHeaderClass+" "+(t.weekStart?"fc-em-cell":"")+'" data-date="'+t.dateData+'"'+(t.colspan>1?' colspan="'+t.colspan+'"':"")+'><div class="fc-cell-content"><span class="fc-cell-text">'+dt(t.text)+"</span></div></th>";s+="</tr>"}for(s+="</tbody></table>",A="<table>",A+="<colgroup>",R=0,x=j.length;x>R;R++)t=j[R],A+="<col/>";for(A+="</colgroup>",A+="<tbody><tr>",a=P=0,E=j.length;E>P;a=++P)t=j[a],o=L[a],A+=this.slatCellHtml(o,t.weekStart);return A+="</tr></tbody></table>",this._slatHtml=A,s},i.prototype.renderSlatHtml=function(){return this._slatHtml},i.prototype.slatCellHtml=function(t,e){var o;return this.isTimeScale?(o=[],o.push(mt(rt(this.start,t,this.labelInterval))?"fc-major":"fc-minor")):(o=this.getDayClasses(t),o.push("fc-day")),o.unshift(this.view.widgetContentClass),e&&o.push("fc-em-cell"),'<td class="'+o.join(" ")+'" data-date="'+t.format()+'"><div /></td>'},i.prototype.businessHourSegs=null,i.prototype.renderBusinessHours=function(){var t,e;return this.largeUnit?void 0:(t=this.view.calendar.getBusinessHoursEvents(!this.isTimeScale),e=this.businessHourSegs=this.eventsToSegs(t),this.renderFill("businessHours",e,"bgevent"))},i.prototype.unrenderBusinessHours=function(){return this.unrenderFill("businessHours")},i.prototype.nowIndicatorEls=null,i.prototype.getNowIndicatorUnit=function(){return this.isTimeScale?$(this.slotDuration):void 0},i.prototype.renderNowIndicator=function(e){var o,i,r;return r=[],e=this.normalizeGridDate(e),e>=this.start&&e<this.end&&(o=this.dateToCoord(e),i=this.isRTL?{right:-o}:{left:o},r.push(t("<div class='fc-now-indicator fc-now-indicator-arrow'></div>").css(i).appendTo(this.headScroller.innerEl)[0]),r.push(t("<div class='fc-now-indicator fc-now-indicator-line'></div>").css(i).appendTo(this.bodyScroller.innerEl)[0])),this.nowIndicatorEls=t(r)},i.prototype.unrenderNowIndicator=function(){return this.nowIndicatorEls?(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null):void 0},i.prototype.explicitSlotWidth=null,i.prototype.defaultSlotWidth=null,i.prototype.updateWidth=function(){var t,e,o,i,r;return r=Math.round(this.slotWidth||(this.slotWidth=this.computeSlotWidth())),o=r*this.slotDates.length,e="",i=r,t=this.bodyScroller.scrollEl[0].clientWidth,t>o&&(e=t,o="",i=Math.floor(t/this.slotDates.length)),this.headScroller.setContentWidth(o),this.headScroller.setContentMinWidth(e),this.bodyScroller.setContentWidth(o),this.bodyScroller.setContentMinWidth(e),this.headColEls.slice(0,-1).add(this.slatColEls.slice(0,-1)).width(i),this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.buildCoords(),this.updateSegPositions(),this.follower&&this.follower.update(),this.eventTitleFollower?this.eventTitleFollower.update():void 0},i.prototype.computeSlotWidth=function(){var e,o,i,r,n,s;return i=0,o=this.headEl.find("tr:last-child th span"),o.each(function(e,o){var r;return r=t(o).outerWidth(),i=Math.max(i,r)}),e=i+1,s=it(this.labelInterval,this.slotDuration),n=Math.ceil(e/s),r=this.headColEls.eq(0).css("min-width"),r&&(r=parseInt(r,10),r&&(n=Math.max(n,r))),n},i.prototype.buildCoords=function(){return this.containerCoordCache.build(),this.slatCoordCache.build(),this.slatInnerCoordCache.build()},i.prototype.computeDateSnapCoverage=function(t){var e,o,i;return o=rt(this.start,t,this.snapDuration),0>o?0:o>=this.snapDiffToIndex.length?this.snapCnt:(i=Math.floor(o),e=this.snapDiffToIndex[i],mt(e)?e+=o-i:e=Math.ceil(e),e)},i.prototype.dateToCoord=function(t){var e,o,i,r,n;return n=this.computeDateSnapCoverage(t),i=n/this.snapsPerSlot,r=Math.floor(i),r=Math.min(r,this.slotCnt-1),o=i-r,e=this.slatInnerCoordCache,this.isRTL?e.getRightPosition(r)-e.getWidth(r)*o-this.containerCoordCache.getWidth(0):e.getLeftPosition(r)+e.getWidth(r)*o},i.prototype.rangeToCoords=function(t){return this.isRTL?{right:this.dateToCoord(t.start),left:this.dateToCoord(t.end)}:{left:this.dateToCoord(t.start),right:this.dateToCoord(t.end)}},i.prototype.headHeight=function(){var t;return t=this.headScroller.contentEl.find("table"),t.height.apply(t,arguments)},i.prototype.updateSegPositions=function(){var t,e,o,i,r;for(r=(this.segs||[]).concat(this.businessHourSegs||[]),e=0,o=r.length;o>e;e++)i=r[e],t=this.rangeToCoords(i),i.el.css({left:i.left=t.left,right:-(i.right=t.right)})},i.prototype.computeInitialScroll=function(t){var o,i;return o=0,this.isTimeScale&&(i=this.opt("scrollTime"),i&&(i=e.duration(i),o=this.dateToCoord(this.start.clone().time(i)))),{left:o,top:0}},i.prototype.queryScroll=function(){return{left:xt(this.bodyScroller.scrollEl),top:this.bodyScroller.scrollEl.scrollTop()}},i.prototype.setScroll=function(t){return xt(this.headScroller.scrollEl,t.left),xt(this.bodyScroller.scrollEl,t.left),this.bodyScroller.scrollEl.scrollTop(t.top)},i.prototype.renderFgSegs=function(t){return t=this.renderFgSegEls(t),this.renderFgSegsInContainers([[this,t]]),this.updateSegFollowers(t),t},i.prototype.unrenderFgSegs=function(){return this.clearSegFollowers(),this.unrenderFgContainers([this])},i.prototype.renderFgSegsInContainers=function(t){var e,o,i,r,n,s,a,p,l,h,u,c,f,d,y,g,v,m,b,w,S,x,E,C,T;for(i=0,s=t.length;s>i;i++)for(b=t[i],e=b[0],T=b[1],r=0,a=T.length;a>r;r++)C=T[r],o=this.rangeToCoords(C),C.el.css({left:C.left=o.left,right:-(C.right=o.right)});for(n=0,p=t.length;p>n;n++)for(w=t[n],e=w[0],T=w[1],d=0,l=T.length;l>d;d++)C=T[d],C.el.appendTo(e.segContainerEl);for(y=0,h=t.length;h>y;y++){for(S=t[y],e=S[0],T=S[1],g=0,u=T.length;u>g;g++)C=T[g],C.height=C.el.outerHeight(!0);this.buildSegLevels(T),e.segContainerHeight=q(T)}for(E=[],v=0,c=t.length;c>v;v++){for(x=t[v],e=x[0],T=x[1],m=0,f=T.length;f>m;m++)C=T[m],C.el.css("top",C.top);E.push(e.segContainerEl.height(e.segContainerHeight))}return E},i.prototype.buildSegLevels=function(t){var e,o,i,r,n,s,a,p,l,h,u,c,f,d;for(f=[],this.sortEventSegs(t),i=0,s=t.length;s>i;i++){for(d=t[i],d.above=[],l=0;l<f.length;){for(o=!1,u=f[l],r=0,a=u.length;a>r;r++)h=u[r],_t(d,h)&&(d.above.push(h),o=!0);if(!o)break;l+=1}for((f[l]||(f[l]=[])).push(d),l+=1;l<f.length;){for(c=f[l],n=0,p=c.length;p>n;n++)e=c[n],_t(d,e)&&e.above.push(d);l+=1}}return f},i.prototype.unrenderFgContainers=function(t){var e,o,i,r;for(r=[],o=0,i=t.length;i>o;o++)e=t[o],e.segContainerEl.empty(),e.segContainerEl.height(""),r.push(e.segContainerHeight=null);return r},i.prototype.fgSegHtml=function(t,e){var o,i,r,n,s,a;return i=t.event,r=this.view.isEventDraggable(i),s=t.isStart&&this.view.isEventResizableFromStart(i),n=t.isEnd&&this.view.isEventResizableFromEnd(i),o=this.getSegClasses(t,r,s||n),o.unshift("fc-timeline-event","fc-h-event"),a=this.getEventTimeText(i),'<a class="'+o.join(" ")+'" style="'+Q(this.getSegSkinCss(t))+'"'+(i.url?' href="'+dt(i.url)+'"':"")+'><div class="fc-content">'+(a?'<span class="fc-time">'+dt(a)+"</span>":"")+'<span class="fc-title">'+(i.title?dt(i.title):"&nbsp;")+'</span></div><div class="fc-bg" />'+(s?'<div class="fc-resizer fc-start-resizer"></div>':"")+(n?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},i.prototype.updateSegFollowers=function(t){var e,o,i,r,n;if(this.eventTitleFollower){for(r=[],e=0,o=t.length;o>e;e++)i=t[e],n=i.el.find(".fc-title"),n.length&&r.push(new H(n));return this.eventTitleFollower.setSprites(r)}},i.prototype.clearSegFollowers=function(){return this.eventTitleFollower?this.eventTitleFollower.clearSprites():void 0},i.prototype.segDragStart=function(){return i.__super__.segDragStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},i.prototype.segDragEnd=function(){return i.__super__.segDragEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},i.prototype.segResizeStart=function(){return i.__super__.segResizeStart.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.forceRelative():void 0},i.prototype.segResizeEnd=function(){return i.__super__.segResizeEnd.apply(this,arguments),this.eventTitleFollower?this.eventTitleFollower.clearForce():void 0},i.prototype.renderHelper=function(t,e){var o;return o=this.eventToSegs(t),o=this.renderFgSegEls(o),this.renderHelperSegsInContainers([[this,o]],e)},i.prototype.renderHelperSegsInContainers=function(e,o){var i,r,n,s,a,p,l,h,u,c,f,d,y,g,v,m,b;for(s=[],a=0,h=e.length;h>a;a++)for(y=e[a],i=y[0],b=y[1],p=0,u=b.length;u>p;p++)m=b[p],r=this.rangeToCoords(m),m.el.css({left:m.left=r.left,right:-(m.right=r.right)}),o&&o.resourceId===(null!=(g=i.resource)?g.id:void 0)?m.el.css("top",o.el.css("top")):m.el.css("top",0);for(l=0,c=e.length;c>l;l++)for(v=e[l],i=v[0],b=v[1],n=t('<div class="fc-event-container fc-helper-container"/>').appendTo(i.innerEl),s.push(n[0]),d=0,f=b.length;f>d;d++)m=b[d],n.append(m.el);return this.helperEls=this.helperEls?this.helperEls.add(t(s)):t(s)},i.prototype.unrenderHelper=function(){return this.helperEls?(this.helperEls.remove(),this.helperEls=null):void 0},i.prototype.renderEventResize=function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},i.prototype.unrenderEventResize=function(){return this.unrenderHighlight(),this.unrenderHelper()},i.prototype.renderFill=function(t,e,o){return e=this.renderFillSegEls(t,e),this.renderFillInContainers(t,[[this,e]],o),e},i.prototype.renderFillInContainers=function(t,e,o){var i,r,n,s,a,p;for(a=[],r=0,n=e.length;n>r;r++)s=e[r],i=s[0],p=s[1],a.push(this.renderFillInContainer(t,i,p,o));return a},i.prototype.renderFillInContainer=function(e,o,i,r){var n,s,a,p,l;if(i.length){for(r||(r=e.toLowerCase()),n=t('<div class="fc-'+r+'-container" />').appendTo(o.bgSegContainerEl),a=0,p=i.length;p>a;a++)l=i[a],s=this.rangeToCoords(l),l.el.css({left:l.left=s.left,right:-(l.right=s.right)}),l.el.appendTo(n);return this.elsByFill[e]=this.elsByFill[e]?this.elsByFill[e].add(n):n}},i.prototype.renderDrag=function(t,e){return e?(this.renderEventLocationHelper(t,e),this.applyDragOpacity(this.helperEls),!0):(this.renderHighlight(this.eventToSpan(t)),!1)},i.prototype.unrenderDrag=function(){return this.unrenderHelper(),this.unrenderHighlight()},i}(c),q=function(t){var e,o,i,r;for(i=0,e=0,o=t.length;o>e;e++)r=t[e],i=Math.max(i,Z(r));return i},Z=function(t){return null==t.top&&(t.top=q(t.above)),t.top+t.height},_t=function(t,e){return t.left<e.right&&t.right>e.left},m=18,g=6,y=200,v=1e3,a={months:1},F=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}],B.prototype.initScaleProps=function(){var e,o,i;return this.labelInterval=this.queryDurationOption("slotLabelInterval"),this.slotDuration=this.queryDurationOption("slotDuration"),this.ensureGridDuration(),this.validateLabelAndSlot(),this.ensureLabelInterval(),this.ensureSlotDuration(),e=this.opt("slotLabelFormat"),i=t.type(e),this.headerFormats="array"===i?e:"string"===i?[e]:this.computeHeaderFormats(),this.isTimeScale=nt(this.slotDuration),this.largeUnit=this.isTimeScale?void 0:(o=$(this.slotDuration),/year|month|week/.test(o)?o:void 0),this.emphasizeWeeks=1===this.slotDuration.as("days")&&this.duration.as("weeks")>=2&&!this.opt("businessHours")},B.prototype.queryDurationOption=function(t){var o,i;return i=this.opt(t),null!=i&&(o=e.duration(i),+o)?o:void 0},B.prototype.validateLabelAndSlot=function(){var t,e,o;return this.labelInterval&&(t=it(this.duration,this.labelInterval),t>v&&(u.warn("slotLabelInterval results in too many cells"),this.labelInterval=null)),this.slotDuration&&(e=it(this.duration,this.slotDuration),e>v&&(u.warn("slotDuration results in too many cells"),this.slotDuration=null)),this.labelInterval&&this.slotDuration&&(o=it(this.labelInterval,this.slotDuration),!mt(o)||1>o)?(u.warn("slotLabelInterval must be a multiple of slotDuration"),this.slotDuration=null):void 0},B.prototype.ensureGridDuration=function(){var t,o,i,r,n;if(t=this.duration,!t){if(t=this.view.intervalDuration,!t)if(this.labelInterval||this.slotDuration)for(n=this.ensureLabelInterval(),i=F.length-1;i>=0&&(o=F[i],t=e.duration(o),r=it(t,n),!(r>=m));i+=-1);else t=e.duration(a);this.duration=t}return t},B.prototype.ensureLabelInterval=function(){var t,o,i,r,n,s,a,p,l;if(n=this.labelInterval,!n){if(this.duration||this.slotDuration||this.ensureGridDuration(),this.slotDuration){for(o=0,s=F.length;s>o;o++)if(t=F[o],l=e.duration(t),p=it(l,this.slotDuration),mt(p)&&g>=p){n=l;break}n||(n=this.slotDuration)}else for(i=0,a=F.length;a>i&&(t=F[i],n=e.duration(t),r=it(this.duration,n),!(r>=m));i++);this.labelInterval=n}return n},B.prototype.ensureSlotDuration=function(){var t,o,i,r,n,s,a,p;if(s=this.slotDuration,!s){for(i=this.ensureLabelInterval(),o=0,r=F.length;r>o;o++)if(t=F[o],p=e.duration(t),a=it(i,p),mt(a)&&a>1&&g>=a){s=p;break}s&&this.duration&&(n=it(this.duration,s),n>y&&(s=null)),s||(s=i),this.slotDuration=s}return s},B.prototype.computeHeaderFormats=function(){var t,e,o,i,r,n,s,a;switch(s=this.view,i=this.duration,r=this.labelInterval,n=$(r),a=this.opt("weekNumbers"),t=e=o=null,"week"!==n||a||(n="day"),n){case"year":t="YYYY";break;case"month":i.asYears()>1&&(t="YYYY"),e="MMM";break;case"week":i.asYears()>1&&(t="YYYY"),e=this.opt("shortWeekFormat");break;case"day":i.asYears()>1?t=this.opt("monthYearFormat"):i.asMonths()>1&&(t="MMMM"),a&&(e=this.opt("weekFormat")),o="dd D";break;case"hour":a&&(t=this.opt("weekFormat")),i.asDays()>1&&(e=this.opt("dayOfMonthFormat")),o=this.opt("smallTimeFormat");break;case"minute":r.asMinutes()/60>=g?(t=this.opt("hourFormat"),e="[:]mm"):t=this.opt("mediumTimeFormat");break;case"second":r.asSeconds()/60>=g?(t="LT",e="[:]ss"):t="LTS";break;case"millisecond":t="LTS",e="[.]SSS"}return[].concat(t||[],e||[],o||[])},u.views.timeline={"class":Y,defaults:{eventResizableFromStart:!0}},u.views.timelineDay={type:"timeline",duration:{days:1}},u.views.timelineWeek={type:"timeline",duration:{weeks:1}},u.views.timelineMonth={type:"timeline",duration:{months:1}},u.views.timelineYear={type:"timeline",duration:{years:1}},I=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.mixin(A),o.prototype.resourceGrid=null,o.prototype.tbodyHash=null,o.prototype.joiner=null,o.prototype.dividerEls=null,o.prototype.superHeaderText=null,o.prototype.isVGrouping=null,o.prototype.isHGrouping=null,o.prototype.groupSpecs=null,o.prototype.colSpecs=null,o.prototype.orderSpecs=null,o.prototype.rowHierarchy=null,o.prototype.resourceRowHash=null,o.prototype.nestingCnt=0,o.prototype.isNesting=null,o.prototype.dividerWidth=null,o.prototype.initialize=function(){return o.__super__.initialize.apply(this,arguments),this.processResourceOptions(),this.resourceGrid=new O(this),this.rowHierarchy=new L(this),this.resourceRowHash={}},o.prototype.instantiateGrid=function(){return new k(this)},o.prototype.processResourceOptions=function(){var t,e,o,i,r,n,s,a,p,l,h,u,c,f,d,y,g,v,m,b,w,S;for(t=this.opt("resourceColumns")||[],d=this.opt("resourceLabelText"),i="Resources",S=null,t.length?S=d:t.push({labelText:d||i,text:this.getResourceTextFunc()}),b=[],r=[],s=[],h=!1,l=!1,u=0,y=t.length;y>u;u++)o=t[u],o.group?r.push(o):b.push(o);for(b[0].isMain=!0,r.length?(s=r,h=!0):(a=this.opt("resourceGroupField"),a&&(l=!0,s.push({field:a,text:this.opt("resourceGroupText"),render:this.opt("resourceGroupRender")}))),e=Dt(this.opt("resourceOrder")),w=[],c=0,g=e.length;g>c;c++){for(m=e[c],p=!1,f=0,v=s.length;v>f;f++)if(n=s[f],n.field===m.field){n.order=m.order,p=!0;break}p||w.push(m)}return this.superHeaderText=S,this.isVGrouping=h,this.isHGrouping=l,this.groupSpecs=s,this.colSpecs=r.concat(b),this.orderSpecs=w},o.prototype.renderSkeleton=function(){return o.__super__.renderSkeleton.apply(this,arguments),this.renderResourceGridSkeleton(),this.tbodyHash={spreadsheet:this.resourceGrid.tbodyEl,event:this.timeGrid.tbodyEl},this.joiner=new N("vertical",[this.resourceGrid.bodyScroller,this.timeGrid.bodyScroller]),this.initDividerMoving()},o.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-resource-area '+this.widgetHeaderClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+this.widgetContentClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},o.prototype.renderResourceGridSkeleton=function(){return this.resourceGrid.el=this.el.find("tbody .fc-resource-area"),this.resourceGrid.headEl=this.el.find("thead .fc-resource-area"),this.resourceGrid.renderSkeleton()},o.prototype.initDividerMoving=function(){var t;return this.dividerEls=this.el.find(".fc-divider"),this.dividerWidth=null!=(t=this.opt("resourceAreaWidth"))?t:this.resourceGrid.tableWidth,null!=this.dividerWidth&&this.positionDivider(this.dividerWidth),this.dividerEls.on("mousedown",function(t){return function(e){return t.dividerMousedown(e)}}(this))},o.prototype.dividerMousedown=function(t){var e,o,i,r,n;return o=this.opt("isRTL"),r=30,i=this.el.width()-30,n=this.getNaturalDividerWidth(),e=new p({dragStart:function(t){return function(){return t.dividerEls.addClass("fc-active")}}(this),drag:function(t){return function(e,s){var a;return a=o?n-e:n+e,a=Math.max(a,r),a=Math.min(a,i),t.dividerWidth=a,t.positionDivider(a),t.updateWidth()}}(this),dragStop:function(t){return function(){return t.dividerEls.removeClass("fc-active")}}(this)}),e.mousedown(t)},o.prototype.getNaturalDividerWidth=function(){return this.el.find(".fc-resource-area").width()},o.prototype.positionDivider=function(t){return this.el.find(".fc-resource-area").width(t)},o.prototype.renderEvents=function(t){return this.timeGrid.renderEvents(t),this.syncRowHeights(),this.updateWidth()},o.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.syncRowHeights(),this.updateWidth()},o.prototype.updateWidth=function(){return o.__super__.updateWidth.apply(this,arguments),this.resourceGrid.updateWidth(),this.joiner.update(),this.cellFollower?this.cellFollower.update():void 0},o.prototype.updateHeight=function(t){return o.__super__.updateHeight.apply(this,arguments),t?this.syncRowHeights():void 0},o.prototype.setHeight=function(t,e){var o,i;return i=this.syncHeadHeights(),o=e?"auto":t-i-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(o),this.resourceGrid.bodyScroller.setHeight(o)},o.prototype.queryMiscHeight=function(){return this.el.outerHeight()-Math.max(this.resourceGrid.headScroller.el.outerHeight(),this.timeGrid.headScroller.el.outerHeight())-Math.max(this.resourceGrid.bodyScroller.el.outerHeight(),this.timeGrid.bodyScroller.el.outerHeight())},o.prototype.syncHeadHeights=function(){var t;return this.resourceGrid.headHeight("auto"),this.timeGrid.headHeight("auto"),t=Math.max(this.resourceGrid.headHeight(),this.timeGrid.headHeight()),this.resourceGrid.headHeight(t),this.timeGrid.headHeight(t),t},o.prototype.scrollToResource=function(t){return this.timeGrid.scrollToResource(t)},o.prototype.setResources=function(t){var e,o,i;for(this.batchRows(),e=0,o=t.length;o>e;e++)i=t[e],this.insertResource(i);return this.rowHierarchy.show(),this.unbatchRows(),this.reinitializeCellFollowers()},o.prototype.unsetResources=function(){return this.clearEvents(),this.batchRows(),this.rowHierarchy.removeChildren(),this.unbatchRows(),this.reinitializeCellFollowers()},o.prototype.addResource=function(t){return this.insertResource(t),this.reinitializeCellFollowers()},o.prototype.removeResource=function(t){var e;return e=this.getResourceRow(t.id),e?(this.batchRows(),e.remove(),this.unbatchRows(),this.reinitializeCellFollowers()):void 0},o.prototype.cellFollower=null,o.prototype.reinitializeCellFollowers=function(){var e,o,i,r,n,s;for(this.cellFollower&&this.cellFollower.clearSprites(),this.cellFollower=new _(this.resourceGrid.bodyScroller),this.cellFollower.isHFollowing=!1,this.cellFollower.isVFollowing=!0,r=[],n=this.rowHierarchy.getNodes(),o=0,i=n.length;i>o;o++)s=n[o],s instanceof W&&s.groupTd&&(e=s.groupTd.find(".fc-cell-content"),e.length&&r.push(e[0]));return this.cellFollower.setSprites(t(r))},o.prototype.insertResource=function(t,e){var o,i,r,n,s,a,p;for(p=new D(this,t),null==e&&(n=t.parentId,n&&(e=this.getResourceRow(n))),e?this.insertRowAsChild(p,e):this.insertRow(p),s=t.children,a=[],i=0,r=s.length;r>i;i++)o=s[i],a.push(this.insertResource(o,p));return a},o.prototype.insertRow=function(t,e,o){var i;return null==e&&(e=this.rowHierarchy),null==o&&(o=this.groupSpecs),o.length?(i=this.ensureResourceGroup(t,e,o[0]),i instanceof f?this.insertRowAsChild(t,i):this.insertRow(t,i,o.slice(1))):this.insertRowAsChild(t,e)},o.prototype.insertRowAsChild=function(t,e){return e.addChild(t,this.computeChildRowPosition(t,e))},o.prototype.computeChildRowPosition=function(t,e){var o,i,r,n,s,a;if(this.orderSpecs.length)for(s=e.children,i=r=0,n=s.length;n>r;i=++r)if(a=s[i],o=this.compareResources(a.resource||{},t.resource||{}),o>0)return i;return null},o.prototype.compareResources=function(t,e){return K(t,e,this.orderSpecs)},o.prototype.ensureResourceGroup=function(t,e,o){var i,r,n,s,a,p,l,h,u,c,d;if(n=(t.resource||{})[o.field],r=null,o.order)for(u=e.children,s=a=0,l=u.length;l>a;s=++a){if(d=u[s],i=st(d.groupValue,n)*o.order,0===i){r=d;break}if(i>0)break}else for(c=e.children,s=p=0,h=c.length;h>p;s=++p)if(d=c[s],d.groupValue===n){r=d;break}return r||(r=this.isVGrouping?new W(this,o,n):new f(this,o,n),e.addChild(r,s)),r},o.prototype.pairSegsWithRows=function(t){var e,o,i,r,n,s,a,p;for(r=[],n={},e=0,o=t.length;o>e;e++)p=t[e],s=p.resourceId,s&&(a=this.getResourceRow(s),a&&(i=n[s],i||(i=[a,[]],r.push(i),n[s]=i),i[1].push(p)));return r},o.prototype.rowAdded=function(t){var e,o;return t instanceof D&&(this.resourceRowHash[t.resource.id]=t),o=this.isNesting,e=Boolean(this.nestingCnt+=t.depth?1:0),o!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},o.prototype.rowRemoved=function(t){var e,o;return t instanceof D&&delete this.resourceRowHash[t.resource.id],o=this.isNesting,e=Boolean(this.nestingCnt-=t.depth?1:0),o!==e&&(this.el.toggleClass("fc-nested",e),this.el.toggleClass("fc-flat",!e)),this.isNesting=e},o.prototype.batchRowDepth=0,o.prototype.shownRowBatch=null,o.prototype.hiddenRowBatch=null,o.prototype.batchRows=function(){return this.batchRowDepth++?void 0:(this.shownRowBatch=[],this.hiddenRowBatch=[])},o.prototype.unbatchRows=function(){return--this.batchRowDepth?void 0:(this.hiddenRowBatch.length&&this.rowsHidden(this.hiddenRowBatch),this.shownRowBatch.length&&this.rowsShown(this.shownRowBatch),this.hiddenRowBatch=null,this.shownRowBatch=null)},o.prototype.rowShown=function(t){return this.shownRowBatch?this.shownRowBatch.push(t):this.rowsShown([t])},o.prototype.rowHidden=function(t){return this.hiddenRowBatch?this.hiddenRowBatch.push(t):this.rowsHidden([t])},o.prototype.rowsShown=function(t){return this.syncRowHeights(t),this.updateWidth()},o.prototype.rowsHidden=function(t){return this.updateWidth()},o.prototype.syncRowHeights=function(t,e){var o,i,r,n,s,a,p,l,h,u;for(null==e&&(e=!1),null==t&&(t=this.getVisibleRows()),a=0,l=t.length;l>a;a++)u=t[a],u.setTrInnerHeight("");for(s=function(){var i,r,n;for(n=[],i=0,r=t.length;r>i;i++)u=t[i],o=u.getMaxTrInnerHeight(),e&&(o+=o%2),n.push(o);return n}(),n=p=0,h=t.length;h>p;n=++p)u=t[n],u.setTrInnerHeight(s[n]);return!e&&(i=this.resourceGrid.tbodyEl.height(),r=this.timeGrid.tbodyEl.height(),Math.abs(i-r)>1)?this.syncRowHeights(t,!0):void 0},o.prototype.getVisibleRows=function(){var t,e,o,i,r;for(o=this.rowHierarchy.getRows(),i=[],t=0,e=o.length;e>t;t++)r=o[t],r.isShown&&i.push(r);return i},o.prototype.getEventRows=function(){var t,e,o,i,r;for(o=this.rowHierarchy.getRows(),i=[],t=0,e=o.length;e>t;t++)r=o[t],r instanceof h&&i.push(r);return i},o.prototype.getResourceRow=function(t){return this.resourceRowHash[t]},o.prototype.setScroll=function(t){return o.__super__.setScroll.apply(this,arguments),this.resourceGrid.bodyScroller.scrollTop(t.top)},o}(Y),k=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.mixin(T),o.prototype.eventRows=null,o.prototype.shownEventRows=null,o.prototype.tbodyEl=null,o.prototype.rowCoordCache=null,o.prototype.spanToSegs=function(t){var e,i,r,n,s,a;if(a=o.__super__.spanToSegs.apply(this,arguments),e=this.view.calendar,n=t.resourceId)for(i=0,r=a.length;r>i;i++)s=a[i],s.resource=e.getResourceById(n),s.resourceId=n;return a},o.prototype.prepareHits=function(){var t,e;return o.__super__.prepareHits.apply(this,arguments),this.eventRows=this.view.getEventRows(),this.shownEventRows=function(){var e,o,i,r;for(i=this.eventRows,r=[],e=0,o=i.length;o>e;e++)t=i[e],t.isShown&&r.push(t);return r}.call(this),e=function(){var e,o,i,r;for(i=this.shownEventRows,r=[],e=0,o=i.length;o>e;e++)t=i[e],r.push(t.getTr("event")[0]);return r}.call(this),this.rowCoordCache=new s({els:e,isVertical:!0}),this.rowCoordCache.build()},o.prototype.releaseHits=function(){return o.__super__.releaseHits.apply(this,arguments),this.eventRows=null,this.shownEventRows=null,this.rowCoordCache.clear()},o.prototype.queryHit=function(t,e){var i,r;return r=o.__super__.queryHit.apply(this,arguments),r&&(i=this.rowCoordCache.getVerticalIndex(e),null!=i)?{resourceId:this.shownEventRows[i].resource.id,snap:r.snap,component:this,left:r.left,right:r.right,top:this.rowCoordCache.getTopOffset(i),bottom:this.rowCoordCache.getBottomOffset(i)}:void 0},o.prototype.getHitSpan=function(t){var e;return e=this.getSnapRange(t.snap),e.resourceId=t.resourceId,e},o.prototype.getHitEl=function(t){return this.getSnapEl(t.snap)},o.prototype.renderSkeleton=function(){var e;return o.__super__.renderSkeleton.apply(this,arguments),this.segContainerEl.remove(),this.segContainerEl=null,e=t('<div class="fc-rows"><table><tbody/></table></div>').appendTo(this.bodyScroller.contentEl),this.tbodyEl=e.find("tbody")},o.prototype.renderFgSegs=function(t){var e,o,i,r,n,s,a;for(t=this.renderFgSegEls(t),s=this.view.pairSegsWithRows(t),a=[],i=0,r=s.length;r>i;i++)n=s[i],e=n[0],o=n[1],e.fgSegs=o,e.isShown&&(e.isSegsRendered=!0,a.push(n));return this.renderFgSegsInContainers(a),this.updateSegFollowers(t),t},o.prototype.unrenderFgSegs=function(){var t,e,o,i;for(this.clearSegFollowers(),e=this.view.getEventRows(),o=0,i=e.length;i>o;o++)t=e[o],t.fgSegs=null,t.isSegsRendered=!1;return this.unrenderFgContainers(e)},o.prototype.renderFill=function(t,e,o){var i,r,n,s,a,p,l,h,u,c,f,d;for(e=this.renderFillSegEls(t,e),h=[],a=[],i=0,n=e.length;n>i;i++)f=e[i],f.resourceId?h.push(f):a.push(f);for(l=this.view.pairSegsWithRows(h),d=[],r=0,s=l.length;s>r;r++)p=l[r],u=p[0],c=p[1],"bgEvent"===t&&(u.bgSegs=c),u.isShown&&d.push(p);return a.length&&d.unshift([this,a]),this.renderFillInContainers(t,d,o),e},o.prototype.renderHelper=function(t,e){var o,i;return i=this.eventToSegs(t),i=this.renderFgSegEls(i),o=this.view.pairSegsWithRows(i),this.renderHelperSegsInContainers(o,e)},o.prototype.computeInitialScroll=function(t){var e;return e=o.__super__.computeInitialScroll.apply(this,arguments),t&&(e.resourceId=t.resourceId,e.bottom=t.bottom),e},o.prototype.queryScroll=function(){var t,e,i,r,n,s,a,p;for(p=o.__super__.queryScroll.apply(this,arguments),a=this.bodyScroller.scrollEl.offset().top,n=this.view.getVisibleRows(),i=0,r=n.length;r>i;i++)if(s=n[i],s.resource&&(t=s.getTr("event"),e=t.offset().top+t.outerHeight(),e>a)){p.resourceId=s.resource.id,p.bottom=e-a;break}return p},o.prototype.setScroll=function(t){var e,i,r,n;return t.resourceId&&(n=this.view.getResourceRow(t.resourceId),n&&(e=n.getTr("event"),e&&(r=this.bodyScroller.innerEl.offset().top,i=e.offset().top+e.outerHeight(),t.top=i-t.bottom-r))),o.__super__.setScroll.call(this,t)},o.prototype.scrollToResource=function(t){var e,o,i,r;return i=this.view.getResourceRow(t.id),i&&(e=i.getTr("event"))?(o=this.bodyScroller.innerEl.offset().top,r=e.offset().top-o,this.bodyScroller.scrollEl.scrollTop(r)):void 0},o}(B),o=30,O=function(){function e(t){var e;this.view=t,this.isRTL=this.view.opt("isRTL"),this.givenColWidths=this.colWidths=function(){var t,o,i,r;for(i=this.view.colSpecs,r=[],t=0,o=i.length;o>t;t++)e=i[t],r.push(e.width);return r}.call(this)}return e.prototype.view=null,e.prototype.headEl=null,e.prototype.el=null,e.prototype.tbodyEl=null,e.prototype.headScroller=null,e.prototype.bodyScroller=null,e.prototype.joiner=null,e.prototype.colGroupHtml="",e.prototype.headTable=null,e.prototype.headColEls=null,e.prototype.headCellEls=null,e.prototype.bodyColEls=null,e.prototype.bodyTable=null,e.prototype.renderSkeleton=function(){return this.headScroller=new G("invisible-scroll","hidden"),this.headScroller.contentEl.html(this.renderHeadHtml()),this.headEl.append(this.headScroller.el),this.bodyScroller=new G("auto","invisible-scroll"),this.bodyScroller.contentEl.html("<table>"+this.colGroupHtml+"<tbody/></table>"),this.tbodyEl=this.bodyScroller.contentEl.find("tbody"),this.el.append(this.bodyScroller.el),this.joiner=new N("horizontal",[this.headScroller,this.bodyScroller]),this.headTable=this.headEl.find("table"),this.headColEls=this.headEl.find("col"),this.headCellEls=this.headScroller.contentEl.find("tr:last-child th"),this.bodyColEls=this.el.find("col"),this.bodyTable=this.el.find("table"),this.colMinWidths=this.computeColMinWidths(),this.applyColWidths(),this.initColResizing()},e.prototype.renderHeadHtml=function(){var t,e,o,i,r,n,s,a,p,l,h;for(e=this.view.colSpecs,o="<table>",
t="<colgroup>",s=0,p=e.length;p>s;s++)h=e[s],t+=h.isMain?'<col class="fc-main-col"/>':"<col/>";for(t+="</colgroup>",this.colGroupHtml=t,o+=t,o+="<tbody>",this.view.superHeaderText&&(o+='<tr class="fc-super"><th class="'+this.view.widgetHeaderClass+'" colspan="'+e.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+dt(this.view.superHeaderText)+"</span></div></th></tr>"),o+="<tr>",n=!0,i=a=0,l=e.length;l>a;i=++a)h=e[i],r=i===e.length-1,o+='<th class="'+this.view.widgetHeaderClass+'"><div><div class="fc-cell-content">'+(h.isMain?'<div class="fc-icon fc-expander-space" />':"")+'<span class="fc-cell-text">'+dt(h.labelText||"")+"</span></div>"+(r?"":'<div class="fc-col-resizer"></div>')+"</div></th>";return o+="</tr>",o+="</tbody></table>"},e.prototype.givenColWidths=null,e.prototype.colWidths=null,e.prototype.colMinWidths=null,e.prototype.tableWidth=null,e.prototype.tableMinWidth=null,e.prototype.initColResizing=function(){return this.headEl.find("th .fc-col-resizer").each(function(e){return function(o,i){return i=t(i),i.on("mousedown",function(t){return e.colResizeMousedown(o,t,i)})}}(this))},e.prototype.colResizeMousedown=function(t,e,i){var r,n,s,a;return r=this.colWidths=this.queryColWidths(),r.pop(),r.push(null),a=r[t],s=Math.min(this.colMinWidths[t],o),n=new p({dragStart:function(t){return function(){return i.addClass("fc-active")}}(this),drag:function(e){return function(o,i){var n;return n=a+(e.isRTL?-o:o),n=Math.max(n,s),r[t]=n,e.applyColWidths()}}(this),dragStop:function(t){return function(){return i.removeClass("fc-active")}}(this)}),n.mousedown(e)},e.prototype.applyColWidths=function(){var t,e,o,i,r,n,s,a,p,l,h,u,c,f,d,y,g;for(o=this.colMinWidths,r=this.colWidths,t=!0,e=!1,g=0,l=0,c=r.length;c>l;l++)i=r[l],"number"==typeof i?g+=i:(t=!1,i&&(e=!0));for(a=e&&!this.view.isHGrouping?"auto":"",s=function(){var t,e,o;for(o=[],p=t=0,e=r.length;e>t;p=++t)i=r[p],o.push(null!=i?i:a);return o}(),y=0,p=h=0,f=s.length;f>h;p=++h)n=s[p],y+="number"==typeof n?n:o[p];for(p=u=0,d=s.length;d>u;p=++u)n=s[p],this.headColEls.eq(p).width(n),this.bodyColEls.eq(p).width(n);return this.headScroller.setContentMinWidth(y),this.bodyScroller.setContentMinWidth(y),this.tableMinWidth=y,this.tableWidth=t?g:void 0},e.prototype.computeColMinWidths=function(){var t,e,i,r,n,s;for(r=this.givenColWidths,n=[],t=e=0,i=r.length;i>e;t=++e)s=r[t],n.push("number"==typeof s?s:parseInt(this.headColEls.eq(t).css("min-width"))||o);return n},e.prototype.queryColWidths=function(){var e,o,i,r,n;for(r=this.headCellEls,n=[],e=0,o=r.length;o>e;e++)i=r[e],n.push(t(i).outerWidth());return n},e.prototype.updateWidth=function(){return this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.follower?this.follower.update():void 0},e.prototype.headHeight=function(){var t;return t=this.headScroller.contentEl.find("table"),t.height.apply(t,arguments)},e}(),L=function(){function e(e){this.view=e,this.children=[],this.trHash={},this.trs=t()}return e.prototype.view=null,e.prototype.parent=null,e.prototype.prevSibling=null,e.prototype.children=null,e.prototype.depth=0,e.prototype.hasOwnRow=!1,e.prototype.trHash=null,e.prototype.trs=null,e.prototype.isRendered=!1,e.prototype.isExpanded=!0,e.prototype.isShown=!1,e.prototype.addChild=function(t,e){var o,i,r,n,s;for(t.remove(),o=this.children,null!=e?o.splice(e,0,t):(e=o.length,o.push(t)),t.prevSibling=e>0?o[e-1]:null,e<o.length-1&&(o[e+1].prevSibling=t),t.parent=this,t.depth=this.depth+(this.hasOwnRow?1:0),s=t.getNodes(),i=0,r=s.length;r>i;i++)n=s[i],n.added();return this.isShown&&this.isExpanded?t.show():void 0},e.prototype.removeChild=function(t){var e,o,i,r,n,s,a,p,l,h;for(e=this.children,i=!1,o=r=0,s=e.length;s>r;o=++r)if(h=e[o],h===t){i=!0;break}if(i){for(o<e.length-1&&(e[o+1].prevSibling=t.prevSibling),e.splice(o,1),t.recursivelyUnrender(),p=t.getNodes(),n=0,a=p.length;a>n;n++)l=p[n],l.removed();return t.parent=null,t.prevSibling=null,t}return!1},e.prototype.removeChildren=function(){var t,e,o,i,r,n,s;for(n=this.children,e=0,i=n.length;i>e;e++)t=n[e],t.recursivelyUnrender();for(s=this.getDescendants(),o=0,r=s.length;r>o;o++)t=s[o],t.removed();return this.children=[]},e.prototype.remove=function(){return this.parent?this.parent.removeChild(this):void 0},e.prototype.getLastChild=function(){var t;return t=this.children,t[t.length-1]},e.prototype.getPrevRow=function(){var t,e;for(e=this;e;){if(e.prevSibling)for(e=e.prevSibling;t=e.getLastChild();)e=t;else e=e.parent;if(e&&e.hasOwnRow&&e.isShown)return e}return null},e.prototype.getLeadingRow=function(){return this.hasOwnRow?this:this.isExpanded&&this.children.length?this.children[0].getLeadingRow():void 0},e.prototype.getRows=function(t){var e,o,i,r;for(null==t&&(t=[]),this.hasOwnRow&&t.push(this),r=this.children,o=0,i=r.length;i>o;o++)e=r[o],e.getRows(t);return t},e.prototype.getNodes=function(t){var e,o,i,r;for(null==t&&(t=[]),t.push(this),r=this.children,o=0,i=r.length;i>o;o++)e=r[o],e.getNodes(t);return t},e.prototype.getDescendants=function(){var t,e,o,i,r;for(t=[],r=this.children,o=0,i=r.length;i>o;o++)e=r[o],e.getNodes(t);return t},e.prototype.render=function(){var e,o,i,r,n,s,a;if(this.trHash={},s=[],this.hasOwnRow){e=this.getPrevRow(),o=this.view.tbodyHash;for(a in o)r=o[a],n=t("<tr/>"),this.trHash[a]=n,s.push(n[0]),i="render"+X(a)+"Content",this[i]&&this[i](n),e?e.trHash[a].after(n):r.prepend(n)}return this.trs=t(s).on("click",".fc-expander",kt(this,"toggleExpanded")),this.isRendered=!0},e.prototype.unrender=function(){var e,o,i,r;if(this.isRendered){e=this.trHash;for(i in e)o=e[i],r="unrender"+X(i)+"Content",this[r]&&this[r](o);return this.trHash={},this.trs.remove(),this.trs=t(),this.isRendered=!1,this.isShown=!1,this.hidden()}},e.prototype.recursivelyUnrender=function(){var t,e,o,i,r;for(this.unrender(),i=this.children,r=[],e=0,o=i.length;o>e;e++)t=i[e],r.push(t.recursivelyUnrender());return r},e.prototype.getTr=function(t){return this.trHash[t]},e.prototype.show=function(){var t,e,o,i,r;if(!this.isShown&&(this.isRendered?this.trs.css("display",""):this.render(),this.ensureSegsRendered&&this.ensureSegsRendered(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed(),this.isShown=!0,this.shown(),this.isExpanded)){for(i=this.children,r=[],e=0,o=i.length;o>e;e++)t=i[e],r.push(t.show());return r}},e.prototype.hide=function(){var t,e,o,i,r;if(this.isShown&&(this.isRendered&&this.trs.hide(),this.isShown=!1,this.hidden(),this.isExpanded)){for(i=this.children,r=[],e=0,o=i.length;o>e;e++)t=i[e],r.push(t.hide());return r}},e.prototype.expand=function(){var t,e,o,i;if(!this.isExpanded){for(this.isExpanded=!0,this.indicateExpanded(),this.view.batchRows(),i=this.children,e=0,o=i.length;o>e;e++)t=i[e],t.show();return this.view.unbatchRows(),this.animateExpand()}},e.prototype.collapse=function(){var t,e,o,i;if(this.isExpanded){for(this.isExpanded=!1,this.indicateCollapsed(),this.view.batchRows(),i=this.children,e=0,o=i.length;o>e;e++)t=i[e],t.hide();return this.view.unbatchRows()}},e.prototype.toggleExpanded=function(){return this.isExpanded?this.collapse():this.expand()},e.prototype.indicateExpanded=function(){return this.trs.find(".fc-expander").removeClass(this.getCollapsedIcon()).addClass(this.getExpandedIcon())},e.prototype.indicateCollapsed=function(){return this.trs.find(".fc-expander").removeClass(this.getExpandedIcon()).addClass(this.getCollapsedIcon())},e.prototype.enableExpanding=function(){return this.trs.find(".fc-expander-space").addClass("fc-expander")},e.prototype.disableExpanding=function(){return this.trs.find(".fc-expander-space").removeClass("fc-expander").removeClass(this.getExpandedIcon()).removeClass(this.getCollapsedIcon())},e.prototype.getExpandedIcon=function(){return"fc-icon-down-triangle"},e.prototype.getCollapsedIcon=function(){var t;return t=this.view.isRTL?"left":"right","fc-icon-"+t+"-triangle"},e.prototype.animateExpand=function(){var t,e,o;return o=null!=(t=this.children[0])&&null!=(e=t.getLeadingRow())?e.trs:void 0,o?(o.addClass("fc-collapsed"),setTimeout(function(){return o.addClass("fc-transitioning"),o.removeClass("fc-collapsed")}),o.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return o.removeClass("fc-transitioning")})):void 0},e.prototype.getMaxTrInnerHeight=function(){var e;return e=0,t.each(this.trHash,function(t){return function(t,o){var i;return i=at(o).find("> div:not(.fc-cell-content):first"),e=Math.max(i.height(),e)}}(this)),e},e.prototype.setTrInnerHeight=function(e){return t.each(this.trHash,function(t){return function(t,o){return at(o).find("> div:not(.fc-cell-content):first").height(e)}}(this))},e.prototype.shown=function(){return this.hasOwnRow?this.rowShown(this):void 0},e.prototype.hidden=function(){return this.hasOwnRow?this.rowHidden(this):void 0},e.prototype.rowShown=function(t){return(this.parent||this.view).rowShown(t)},e.prototype.rowHidden=function(t){return(this.parent||this.view).rowHidden(t)},e.prototype.added=function(){return this.hasOwnRow?this.rowAdded(this):void 0},e.prototype.removed=function(){return this.hasOwnRow?this.rowRemoved(this):void 0},e.prototype.rowAdded=function(t){return(this.parent||this.view).rowAdded(t)},e.prototype.rowRemoved=function(t){return(this.parent||this.view).rowRemoved(t)},e}(),j=function(e){function o(t,e,i){this.groupSpec=e,this.groupValue=i,o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.prototype.groupSpec=null,o.prototype.groupValue=null,o.prototype.rowRemoved=function(t){return o.__super__.rowRemoved.apply(this,arguments),t===this||this.children.length?void 0:this.remove()},o.prototype.renderGroupContentEl=function(){var e,o;return e=t('<div class="fc-cell-content" />').append(this.renderGroupTextEl()),o=this.groupSpec.render,"function"==typeof o&&(e=o(e,this.groupValue)||e),e},o.prototype.renderGroupTextEl=function(){var e,o;return o=this.groupValue||"",e=this.groupSpec.text,"function"==typeof e&&(o=e(o)||o),t('<span class="fc-cell-text" />').text(o)},o}(L),f=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.prototype.hasOwnRow=!0,o.prototype.renderSpreadsheetContent=function(e){var o;return o=this.renderGroupContentEl(),o.prepend('<span class="fc-icon fc-expander" />'),t('<td class="fc-divider" />').attr("colspan",this.view.colSpecs.length).append(t("<div/>").append(o)).appendTo(e)},o.prototype.renderEventContent=function(t){return t.append('<td class="fc-divider"> <div/> </td>')},o}(j),W=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.prototype.rowspan=0,o.prototype.leadingTr=null,o.prototype.groupTd=null,o.prototype.rowShown=function(t){return this.rowspan+=1,this.renderRowspan(),o.__super__.rowShown.apply(this,arguments)},o.prototype.rowHidden=function(t){return this.rowspan-=1,this.renderRowspan(),o.__super__.rowHidden.apply(this,arguments)},o.prototype.renderRowspan=function(){var e;return this.rowspan?(this.groupTd||(this.groupTd=t('<td class="'+this.view.widgetContentClass+'"/>').append(this.renderGroupContentEl())),this.groupTd.attr("rowspan",this.rowspan),e=this.getLeadingRow().getTr("spreadsheet"),e!==this.leadingTr?(e&&e.prepend(this.groupTd),this.leadingTr=e):void 0):(this.groupTd&&(this.groupTd.remove(),this.groupTd=null),this.leadingTr=null)},o}(j),h=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gt(e,t),e.prototype.hasOwnRow=!0,e.prototype.segContainerEl=null,e.prototype.segContainerHeight=null,e.prototype.innerEl=null,e.prototype.bgSegContainerEl=null,e.prototype.isSegsRendered=!1,e.prototype.bgSegs=null,e.prototype.fgSegs=null,e.prototype.renderEventContent=function(t){return t.html('<td class="'+this.view.widgetContentClass+'"> <div> <div class="fc-event-container" /> </div> </td>'),this.segContainerEl=t.find(".fc-event-container"),this.innerEl=this.bgSegContainerEl=t.find("td > div"),this.ensureSegsRendered()},e.prototype.ensureSegsRendered=function(){return this.isSegsRendered?void 0:(this.bgSegs&&this.view.timeGrid.renderFillInContainer("bgEvent",this,this.bgSegs),this.fgSegs&&this.view.timeGrid.renderFgSegsInContainers([[this,this.fgSegs]]),this.isSegsRendered=!0)},e.prototype.unrenderEventContent=function(){return this.bgSegs=null,this.fgSegs=null,this.isSegsRendered=!1},e}(L),D=function(e){function o(t,e){this.resource=e,o.__super__.constructor.apply(this,arguments)}return Gt(o,e),o.prototype.resource=null,o.prototype.rowAdded=function(t){return o.__super__.rowAdded.apply(this,arguments),t!==this&&this.isRendered&&1===this.children.length?(this.enableExpanding(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed()):void 0},o.prototype.rowRemoved=function(t){return o.__super__.rowRemoved.apply(this,arguments),t!==this&&this.isRendered&&!this.children.length?this.disableExpanding():void 0},o.prototype.render=function(){return o.__super__.render.apply(this,arguments),this.children.length>0?this.enableExpanding():this.disableExpanding(),this.view.trigger("resourceRender",this.resource,this.resource,this.getTr("spreadsheet").find("> td"),this.getTr("event").find("> td"))},o.prototype.renderEventContent=function(t){return o.__super__.renderEventContent.apply(this,arguments),t.attr("data-resource-id",this.resource.id)},o.prototype.renderSpreadsheetContent=function(e){var o,i,r,n,s,a,p,l,h;for(p=this.resource,a=this.view.colSpecs,n=0,s=a.length;s>n;n++)o=a[n],o.group||(r=o.field?p[o.field]||null:p,h="function"==typeof o.text?o.text(p,r):r,i=t('<div class="fc-cell-content">'+(o.isMain?this.renderGutterHtml():"")+'<span class="fc-cell-text">'+(h?dt(h):"&nbsp;")+"</span></div>"),"function"==typeof o.render&&(i=o.render(p,i,r)||i),l=t('<td class="'+this.view.widgetContentClass+'"/>').append(i),o.isMain&&l.wrapInner("<div/>"),e.append(l));return e.attr("data-resource-id",p.id)},o.prototype.renderGutterHtml=function(){var t,e,o,i;for(t="",e=o=0,i=this.depth;i>o;e=o+=1)t+='<span class="fc-icon"/>';return t+='<span class="fc-icon fc-expander-space"/>'},o}(h),u.views.timeline.resourceClass=I,S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gt(e,t),e.mixin(A),e.prototype.timeGridClass=P,e.prototype.dayGridClass=E,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.timeGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.timeGrid.setResources(t),this.dayGrid&&this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.timeGrid.unsetResources(),this.dayGrid&&this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(u.AgendaView),u.views.agenda.queryResourceClass=function(t){var e;return(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))?S:void 0},x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gt(e,t),e.mixin(A),e.prototype.dayGridClass=E,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(u.BasicView),R=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Gt(e,t),e.mixin(A),e.prototype.dayGridClass=E,e.prototype.renderHead=function(){return e.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},e.prototype.setResources=function(t){return this.dayGrid.setResources(t),this.clearView(),this.displayView()},e.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},e}(u.MonthView),u.views.basic.queryResourceClass=function(t){var e;return(null!=(e=t.options.groupByResource||t.options.groupByDateAndResource)?e:1===t.duration.as("days"))?x:void 0},u.views.month.queryResourceClass=function(t){return t.options.groupByResource||t.options.groupByDateAndResource?R:void 0},w="2016-02-18",U={years:1,weeks:1},d="http://fullcalendar.io/scheduler/license/",b=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Pt=function(t,e){return vt(window.location.href)||bt(t)||ot(e)?void 0:It('Please use a valid license key. <a href="'+d+'">More Info</a>',e)},bt=function(o){var i,r,n,s;return-1!==t.inArray(o,b)?!0:(r=(o||"").match(/^(\d+)\-fcs\-(\d+)$/),r&&10===r[1].length&&(n=e.utc(1e3*parseInt(r[2])),s=e.utc(u.mockSchedulerReleaseDate||w),s.isValid()&&(i=s.clone().subtract(U),n.isAfter(i)))?!0:!1)},vt=function(t){return Boolean(t.match(/\w+\:\/\/fullcalendar\.io\/|\/demos\/[\w-]+\.html$/))},It=function(e,o){return o.append(t('<div class="fc-license-message" />').html(e))},void(ot=function(t){return t.find(".fc-license-message").length>=1}))}),function(){this.Gws_Popup=function(){function t(){}return t.init=null,t.render=function(t,e){var o;return this.init||(this.init=!0,$(window).resize(function(){return $(".gws-popup").remove()}),$(document).click(function(t){return $(t.target).closest(".gws-popup, .gws-popup-event").length?void 0:$(".gws-popup").remove()})),$(".gws-popup").remove(),o=$("<div class='gws-popup'></div>").html($(e)),$("body").append(o),t.addClass("gws-popup-event"),this.renderPopup(t)},t.renderPopup=function(t){var e,o,i;return e=$(".gws-popup"),$(window).width()<1.5*e.outerWidth()&&e.css("max-width",$(window).width()/2),o=t.offset().left+t.outerWidth()/2-e.outerWidth()/2,i=t.offset().top-e.outerHeight()-20,0>o?(o=t.offset().left+t.outerWidth()/2-20,e.addClass("left")):e.removeClass("left"),o+e.outerWidth()>$(window).width()?(o=t.offset().left-e.outerWidth()+t.outerWidth()/2+20,e.addClass("right")):e.removeClass("right"),0>i?(i=t.offset().top+t.outerHeight(),e.addClass("top")):e.removeClass("top"),e.css({left:o,top:i}).animate({top:"+=10",opacity:1},50)},t}()}.call(this),function(){this.Gws_Member=function(){function t(){}return t.groups=null,t.users=null,t.render=function(){return $(".js-copy-groups").length<2&&($(".js-copy-groups").remove(),$(".js-paste-groups").remove()),$(".js-copy-groups").click(function(){return t.copyGroups($(this))}),$(".js-paste-groups").click(function(){return t.pasteGroups($(this))}),$(".js-copy-users").length<2&&($(".js-copy-users").remove(),$(".js-paste-users").remove()),$(".js-copy-users").click(function(){return t.copyUsers($(this))}),$(".js-paste-users").click(function(){return t.pasteUsers($(this))})},t.confirmReadableSetting=function(){return $(".save").on("click",function(){return 0===$(".gws-addon-readable-setting tbody tr").length?confirm("\u95b2\u89a7\u8005\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\u5168\u54e1\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"):void 0})},t.copyGroups=function(t){return this.groups=t.closest("dl").find("tbody tr").clone(!0),this.showLog(t,this.groups.length+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteGroups=function(t){var e;return e=this.pasteItems(t,this.groups),this.showLog(t,e+"\u4ef6\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},t.copyUsers=function(t){return this.users=t.closest("dl").find("tbody tr").clone(!0),this.showLog(t,this.users.length+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteUsers=function(t){var e;return e=this.pasteItems(t,this.users),this.showLog(t,e+"\u4ef6\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002"),!1},t.pasteItems=function(t,e){var o,i,r,n;return e&&0!==e.length?(o=t.closest("dl"),o.find("table").show(),n=o.find("tbody"),i=o.find(".hidden-ids").attr("name"),r=0,e.each(function(){var t;return 0===n.find("tr[data-id="+$(this).data("id")+"]").length?(t=$(this).clone(!0),t.find("input").attr("name",i),n.append(t),r+=1):void 0}),r):0},t.showLog=function(t,e){return $(".gws-member-log").remove(),$("<span class='gws-member-log'>"+e+"</span>").appendTo(t.parent()).hide().fadeIn(200)},t}()}.call(this),function(){this.Gws_Reminder=function(){function t(){}return t.renderAddon=function(t){var e,o;return null==t&&(t={}),e=$(".gws-addon-reminder"),o={data:{item:{item_id:e.find("#item_id").val(),model:e.find("#item_model").val(),name:e.find("#item_name").val()}},beforeSend:function(t){return $(".gws-addon-reminder-label").html("")},success:function(t){return $(".gws-addon-reminder-label").html(t)},error:function(t){return alert("Error")}},$.extend(!0,o,t),$("#gws-addon-reminder-set").click(function(){var t;return t={method:"post"},$.extend(!0,t,o),t.data.item.date=e.find("#item_date").val(),$.ajax(t)}),$("#gws-addon-reminder-unset").click(function(){var t;return t={method:"post"},$.extend(!0,t,o),t.data._method="delete",$.ajax(t)})},t.renderList=function(t){var e;return null==t&&(t={}),this.noticeTimer=null,e=function(t,e){switch(e){case"updating":return t.find(".updated").hide(),this.noticeTimer&&clearTimeout(this.noticeTimer),$("#notice").hide();case"updated":return t.find(".updated").show(),this.noticeTimer=SS.notice("\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002");default:return t.find(".updated").hide()}},$(".list-item").each(function(){return $(this).find(".links").append('<a class="restore" href="#" style="display: none;">\u5143\u306b\u623b\u3059</a>')}),$(".list-item .delete").click(function(){var e;return e=$(this).closest(".list-item"),$.ajax({url:t.url,method:"post",data:{_method:"delete",item:{item_id:e.data("id"),model:e.data("model"),name:e.data("name"),date:e.data("date")}},success:function(t){return e.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").hide(),e.find(".restore").show(),e.find(".notification").hide(),!1},error:function(t){return alert("Error")}})}),$(".list-item .restore").click(function(){var e;return e=$(this).closest(".list-item"),$.ajax({url:t.url,method:"post",data:{item:{item_id:e.data("id"),model:e.data("model"),name:e.data("name"),date:e.data("date")}},success:function(t){return e.toggleClass("gws-list-item--deleted").find(".check, .meta, .delete").show(),e.find(".restore").hide(),e.find(".notification")[0]&&(e.find(".notification")[0].selectedIndex=0),e.find(".notification").show(),!1},error:function(t){return alert("Error")}})}),$(".list-item .notification").change(function(){var o,i,r;return i=$(this).closest(".list-item"),o=this.selectedIndex,r=this.options[o].value,e(i,"updating"),$.ajax({url:t.url+"/notifications",method:"post",data:{item:{item_id:i.data("id"),model:i.data("model"),in_notify_before:r}},success:function(t){return e(i,"updated"),!1},error:function(t){return e(i,"none"),alert("Error")}})})},t}()}.call(this),function(){this.Gws_Schedule_View=function(){function t(){}return t.getCalendar=function(){var t;return t=$("#calendar-controller"),0===t.length&&(t=$("#calendar")),t.fullCalendar("getView").calendar?t:null},t.getCalendarDate=function(){var e;return e=t.getCalendar(),e?e.fullCalendar("getDate").format("YYYY-MM-DD"):null},t.renderTabs=function(e){return $(e).find("a").click(function(){var e,o;return(e=t.getCalendarDate())?(o=$(this).attr("href"),o=o.replace(/(\?.*)?$/,"?calendar[date]="+e),$(this).attr("href",o),!0):!0})},t.renderSideCalendars=function(e){return $(e).find(".fc-toolbar h2").click(function(){var e,o;return o="gws-schedule-tool-calendars",e=t.getCalendarDate(),e=$.fullCalendar.moment(e),$("."+o).is(":hidden")&&$("."+o).remove(),0===$("."+o).length&&t.crenderSideCalendars(o,e),$("."+o).animate({width:"toggle"},"fast")})},t.crenderSideCalendars=function(t,e){var o,i,r;for(o="<div class='"+t+"'><div class='xdsoft_datetimepicker controller'><button type='button' class='xdsoft_prev' /><button type='button' class='xdsoft_next' /></div></div>",$(".gws-schedule-box .calendar:first").before(o),i=r=0;3>=r;i=++r)i>0&&e.add(1,"months"),$("."+t).append("<div class='"+t+"-cal"+i+"'></div>"),$("."+t+"-cal"+i).datetimepicker({timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,scrollMonth:!1,inline:!0,defaultDate:e.format("YYYY-MM-DD"),defaultSelect:!1,todayButton:!1,onGenerate:function(t,e){return $(this).find(".xdsoft_today").removeClass("xdsoft_today"),$(this).find(".xdsoft_current").removeClass("xdsoft_current")},onSelectDate:function(t,o){return e=sprintf("%d-%02d-%02d",t.getFullYear(),t.getMonth()+1,t.getDate()),$(".calendar").fullCalendar("gotoDate",e)}});return $("."+t).find(".xdsoft_month, .xdsoft_year").unbind("mousedown").find("i").remove(),$("."+t+" .xdsoft_datetimepicker").not(".controller.controller").find(".xdsoft_prev, .xdsoft_next").hide(),$("."+t+" .controller .xdsoft_prev").mousedown(function(){var e,o;for(o=[],i=e=1;4>=e;i=++e)o.push($("."+t+" .xdsoft_prev").not(this).mousedown().mouseup());return o}),$("."+t+" .controller .xdsoft_next").mousedown(function(){var e,o;for(o=[],i=e=1;4>=e;i=++e)o.push($("."+t+" .xdsoft_next").not(this).mousedown().mouseup());return o})},t}()}.call(this),function(){this.Gws_Schedule_Calendar=function(){function t(){}return t.messages={noPlan:"\u4e88\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093"},t.render=function(t,e,o){var i;return null==e&&(e={}),null==o&&(o={}),i=this.defaultParams(e),e.restUrl&&$.extend(!0,i,this.editableParams(e)),e.restUrl&&$.extend(!0,i,this.tapMenuParams(e)),$.extend(!0,i,e),$(t).fullCalendar(i),this.renderInitialize(t,o)},t.renderInitialize=function(t,e){return null==e&&(e={}),e.view&&$(t).fullCalendar("changeView",e.view),e.date&&$(t).fullCalendar("gotoDate",e.date),Gws_Schedule_View.renderSideCalendars(t)},t.defaultParams=function(t){return{buttonText:{listMonth:"\u30ea\u30b9\u30c8"},columnFormat:{month:"ddd",week:"M/D [(]ddd[)]",day:"M/D [(]ddd[)]"},contentHeight:"auto",displayEventEnd:{basicWeek:!0},endParam:"s[end]",fixedWeekCount:!1,header:{left:"today prev next title",right:"month basicWeek agendaDay listMonth"},lang:"ja",nextDayThreshold:"00:00:00",schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",slotLabelFormat:"HH:mm",startParam:"s[start]",timeFormat:"HH:mm",titleFormat:{month:"YYYY\u5e74 M\u6708",week:"(YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09)",day:"YYYY\u5e74 M\u6708 D\u65e5\uff08ddd\uff09"},loading:function(t,e){return t?$(this).find(".fc-widget-content").eq(0).prepend('<span class="fc-loading">\u8aad\u307f\u8fbc\u307f\u4e2d</span>'):$(this).find(".fc-loading").remove()}}},t.tapMenuParams=function(t){var e;return e=t.restUrl,{dayClick:function(o,i,r){var n,s,a;return t.tapMenu?(s=new Date,a=o.format()+"T"+s.getHours()+":00:00",n="<a href='"+e+"/new?start="+a+"' class='add-plan'>\u4e88\u5b9a\u3092\u4f5c\u6210</a>",$("body").append('<div class="tap-menu">'+n+"</div>"),$(".tap-menu").show().css("left",i.pageX-5).css("top",i.pageY-5).show(),$(".tap-menu a").click(function(){var t;return $(this).data("view")?(t=r.calendar.getCalendar(),t.changeView($(this).data("view")),t.gotoDate(o),$(".tap-menu").remove(),!1):void 0}),$(".tap-menu").mouseleave(function(){return $(".tap-menu").remove()})):void 0}}},t.editableParams=function(t){var e;return e=t.restUrl,{editable:!0,eventClick:function(t,o,i){var r;if(!t.noPopup)return r=$(this),Gws_Popup.render(r,"<div class='fc-popup'><span class='fc-loading'>\u8aad\u307f\u8fbc\u307f\u4e2d</span></div>"),$.ajax({url:e+"/"+t.id+"/popup",success:function(t){return $(".fc-popup").html(t),Gws_Popup.renderPopup(r)}})},eventDrop:function(t,o,i,r,n,s){var a;return a=null,t.end&&(a=t.end.format()),$.ajax({type:"PUT",url:e+"/"+t.id+".json",data:{item:{api:"drop",api_start:t.start.format(),api_end:a}},success:function(t,e){var o;return o=s.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+o).fullCalendar("refetchEvents")},error:function(t,e,o){return alert(t.responseJSON.join("\n")),i()}})},eventResize:function(t,o,i){return $.ajax({type:"PUT",url:e+"/"+t.id+".json",data:{item:{api:"resize",api_start:t.start.format(),api_end:t.end.format()}},success:function(t,e){var o;return o=view.el.closest(".calendar").attr("id"),$(".calendar.multiple").not("#"+o).fullCalendar("refetchEvents")},error:function(t,e,o){return alert(t.responseJSON.join("\n")),i()}})}}},t}()}.call(this);var FC=$.fullCalendar,View=FC.View;BasicHourView=FC.views.basicHour=FC.BasicView.extend({renderEvents:function(t){this.dayGrid.renderEvents(t),head='<tr><td class="fc-head-container fc-widget-header">',head+='<div class="fc-row fc-widget-header">',head+="<table><thead><tr>";for(i in[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])head+='<th class="fc-day-header fc-widget-header fc-hour-'+i+'">'+i+"</th>";head+="</tr></thead></table>",head+="</div>",head+="</td></tr>",this.el.find(".fc-head").html(head)}}),BasicHourView.eventRender=function(t,e,o){var i=BasicHourView.eventLeftPosition(t,o),r=BasicHourView.eventRightPosition(t,o),n=r-i;1>n&&(n=1),e.find(".fc-time").remove(),e.css({position:"absolute",top:"2px",width:n.toString()+"%","margin-left":i+"%"})},BasicHourView.eventLeftPosition=function(t,e){if(nums=BasicHourView.datesToNum(t.start,e.start),nums[0]<nums[1])return 0;var o=new Date(t.start._i);return.0694*(60*o.getHours()+o.getMinutes())},BasicHourView.eventRightPosition=function(t,e){if(!t.end)return 1;if(nums=BasicHourView.datesToNum(t.end,e.end),nums[0]==nums[1])return 99.5;var o=new Date(t.end._i);return.0694*(60*o.getHours()+o.getMinutes())},BasicHourView.datesToNum=function(t,e){return num1=1e4*t.year()+100*(t.month()+1)+t.date(),num2=1e4*e.year()+100*(e.month()+1)+e.date(),[num1,num2]};var FC=$.fullCalendar,View=FC.View,ListMonthView=FC.ListMonthView=FC.BasicView.extend({renderEvents:function(t){var e=this.calendar,o=$('<div class="fc-listMonth-view-container"></div>').appendTo(".fc-listMonth-view"),i=$('<div class="fc-listMonth-view-table"></div>');for(var r in t){var n=t[r];if(-1==n.className.indexOf("fc-holiday")){var s=$('<a class="fc-event fc-event-point"></a>').text(n.title);s.css({color:n.textColor,"background-color":n.backgroundColor}),s.bind("click",function(o){var i=$(this).data("eventNo");return e.view.trigger("eventClick",$(this),t[i],o)}).data("eventNo",r);var a=$('<div class="td info"></div>').append(s),p=$('<div class="td date"></div>').text(n.startDateLabel),l=$('<div class="td time"></div>').text(n.startTimeLabel);n.allDay&&l.text(n.allDayLabel),$('<div class="tr"></div>').appendTo(i).append(p).append(l).append(a),i.appendTo(o)}}if(0==$(".fc-event").length){var h=$('<div class="td">'+Gws_Schedule_Calendar.messages.noPlan+"</div>");$('<div class="tr"></div>').appendTo(i).append(h),i.appendTo(o)}}});FC.views.listMonth={"class":ListMonthView,duration:{months:1},defaults:{fixedWeekCount:!1}},function(){this.Gws_Schedule_Multiple_Calendar=function(){function t(){}return t.render=function(t,e,o){var i;return null==e&&(e={}),null==o&&(o={}),i=Gws_Schedule_Calendar.defaultParams(e),e.restUrl&&$.extend(!0,i,Gws_Schedule_Calendar.editableParams(e)),e.restUrl&&$.extend(!0,i,Gws_Schedule_Calendar.tapMenuParams(e)),$.extend(!0,i,this.defaultParams(e)),$.extend(!0,i,this.contentParams(e)),$.extend(!0,i,e),$(t).fullCalendar(i),Gws_Schedule_Calendar.renderInitialize(t,o),$(document).click(function(t){return $(".fc-event").not($(t.target).closest(".fc-event")).find(".fc-popup").remove()})},t.defaultParams=function(t){return{defaultView:"basicWeek",header:{left:"today prev next title",right:"basicWeek timelineDay"},slotDuration:"01:00",slotLabelFormat:"H",views:{basicHour:{type:"day",buttonText:"\u65e5",contentHeight:25},timelineDay:{contentHeight:25,minTime:"08:00",maxTime:"22:00"}}}},t.controllerParams=function(t){return{header:{left:"today prev next title",right:"basicWeek timelineDay"},eventSources:[],eventAfterAllRender:function(t){return"basicWeek"===t.name?t.el.find(".fc-body").hide():void 0}}},t.contentParams=function(t){return{eventRender:function(t,e,o){return"basicHour"===o.name?BasicHourView.eventRender(t,e,o):void 0},eventAfterAllRender:function(t){}}},t.renderController=function(t,e,o){var i,r;return null==e&&(e={}),null==o&&(o={}),r=Gws_Schedule_Calendar.defaultParams(e),$.extend(!0,r,this.defaultParams(e)),$.extend(!0,r,this.controllerParams(e)),$.extend(!0,r,e),$(t).fullCalendar(r),Gws_Schedule_Calendar.renderInitialize(t,o),i=$(t),i.find(".fc-today-button").click(function(){return $(".calendar.multiple .fc-today-button").click()}),i.find(".fc-prev-button").click(function(){return $(".calendar.multiple .fc-prev-button").click()}),i.find(".fc-next-button").click(function(){return $(".calendar.multiple .fc-next-button").click()}),i.find(".fc-basicWeek-button").click(function(){
return $(".calendar.multiple .fc-basicWeek-button").click()}),i.find(".fc-timelineDay-button").click(function(){return $(".calendar.multiple .fc-timelineDay-button").click()}),i.find(".fc-basicHour-button").click(function(){return $(".calendar.multiple .fc-basicHour-button").click()})},t}()}.call(this),function(){this.Gws_Schedule_Plan=function(){function t(){}return t.diffOn=36e5,t.renderForm=function(t){return null==t&&(t={}),$("input.date").datetimepicker({lang:"ja",timepicker:!1,format:"Y/m/d",closeOnDateSelect:!0,scrollInput:!1,maxDate:t.maxDate}),$("input.datetime").datetimepicker({lang:"ja",roundTime:"ceil",step:30,maxDate:t.maxDate}),this.relateDateForm(),this.relateDateTimeForm()},t.renderAlldayForm=function(){return this.changeDateForm(),$("#item_allday").change(function(){return t.changeDateValue(),t.changeDateForm()})},t.changeDateValue=function(){var t,e;return $("#item_allday").prop("checked")?($("#item_start_on").val($("#item_start_at").val().replace(/ .*/,"")),$("#item_end_on").val($("#item_end_at").val().replace(/ .*/,""))):(e=$("#item_start_at").val().replace(/.* /,""),t=$("#item_end_at").val().replace(/.* /,""),""===e&&""!==$("#item_start_on").val()&&(e="00:00"),""===t&&""!==$("#item_end_on").val()&&(t="00:00"),$("#item_start_at").val($("#item_start_on").val()+(" "+e)),$("#item_end_at").val($("#item_end_on").val()+(" "+t)))},t.changeDateForm=function(){return $("#item_allday").prop("checked")?($(".dates-field").show(),$(".datetimes-field").hide()):($(".dates-field").hide(),$(".datetimes-field").show())},t.relateDateForm=function(e,o){return null==e&&(e=".date.start"),null==o&&(o=".date.end"),$(e+", "+o).click(function(){return t.diffOn=t.diffDates($(e).val(),$(o).val())}),$(e).change(function(){var i,r,n;return n=$(e).val(),n&&(n=new Date(n).getTime(),!isNaN(n))?(i=new Date,i.setTime(n+t.diffOn),r="%d/%02d/%02d",$(e).hasClass("datetime")&&(r="%d/%02d/%02d %02d:%02d"),$(o).val(sprintf(r,i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()))):void 0}),""===$(o).val()?$(e).change():void 0},t.relateDateTimeForm=function(){return this.relateDateForm(".datetime.start",".datetime.end")},t.diffDates=function(t,e){var o;return t&&e?(o=new Date(e).getTime()-new Date(t).getTime(),0>o?0:o):36e5},t}()}.call(this),function(){this.Gws_Schedule_Repeat_Plan=function(){function t(){}return t.renderForm=function(){return this.changeRepeatForm(),this.relateDateForm(),$("#item_repeat_type").change(function(){return t.changeRepeatForm()})},t.changeRepeatForm=function(){var t;return t=$("#item_repeat_type").val(),""===t?$(".gws-schedule-repeat").hide():($(".gws-schedule-repeat").show(),$(".repeat-daily, .repeat-weekly, .repeat-monthly").hide(),$(".repeat-"+t).show())},t.relateDateForm=function(){return Gws_Schedule_Plan.relateDateForm(".date.repeat_start",".date.repeat_end")},t.renderSubmitButtons=function(){var t,e,o,i,r,n;return r=$("#main form"),n='<span class="gws-schedule-btn-space"></span>',t=$('<input type="button" class="btn" value="\u4eca\u56de\u306e\u307f" />'),e=$('<input type="button" class="btn" value="\u4ee5\u964d\u3059\u3079\u3066" />'),o=$('<input type="button" class="btn" value="\u4e00\u9023\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3059\u3079\u3066" />'),t.bind("click",function(){return r.append('<input type="hidden" name="item[edit_range]" value="one" />').submit()}),e.bind("click",function(){return r.append('<input type="hidden" name="item[edit_range]" value="later" />').submit()}),o.bind("click",function(){return r.append('<input type="hidden" name="item[edit_range]" value="all" />').submit()}),i=$('<div class="gws-schedule-repeat-submit"></div>'),i.append(t).append(n).append(e).append(n).append(o),$(".send .save, .send .delete").click(function(){return""!==$("#item_repeat_type").val()?($.colorbox({inline:!0,href:i}),!1):void 0})},t}()}.call(this),function(){$(function(){var t;return $("a[href^=http]").not('[href*="'+location.hostname+'"]').attr({target:"_blank"}),t=location.pathname+"/",$(".gws-schedule-tabs a").each(function(){var e;return e=$(this),t.match(new RegExp("^"+e.attr("href")+"(/|$)"))?e.addClass("current"):void 0}),Gws_Member.render()})}.call(this);